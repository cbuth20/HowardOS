function xO(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in e)){const l=Object.getOwnPropertyDescriptor(a,i);l&&Object.defineProperty(e,i,l.get?l:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function bu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lg={exports:{}},Cc={};var x_;function bO(){if(x_)return Cc;x_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,i,l){var u=null;if(l!==void 0&&(u=""+l),i.key!==void 0&&(u=""+i.key),"key"in i){l={};for(var d in i)d!=="key"&&(l[d]=i[d])}else l=i;return i=l.ref,{$$typeof:e,type:a,key:u,ref:i!==void 0?i:null,props:l}}return Cc.Fragment=t,Cc.jsx=n,Cc.jsxs=n,Cc}var b_;function wO(){return b_||(b_=1,lg.exports=bO()),lg.exports}var o=wO(),cg={exports:{}},Ec={},ug={exports:{}},dg={};var w_;function _O(){return w_||(w_=1,(function(e){function t(R,U){var F=R.length;R.push(U);e:for(;0<F;){var X=F-1>>>1,G=R[X];if(0<i(G,U))R[X]=U,R[F]=G,F=X;else break e}}function n(R){return R.length===0?null:R[0]}function a(R){if(R.length===0)return null;var U=R[0],F=R.pop();if(F!==U){R[0]=F;e:for(var X=0,G=R.length,D=G>>>1;X<D;){var $=2*(X+1)-1,q=R[$],ae=$+1,de=R[ae];if(0>i(q,F))ae<G&&0>i(de,q)?(R[X]=de,R[ae]=F,X=ae):(R[X]=q,R[$]=F,X=$);else if(ae<G&&0>i(de,F))R[X]=de,R[ae]=F,X=ae;else break e}}return U}function i(R,U){var F=R.sortIndex-U.sortIndex;return F!==0?F:R.id-U.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var h=[],m=[],y=1,p=null,b=3,w=!1,S=!1,_=!1,j=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function A(R){for(var U=n(m);U!==null;){if(U.callback===null)a(m);else if(U.startTime<=R)a(m),U.sortIndex=U.expirationTime,t(h,U);else break;U=n(m)}}function L(R){if(_=!1,A(R),!S)if(n(h)!==null)S=!0,P||(P=!0,K());else{var U=n(m);U!==null&&J(L,U.startTime-R)}}var P=!1,T=-1,z=5,Z=-1;function V(){return j?!0:!(e.unstable_now()-Z<z)}function H(){if(j=!1,P){var R=e.unstable_now();Z=R;var U=!0;try{e:{S=!1,_&&(_=!1,E(T),T=-1),w=!0;var F=b;try{t:{for(A(R),p=n(h);p!==null&&!(p.expirationTime>R&&V());){var X=p.callback;if(typeof X=="function"){p.callback=null,b=p.priorityLevel;var G=X(p.expirationTime<=R);if(R=e.unstable_now(),typeof G=="function"){p.callback=G,A(R),U=!0;break t}p===n(h)&&a(h),A(R)}else a(h);p=n(h)}if(p!==null)U=!0;else{var D=n(m);D!==null&&J(L,D.startTime-R),U=!1}}break e}finally{p=null,b=F,w=!1}U=void 0}}finally{U?K():P=!1}}}var K;if(typeof k=="function")K=function(){k(H)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Y=M.port2;M.port1.onmessage=H,K=function(){Y.postMessage(null)}}else K=function(){C(H,0)};function J(R,U){T=C(function(){R(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(R){switch(b){case 1:case 2:case 3:var U=3;break;default:U=b}var F=b;b=U;try{return R()}finally{b=F}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(R,U){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var F=b;b=R;try{return U()}finally{b=F}},e.unstable_scheduleCallback=function(R,U,F){var X=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?X+F:X):F=X,R){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=F+G,R={id:y++,callback:U,priorityLevel:R,startTime:F,expirationTime:G,sortIndex:-1},F>X?(R.sortIndex=F,t(m,R),n(h)===null&&R===n(m)&&(_?(E(T),T=-1):_=!0,J(L,F-X))):(R.sortIndex=G,t(h,R),S||w||(S=!0,P||(P=!0,K()))),R},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(R){var U=b;return function(){var F=b;b=U;try{return R.apply(this,arguments)}finally{b=F}}}})(dg)),dg}var __;function SO(){return __||(__=1,ug.exports=_O()),ug.exports}var fg={exports:{}},Ye={};var S_;function jO(){if(S_)return Ye;S_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),b=Symbol.iterator;function w(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,j={};function C(D,$,q){this.props=D,this.context=$,this.refs=j,this.updater=q||S}C.prototype.isReactComponent={},C.prototype.setState=function(D,$){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,$,"setState")},C.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function E(){}E.prototype=C.prototype;function k(D,$,q){this.props=D,this.context=$,this.refs=j,this.updater=q||S}var A=k.prototype=new E;A.constructor=k,_(A,C.prototype),A.isPureReactComponent=!0;var L=Array.isArray;function P(){}var T={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function Z(D,$,q){var ae=q.ref;return{$$typeof:e,type:D,key:$,ref:ae!==void 0?ae:null,props:q}}function V(D,$){return Z(D.type,$,D.props)}function H(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function K(D){var $={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(q){return $[q]})}var M=/\/+/g;function Y(D,$){return typeof D=="object"&&D!==null&&D.key!=null?K(""+D.key):$.toString(36)}function J(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(P,P):(D.status="pending",D.then(function($){D.status==="pending"&&(D.status="fulfilled",D.value=$)},function($){D.status==="pending"&&(D.status="rejected",D.reason=$)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function R(D,$,q,ae,de){var pe=typeof D;(pe==="undefined"||pe==="boolean")&&(D=null);var ie=!1;if(D===null)ie=!0;else switch(pe){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(D.$$typeof){case e:case t:ie=!0;break;case y:return ie=D._init,R(ie(D._payload),$,q,ae,de)}}if(ie)return de=de(D),ie=ae===""?"."+Y(D,0):ae,L(de)?(q="",ie!=null&&(q=ie.replace(M,"$&/")+"/"),R(de,$,q,"",function(_e){return _e})):de!=null&&(H(de)&&(de=V(de,q+(de.key==null||D&&D.key===de.key?"":(""+de.key).replace(M,"$&/")+"/")+ie)),$.push(de)),1;ie=0;var ge=ae===""?".":ae+":";if(L(D))for(var ke=0;ke<D.length;ke++)ae=D[ke],pe=ge+Y(ae,ke),ie+=R(ae,$,q,pe,de);else if(ke=w(D),typeof ke=="function")for(D=ke.call(D),ke=0;!(ae=D.next()).done;)ae=ae.value,pe=ge+Y(ae,ke++),ie+=R(ae,$,q,pe,de);else if(pe==="object"){if(typeof D.then=="function")return R(J(D),$,q,ae,de);throw $=String(D),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ie}function U(D,$,q){if(D==null)return D;var ae=[],de=0;return R(D,ae,"","",function(pe){return $.call(q,pe,de++)}),ae}function F(D){if(D._status===-1){var $=D._result;$=$(),$.then(function(q){(D._status===0||D._status===-1)&&(D._status=1,D._result=q)},function(q){(D._status===0||D._status===-1)&&(D._status=2,D._result=q)}),D._status===-1&&(D._status=0,D._result=$)}if(D._status===1)return D._result.default;throw D._result}var X=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},G={map:U,forEach:function(D,$,q){U(D,function(){$.apply(this,arguments)},q)},count:function(D){var $=0;return U(D,function(){$++}),$},toArray:function(D){return U(D,function($){return $})||[]},only:function(D){if(!H(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ye.Activity=p,Ye.Children=G,Ye.Component=C,Ye.Fragment=n,Ye.Profiler=i,Ye.PureComponent=k,Ye.StrictMode=a,Ye.Suspense=h,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(D){return T.H.useMemoCache(D)}},Ye.cache=function(D){return function(){return D.apply(null,arguments)}},Ye.cacheSignal=function(){return null},Ye.cloneElement=function(D,$,q){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ae=_({},D.props),de=D.key;if($!=null)for(pe in $.key!==void 0&&(de=""+$.key),$)!z.call($,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&$.ref===void 0||(ae[pe]=$[pe]);var pe=arguments.length-2;if(pe===1)ae.children=q;else if(1<pe){for(var ie=Array(pe),ge=0;ge<pe;ge++)ie[ge]=arguments[ge+2];ae.children=ie}return Z(D.type,de,ae)},Ye.createContext=function(D){return D={$$typeof:u,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:l,_context:D},D},Ye.createElement=function(D,$,q){var ae,de={},pe=null;if($!=null)for(ae in $.key!==void 0&&(pe=""+$.key),$)z.call($,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(de[ae]=$[ae]);var ie=arguments.length-2;if(ie===1)de.children=q;else if(1<ie){for(var ge=Array(ie),ke=0;ke<ie;ke++)ge[ke]=arguments[ke+2];de.children=ge}if(D&&D.defaultProps)for(ae in ie=D.defaultProps,ie)de[ae]===void 0&&(de[ae]=ie[ae]);return Z(D,pe,de)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(D){return{$$typeof:d,render:D}},Ye.isValidElement=H,Ye.lazy=function(D){return{$$typeof:y,_payload:{_status:-1,_result:D},_init:F}},Ye.memo=function(D,$){return{$$typeof:m,type:D,compare:$===void 0?null:$}},Ye.startTransition=function(D){var $=T.T,q={};T.T=q;try{var ae=D(),de=T.S;de!==null&&de(q,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(P,X)}catch(pe){X(pe)}finally{$!==null&&q.types!==null&&($.types=q.types),T.T=$}},Ye.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},Ye.use=function(D){return T.H.use(D)},Ye.useActionState=function(D,$,q){return T.H.useActionState(D,$,q)},Ye.useCallback=function(D,$){return T.H.useCallback(D,$)},Ye.useContext=function(D){return T.H.useContext(D)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(D,$){return T.H.useDeferredValue(D,$)},Ye.useEffect=function(D,$){return T.H.useEffect(D,$)},Ye.useEffectEvent=function(D){return T.H.useEffectEvent(D)},Ye.useId=function(){return T.H.useId()},Ye.useImperativeHandle=function(D,$,q){return T.H.useImperativeHandle(D,$,q)},Ye.useInsertionEffect=function(D,$){return T.H.useInsertionEffect(D,$)},Ye.useLayoutEffect=function(D,$){return T.H.useLayoutEffect(D,$)},Ye.useMemo=function(D,$){return T.H.useMemo(D,$)},Ye.useOptimistic=function(D,$){return T.H.useOptimistic(D,$)},Ye.useReducer=function(D,$,q){return T.H.useReducer(D,$,q)},Ye.useRef=function(D){return T.H.useRef(D)},Ye.useState=function(D){return T.H.useState(D)},Ye.useSyncExternalStore=function(D,$,q){return T.H.useSyncExternalStore(D,$,q)},Ye.useTransition=function(){return T.H.useTransition()},Ye.version="19.2.4",Ye}var j_;function fh(){return j_||(j_=1,fg.exports=jO()),fg.exports}var hg={exports:{}},Qn={};var C_;function CO(){if(C_)return Qn;C_=1;var e=fh();function t(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(h,m,y){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:h,containerInfo:m,implementation:y}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Qn.createPortal=function(h,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(h,m,null,y)},Qn.flushSync=function(h){var m=u.T,y=a.p;try{if(u.T=null,a.p=2,h)return h()}finally{u.T=m,a.p=y,a.d.f()}},Qn.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(h,m))},Qn.prefetchDNS=function(h){typeof h=="string"&&a.d.D(h)},Qn.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var y=m.as,p=d(y,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?a.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:p,integrity:b,fetchPriority:w}):y==="script"&&a.d.X(h,{crossOrigin:p,integrity:b,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Qn.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=d(m.as,m.crossOrigin);a.d.M(h,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(h)},Qn.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,p=d(y,m.crossOrigin);a.d.L(h,y,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Qn.preloadModule=function(h,m){if(typeof h=="string")if(m){var y=d(m.as,m.crossOrigin);a.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(h)},Qn.requestFormReset=function(h){a.d.r(h)},Qn.unstable_batchedUpdates=function(h,m){return h(m)},Qn.useFormState=function(h,m,y){return u.H.useFormState(h,m,y)},Qn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Qn.version="19.2.4",Qn}var E_;function v1(){if(E_)return hg.exports;E_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),hg.exports=CO(),hg.exports}var N_;function EO(){if(N_)return Ec;N_=1;var e=SO(),t=fh(),n=v1();function a(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,c=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(c=s.return),r=s.return;while(r)}return s.tag===3?c:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function h(r){if(l(r)!==r)throw Error(a(188))}function m(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(a(188));return s!==r?null:r}for(var c=r,f=s;;){var v=c.return;if(v===null)break;var x=v.alternate;if(x===null){if(f=v.return,f!==null){c=f;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===c)return h(v),r;if(x===f)return h(v),s;x=x.sibling}throw Error(a(188))}if(c.return!==f.return)c=v,f=x;else{for(var N=!1,O=v.child;O;){if(O===c){N=!0,c=v,f=x;break}if(O===f){N=!0,f=v,c=x;break}O=O.sibling}if(!N){for(O=x.child;O;){if(O===c){N=!0,c=x,f=v;break}if(O===f){N=!0,f=x,c=v;break}O=O.sibling}if(!N)throw Error(a(189))}}if(c.alternate!==f)throw Error(a(190))}if(c.tag!==3)throw Error(a(188));return c.stateNode.current===c?r:s}function y(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=y(r),s!==null)return s;r=r.sibling}return null}var p=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),k=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function K(r){return r===null||typeof r!="object"?null:(r=H&&r[H]||r["@@iterator"],typeof r=="function"?r:null)}var M=Symbol.for("react.client.reference");function Y(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===M?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case _:return"Fragment";case C:return"Profiler";case j:return"StrictMode";case L:return"Suspense";case P:return"SuspenseList";case Z:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case S:return"Portal";case k:return r.displayName||"Context";case E:return(r._context.displayName||"Context")+".Consumer";case A:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case T:return s=r.displayName||null,s!==null?s:Y(r.type)||"Memo";case z:s=r._payload,r=r._init;try{return Y(r(s))}catch{}}return null}var J=Array.isArray,R=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},X=[],G=-1;function D(r){return{current:r}}function $(r){0>G||(r.current=X[G],X[G]=null,G--)}function q(r,s){G++,X[G]=r.current,r.current=s}var ae=D(null),de=D(null),pe=D(null),ie=D(null);function ge(r,s){switch(q(pe,s),q(de,r),q(ae,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?B0(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=B0(s),r=q0(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}$(ae),q(ae,r)}function ke(){$(ae),$(de),$(pe)}function _e(r){r.memoizedState!==null&&q(ie,r);var s=ae.current,c=q0(s,r.type);s!==c&&(q(de,r),q(ae,c))}function qe(r){de.current===r&&($(ae),$(de)),ie.current===r&&($(ie),wc._currentValue=F)}var Ne,rt;function dt(r){if(Ne===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);Ne=s&&s[1]||"",rt=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ne+r+rt}var mn=!1;function Mt(r,s){if(!r||mn)return"";mn=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(oe){var se=oe}Reflect.construct(r,[],fe)}else{try{fe.call()}catch(oe){se=oe}r.call(fe.prototype)}}else{try{throw Error()}catch(oe){se=oe}(fe=r())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(oe){if(oe&&se&&typeof oe.stack=="string")return[oe.stack,se.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=f.DetermineComponentFrameRoot(),N=x[0],O=x[1];if(N&&O){var B=N.split(`
`),ne=O.split(`
`);for(v=f=0;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;for(;v<ne.length&&!ne[v].includes("DetermineComponentFrameRoot");)v++;if(f===B.length||v===ne.length)for(f=B.length-1,v=ne.length-1;1<=f&&0<=v&&B[f]!==ne[v];)v--;for(;1<=f&&0<=v;f--,v--)if(B[f]!==ne[v]){if(f!==1||v!==1)do if(f--,v--,0>v||B[f]!==ne[v]){var le=`
`+B[f].replace(" at new "," at ");return r.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",r.displayName)),le}while(1<=f&&0<=v);break}}}finally{mn=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?dt(c):""}function En(r,s){switch(r.tag){case 26:case 27:case 5:return dt(r.type);case 16:return dt("Lazy");case 13:return r.child!==s&&s!==null?dt("Suspense Fallback"):dt("Suspense");case 19:return dt("SuspenseList");case 0:case 15:return Mt(r.type,!1);case 11:return Mt(r.type.render,!1);case 1:return Mt(r.type,!0);case 31:return dt("Activity");default:return""}}function In(r){try{var s="",c=null;do s+=En(r,c),c=r,r=r.return;while(r);return s}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Jt=Object.prototype.hasOwnProperty,pn=e.unstable_scheduleCallback,$n=e.unstable_cancelCallback,Zt=e.unstable_shouldYield,Zn=e.unstable_requestPaint,Pt=e.unstable_now,xe=e.unstable_getCurrentPriorityLevel,Ae=e.unstable_ImmediatePriority,Je=e.unstable_UserBlockingPriority,Ge=e.unstable_NormalPriority,Ze=e.unstable_LowPriority,Ht=e.unstable_IdlePriority,Gt=e.log,Nn=e.unstable_setDisableYieldValue,er=null,Nt=null;function an(r){if(typeof Gt=="function"&&Nn(r),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(er,r)}catch{}}var Vt=Math.clz32?Math.clz32:kn,Ir=Math.log,or=Math.LN2;function kn(r){return r>>>=0,r===0?32:31-(Ir(r)/or|0)|0}var tr=256,aa=262144,Lt=4194304;function Kt(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Pe(r,s,c){var f=r.pendingLanes;if(f===0)return 0;var v=0,x=r.suspendedLanes,N=r.pingedLanes;r=r.warmLanes;var O=f&134217727;return O!==0?(f=O&~x,f!==0?v=Kt(f):(N&=O,N!==0?v=Kt(N):c||(c=O&~r,c!==0&&(v=Kt(c))))):(O=f&~x,O!==0?v=Kt(O):N!==0?v=Kt(N):c||(c=f&~r,c!==0&&(v=Kt(c)))),v===0?0:s!==0&&s!==v&&(s&x)===0&&(x=v&-v,c=s&-s,x>=c||x===32&&(c&4194048)!==0)?s:v}function ft(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function bt(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ht(){var r=Lt;return Lt<<=1,(Lt&62914560)===0&&(Lt=4194304),r}function en(r){for(var s=[],c=0;31>c;c++)s.push(r);return s}function jt(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function wt(r,s,c,f,v,x){var N=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var O=r.entanglements,B=r.expirationTimes,ne=r.hiddenUpdates;for(c=N&~c;0<c;){var le=31-Vt(c),fe=1<<le;O[le]=0,B[le]=-1;var se=ne[le];if(se!==null)for(ne[le]=null,le=0;le<se.length;le++){var oe=se[le];oe!==null&&(oe.lane&=-536870913)}c&=~fe}f!==0&&Pn(r,f,0),x!==0&&v===0&&r.tag!==0&&(r.suspendedLanes|=x&~(N&~s))}function Pn(r,s,c){r.pendingLanes|=s,r.suspendedLanes&=~s;var f=31-Vt(s);r.entangledLanes|=s,r.entanglements[f]=r.entanglements[f]|1073741824|c&261930}function I(r,s){var c=r.entangledLanes|=s;for(r=r.entanglements;c;){var f=31-Vt(c),v=1<<f;v&s|r[f]&s&&(r[f]|=s),c&=~v}}function Q(r,s){var c=s&-s;return c=(c&42)!==0?1:re(c),(c&(r.suspendedLanes|s))!==0?0:c}function re(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function he(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ye(){var r=U.p;return r!==0?r:(r=window.event,r===void 0?32:f_(r.type))}function Re(r,s){var c=U.p;try{return U.p=r,s()}finally{U.p=c}}var be=Math.random().toString(36).slice(2),we="__reactFiber$"+be,je="__reactProps$"+be,ze="__reactContainer$"+be,Be="__reactEvents$"+be,Ie="__reactListeners$"+be,_t="__reactHandles$"+be,mt="__reactResources$"+be,sn="__reactMarker$"+be;function ln(r){delete r[we],delete r[je],delete r[Be],delete r[Ie],delete r[_t]}function cn(r){var s=r[we];if(s)return s;for(var c=r.parentNode;c;){if(s=c[ze]||c[we]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(r=Q0(r);r!==null;){if(c=r[we])return c;r=Q0(r)}return s}r=c,c=r.parentNode}return null}function pt(r){if(r=r[we]||r[ze]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function Ln(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(a(33))}function lr(r){var s=r[mt];return s||(s=r[mt]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function tn(r){r[sn]=!0}var sa=new Set,_r={};function ia(r,s){$r(r,s),$r(r+"Capture",s)}function $r(r,s){for(_r[r]=s,r=0;r<s.length;r++)sa.add(s[r])}var Va=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mi={},pi={};function gt(r){return Jt.call(pi,r)?!0:Jt.call(mi,r)?!1:Va.test(r)?pi[r]=!0:(mi[r]=!0,!1)}function gn(r,s,c){if(gt(s))if(c===null)r.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+c)}}function oa(r,s,c){if(c===null)r.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+c)}}function Fn(r,s,c,f){if(f===null)r.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(s,c,""+f)}}function vt(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function gi(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Fu(r,s,c){var f=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var v=f.get,x=f.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return v.call(this)},set:function(N){c=""+N,x.call(this,N)}}),Object.defineProperty(r,s,{enumerable:f.enumerable}),{getValue:function(){return c},setValue:function(N){c=""+N},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function zl(r){if(!r._valueTracker){var s=gi(r)?"checked":"value";r._valueTracker=Fu(r,s,""+r[s])}}function Px(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var c=s.getValue(),f="";return r&&(f=gi(r)?r.checked?"true":"false":r.value),r=f,r!==c?(s.setValue(r),!0):!1}function Bu(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var h2=/[\n"\\]/g;function Fr(r){return r.replace(h2,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function nm(r,s,c,f,v,x,N,O){r.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?r.type=N:r.removeAttribute("type"),s!=null?N==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+vt(s)):r.value!==""+vt(s)&&(r.value=""+vt(s)):N!=="submit"&&N!=="reset"||r.removeAttribute("value"),s!=null?rm(r,N,vt(s)):c!=null?rm(r,N,vt(c)):f!=null&&r.removeAttribute("value"),v==null&&x!=null&&(r.defaultChecked=!!x),v!=null&&(r.checked=v&&typeof v!="function"&&typeof v!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?r.name=""+vt(O):r.removeAttribute("name")}function Lx(r,s,c,f,v,x,N,O){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.type=x),s!=null||c!=null){if(!(x!=="submit"&&x!=="reset"||s!=null)){zl(r);return}c=c!=null?""+vt(c):"",s=s!=null?""+vt(s):c,O||s===r.value||(r.value=s),r.defaultValue=s}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=O?r.checked:!!f,r.defaultChecked=!!f,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(r.name=N),zl(r)}function rm(r,s,c){s==="number"&&Bu(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function uo(r,s,c,f){if(r=r.options,s){s={};for(var v=0;v<c.length;v++)s["$"+c[v]]=!0;for(c=0;c<r.length;c++)v=s.hasOwnProperty("$"+r[c].value),r[c].selected!==v&&(r[c].selected=v),v&&f&&(r[c].defaultSelected=!0)}else{for(c=""+vt(c),s=null,v=0;v<r.length;v++){if(r[v].value===c){r[v].selected=!0,f&&(r[v].defaultSelected=!0);return}s!==null||r[v].disabled||(s=r[v])}s!==null&&(s.selected=!0)}}function zx(r,s,c){if(s!=null&&(s=""+vt(s),s!==r.value&&(r.value=s),c==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=c!=null?""+vt(c):""}function Ux(r,s,c,f){if(s==null){if(f!=null){if(c!=null)throw Error(a(92));if(J(f)){if(1<f.length)throw Error(a(93));f=f[0]}c=f}c==null&&(c=""),s=c}c=vt(s),r.defaultValue=c,f=r.textContent,f===c&&f!==""&&f!==null&&(r.value=f),zl(r)}function fo(r,s){if(s){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=s;return}}r.textContent=s}var m2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ix(r,s,c){var f=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":f?r.setProperty(s,c):typeof c!="number"||c===0||m2.has(s)?s==="float"?r.cssFloat=c:r[s]=(""+c).trim():r[s]=c+"px"}function $x(r,s,c){if(s!=null&&typeof s!="object")throw Error(a(62));if(r=r.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var v in s)f=s[v],s.hasOwnProperty(v)&&c[v]!==f&&Ix(r,v,f)}else for(var x in s)s.hasOwnProperty(x)&&Ix(r,x,s[x])}function am(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var p2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),g2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qu(r){return g2.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Ka(){}var sm=null;function im(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ho=null,mo=null;function Fx(r){var s=pt(r);if(s&&(r=s.stateNode)){var c=r[je]||null;e:switch(r=s.stateNode,s.type){case"input":if(nm(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Fr(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var f=c[s];if(f!==r&&f.form===r.form){var v=f[je]||null;if(!v)throw Error(a(90));nm(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(s=0;s<c.length;s++)f=c[s],f.form===r.form&&Px(f)}break e;case"textarea":zx(r,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&uo(r,!!c.multiple,s,!1)}}}var om=!1;function Bx(r,s,c){if(om)return r(s,c);om=!0;try{var f=r(s);return f}finally{if(om=!1,(ho!==null||mo!==null)&&(Td(),ho&&(s=ho,r=mo,mo=ho=null,Fx(s),r)))for(s=0;s<r.length;s++)Fx(r[s])}}function Ul(r,s){var c=r.stateNode;if(c===null)return null;var f=c[je]||null;if(f===null)return null;c=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(a(231,s,typeof c));return c}var Wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lm=!1;if(Wa)try{var Il={};Object.defineProperty(Il,"passive",{get:function(){lm=!0}}),window.addEventListener("test",Il,Il),window.removeEventListener("test",Il,Il)}catch{lm=!1}var bs=null,cm=null,Hu=null;function qx(){if(Hu)return Hu;var r,s=cm,c=s.length,f,v="value"in bs?bs.value:bs.textContent,x=v.length;for(r=0;r<c&&s[r]===v[r];r++);var N=c-r;for(f=1;f<=N&&s[c-f]===v[x-f];f++);return Hu=v.slice(r,1<f?1-f:void 0)}function Vu(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Ku(){return!0}function Hx(){return!1}function cr(r){function s(c,f,v,x,N){this._reactName=c,this._targetInst=v,this.type=f,this.nativeEvent=x,this.target=N,this.currentTarget=null;for(var O in r)r.hasOwnProperty(O)&&(c=r[O],this[O]=c?c(x):x[O]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Ku:Hx,this.isPropagationStopped=Hx,this}return p(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ku)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ku)},persist:function(){},isPersistent:Ku}),s}var vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wu=cr(vi),$l=p({},vi,{view:0,detail:0}),v2=cr($l),um,dm,Fl,Gu=p({},$l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hm,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Fl&&(Fl&&r.type==="mousemove"?(um=r.screenX-Fl.screenX,dm=r.screenY-Fl.screenY):dm=um=0,Fl=r),um)},movementY:function(r){return"movementY"in r?r.movementY:dm}}),Vx=cr(Gu),y2=p({},Gu,{dataTransfer:0}),x2=cr(y2),b2=p({},$l,{relatedTarget:0}),fm=cr(b2),w2=p({},vi,{animationName:0,elapsedTime:0,pseudoElement:0}),_2=cr(w2),S2=p({},vi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),j2=cr(S2),C2=p({},vi,{data:0}),Kx=cr(C2),E2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},k2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R2(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=k2[r])?!!s[r]:!1}function hm(){return R2}var T2=p({},$l,{key:function(r){if(r.key){var s=E2[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Vu(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?N2[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hm,charCode:function(r){return r.type==="keypress"?Vu(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Vu(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),A2=cr(T2),O2=p({},Gu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wx=cr(O2),D2=p({},$l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hm}),M2=cr(D2),P2=p({},vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),L2=cr(P2),z2=p({},Gu,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),U2=cr(z2),I2=p({},vi,{newState:0,oldState:0}),$2=cr(I2),F2=[9,13,27,32],mm=Wa&&"CompositionEvent"in window,Bl=null;Wa&&"documentMode"in document&&(Bl=document.documentMode);var B2=Wa&&"TextEvent"in window&&!Bl,Gx=Wa&&(!mm||Bl&&8<Bl&&11>=Bl),Yx=" ",Qx=!1;function Xx(r,s){switch(r){case"keyup":return F2.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jx(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var po=!1;function q2(r,s){switch(r){case"compositionend":return Jx(s);case"keypress":return s.which!==32?null:(Qx=!0,Yx);case"textInput":return r=s.data,r===Yx&&Qx?null:r;default:return null}}function H2(r,s){if(po)return r==="compositionend"||!mm&&Xx(r,s)?(r=qx(),Hu=cm=bs=null,po=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Gx&&s.locale!=="ko"?null:s.data;default:return null}}var V2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zx(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!V2[r.type]:s==="textarea"}function eb(r,s,c,f){ho?mo?mo.push(f):mo=[f]:ho=f,s=zd(s,"onChange"),0<s.length&&(c=new Wu("onChange","change",null,c,f),r.push({event:c,listeners:s}))}var ql=null,Hl=null;function K2(r){L0(r,0)}function Yu(r){var s=Ln(r);if(Px(s))return r}function tb(r,s){if(r==="change")return s}var nb=!1;if(Wa){var pm;if(Wa){var gm="oninput"in document;if(!gm){var rb=document.createElement("div");rb.setAttribute("oninput","return;"),gm=typeof rb.oninput=="function"}pm=gm}else pm=!1;nb=pm&&(!document.documentMode||9<document.documentMode)}function ab(){ql&&(ql.detachEvent("onpropertychange",sb),Hl=ql=null)}function sb(r){if(r.propertyName==="value"&&Yu(Hl)){var s=[];eb(s,Hl,r,im(r)),Bx(K2,s)}}function W2(r,s,c){r==="focusin"?(ab(),ql=s,Hl=c,ql.attachEvent("onpropertychange",sb)):r==="focusout"&&ab()}function G2(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Yu(Hl)}function Y2(r,s){if(r==="click")return Yu(s)}function Q2(r,s){if(r==="input"||r==="change")return Yu(s)}function X2(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Sr=typeof Object.is=="function"?Object.is:X2;function Vl(r,s){if(Sr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var c=Object.keys(r),f=Object.keys(s);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var v=c[f];if(!Jt.call(s,v)||!Sr(r[v],s[v]))return!1}return!0}function ib(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function ob(r,s){var c=ib(r);r=0;for(var f;c;){if(c.nodeType===3){if(f=r+c.textContent.length,r<=s&&f>=s)return{node:c,offset:s-r};r=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=ib(c)}}function lb(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?lb(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function cb(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Bu(r.document);s instanceof r.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)r=s.contentWindow;else break;s=Bu(r.document)}return s}function vm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var J2=Wa&&"documentMode"in document&&11>=document.documentMode,go=null,ym=null,Kl=null,xm=!1;function ub(r,s,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;xm||go==null||go!==Bu(f)||(f=go,"selectionStart"in f&&vm(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Kl&&Vl(Kl,f)||(Kl=f,f=zd(ym,"onSelect"),0<f.length&&(s=new Wu("onSelect","select",null,s,c),r.push({event:s,listeners:f}),s.target=go)))}function yi(r,s){var c={};return c[r.toLowerCase()]=s.toLowerCase(),c["Webkit"+r]="webkit"+s,c["Moz"+r]="moz"+s,c}var vo={animationend:yi("Animation","AnimationEnd"),animationiteration:yi("Animation","AnimationIteration"),animationstart:yi("Animation","AnimationStart"),transitionrun:yi("Transition","TransitionRun"),transitionstart:yi("Transition","TransitionStart"),transitioncancel:yi("Transition","TransitionCancel"),transitionend:yi("Transition","TransitionEnd")},bm={},db={};Wa&&(db=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function xi(r){if(bm[r])return bm[r];if(!vo[r])return r;var s=vo[r],c;for(c in s)if(s.hasOwnProperty(c)&&c in db)return bm[r]=s[c];return r}var fb=xi("animationend"),hb=xi("animationiteration"),mb=xi("animationstart"),Z2=xi("transitionrun"),eA=xi("transitionstart"),tA=xi("transitioncancel"),pb=xi("transitionend"),gb=new Map,wm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wm.push("scrollEnd");function la(r,s){gb.set(r,s),ia(s,[r])}var Qu=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Br=[],yo=0,_m=0;function Xu(){for(var r=yo,s=_m=yo=0;s<r;){var c=Br[s];Br[s++]=null;var f=Br[s];Br[s++]=null;var v=Br[s];Br[s++]=null;var x=Br[s];if(Br[s++]=null,f!==null&&v!==null){var N=f.pending;N===null?v.next=v:(v.next=N.next,N.next=v),f.pending=v}x!==0&&vb(c,v,x)}}function Ju(r,s,c,f){Br[yo++]=r,Br[yo++]=s,Br[yo++]=c,Br[yo++]=f,_m|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function Sm(r,s,c,f){return Ju(r,s,c,f),Zu(r)}function bi(r,s){return Ju(r,null,null,s),Zu(r)}function vb(r,s,c){r.lanes|=c;var f=r.alternate;f!==null&&(f.lanes|=c);for(var v=!1,x=r.return;x!==null;)x.childLanes|=c,f=x.alternate,f!==null&&(f.childLanes|=c),x.tag===22&&(r=x.stateNode,r===null||r._visibility&1||(v=!0)),r=x,x=x.return;return r.tag===3?(x=r.stateNode,v&&s!==null&&(v=31-Vt(c),r=x.hiddenUpdates,f=r[v],f===null?r[v]=[s]:f.push(s),s.lane=c|536870912),x):null}function Zu(r){if(50<mc)throw mc=0,Op=null,Error(a(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var xo={};function nA(r,s,c,f){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(r,s,c,f){return new nA(r,s,c,f)}function jm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ga(r,s){var c=r.alternate;return c===null?(c=jr(r.tag,s,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=s,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,s=r.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function yb(r,s){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,s=c.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function ed(r,s,c,f,v,x){var N=0;if(f=r,typeof r=="function")jm(r)&&(N=1);else if(typeof r=="string")N=oO(r,c,ae.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case Z:return r=jr(31,c,s,v),r.elementType=Z,r.lanes=x,r;case _:return wi(c.children,v,x,s);case j:N=8,v|=24;break;case C:return r=jr(12,c,s,v|2),r.elementType=C,r.lanes=x,r;case L:return r=jr(13,c,s,v),r.elementType=L,r.lanes=x,r;case P:return r=jr(19,c,s,v),r.elementType=P,r.lanes=x,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k:N=10;break e;case E:N=9;break e;case A:N=11;break e;case T:N=14;break e;case z:N=16,f=null;break e}N=29,c=Error(a(130,r===null?"null":typeof r,"")),f=null}return s=jr(N,c,s,v),s.elementType=r,s.type=f,s.lanes=x,s}function wi(r,s,c,f){return r=jr(7,r,f,s),r.lanes=c,r}function Cm(r,s,c){return r=jr(6,r,null,s),r.lanes=c,r}function xb(r){var s=jr(18,null,null,0);return s.stateNode=r,s}function Em(r,s,c){return s=jr(4,r.children!==null?r.children:[],r.key,s),s.lanes=c,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var bb=new WeakMap;function qr(r,s){if(typeof r=="object"&&r!==null){var c=bb.get(r);return c!==void 0?c:(s={value:r,source:s,stack:In(s)},bb.set(r,s),s)}return{value:r,source:s,stack:In(s)}}var bo=[],wo=0,td=null,Wl=0,Hr=[],Vr=0,ws=null,ja=1,Ca="";function Ya(r,s){bo[wo++]=Wl,bo[wo++]=td,td=r,Wl=s}function wb(r,s,c){Hr[Vr++]=ja,Hr[Vr++]=Ca,Hr[Vr++]=ws,ws=r;var f=ja;r=Ca;var v=32-Vt(f)-1;f&=~(1<<v),c+=1;var x=32-Vt(s)+v;if(30<x){var N=v-v%5;x=(f&(1<<N)-1).toString(32),f>>=N,v-=N,ja=1<<32-Vt(s)+v|c<<v|f,Ca=x+r}else ja=1<<x|c<<v|f,Ca=r}function Nm(r){r.return!==null&&(Ya(r,1),wb(r,1,0))}function km(r){for(;r===td;)td=bo[--wo],bo[wo]=null,Wl=bo[--wo],bo[wo]=null;for(;r===ws;)ws=Hr[--Vr],Hr[Vr]=null,Ca=Hr[--Vr],Hr[Vr]=null,ja=Hr[--Vr],Hr[Vr]=null}function _b(r,s){Hr[Vr++]=ja,Hr[Vr++]=Ca,Hr[Vr++]=ws,ja=s.id,Ca=s.overflow,ws=r}var Bn=null,Yt=null,yt=!1,_s=null,Kr=!1,Rm=Error(a(519));function Ss(r){var s=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gl(qr(s,r)),Rm}function Sb(r){var s=r.stateNode,c=r.type,f=r.memoizedProps;switch(s[we]=r,s[je]=f,c){case"dialog":st("cancel",s),st("close",s);break;case"iframe":case"object":case"embed":st("load",s);break;case"video":case"audio":for(c=0;c<gc.length;c++)st(gc[c],s);break;case"source":st("error",s);break;case"img":case"image":case"link":st("error",s),st("load",s);break;case"details":st("toggle",s);break;case"input":st("invalid",s),Lx(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":st("invalid",s);break;case"textarea":st("invalid",s),Ux(s,f.value,f.defaultValue,f.children)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||f.suppressHydrationWarning===!0||$0(s.textContent,c)?(f.popover!=null&&(st("beforetoggle",s),st("toggle",s)),f.onScroll!=null&&st("scroll",s),f.onScrollEnd!=null&&st("scrollend",s),f.onClick!=null&&(s.onclick=Ka),s=!0):s=!1,s||Ss(r,!0)}function jb(r){for(Bn=r.return;Bn;)switch(Bn.tag){case 5:case 31:case 13:Kr=!1;return;case 27:case 3:Kr=!0;return;default:Bn=Bn.return}}function _o(r){if(r!==Bn)return!1;if(!yt)return jb(r),yt=!0,!1;var s=r.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||Wp(r.type,r.memoizedProps)),c=!c),c&&Yt&&Ss(r),jb(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));Yt=Y0(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));Yt=Y0(r)}else s===27?(s=Yt,zs(r.type)?(r=Jp,Jp=null,Yt=r):Yt=s):Yt=Bn?Gr(r.stateNode.nextSibling):null;return!0}function _i(){Yt=Bn=null,yt=!1}function Tm(){var r=_s;return r!==null&&(hr===null?hr=r:hr.push.apply(hr,r),_s=null),r}function Gl(r){_s===null?_s=[r]:_s.push(r)}var Am=D(null),Si=null,Qa=null;function js(r,s,c){q(Am,s._currentValue),s._currentValue=c}function Xa(r){r._currentValue=Am.current,$(Am)}function Om(r,s,c){for(;r!==null;){var f=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),r===c)break;r=r.return}}function Dm(r,s,c,f){var v=r.child;for(v!==null&&(v.return=r);v!==null;){var x=v.dependencies;if(x!==null){var N=v.child;x=x.firstContext;e:for(;x!==null;){var O=x;x=v;for(var B=0;B<s.length;B++)if(O.context===s[B]){x.lanes|=c,O=x.alternate,O!==null&&(O.lanes|=c),Om(x.return,c,r),f||(N=null);break e}x=O.next}}else if(v.tag===18){if(N=v.return,N===null)throw Error(a(341));N.lanes|=c,x=N.alternate,x!==null&&(x.lanes|=c),Om(N,c,r),N=null}else N=v.child;if(N!==null)N.return=v;else for(N=v;N!==null;){if(N===r){N=null;break}if(v=N.sibling,v!==null){v.return=N.return,N=v;break}N=N.return}v=N}}function So(r,s,c,f){r=null;for(var v=s,x=!1;v!==null;){if(!x){if((v.flags&524288)!==0)x=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var N=v.alternate;if(N===null)throw Error(a(387));if(N=N.memoizedProps,N!==null){var O=v.type;Sr(v.pendingProps.value,N.value)||(r!==null?r.push(O):r=[O])}}else if(v===ie.current){if(N=v.alternate,N===null)throw Error(a(387));N.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(r!==null?r.push(wc):r=[wc])}v=v.return}r!==null&&Dm(s,r,c,f),s.flags|=262144}function nd(r){for(r=r.firstContext;r!==null;){if(!Sr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ji(r){Si=r,Qa=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function qn(r){return Cb(Si,r)}function rd(r,s){return Si===null&&ji(r),Cb(r,s)}function Cb(r,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},Qa===null){if(r===null)throw Error(a(308));Qa=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Qa=Qa.next=s;return c}var rA=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(c,f){r.push(f)}};this.abort=function(){s.aborted=!0,r.forEach(function(c){return c()})}},aA=e.unstable_scheduleCallback,sA=e.unstable_NormalPriority,bn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mm(){return{controller:new rA,data:new Map,refCount:0}}function Yl(r){r.refCount--,r.refCount===0&&aA(sA,function(){r.controller.abort()})}var Ql=null,Pm=0,jo=0,Co=null;function iA(r,s){if(Ql===null){var c=Ql=[];Pm=0,jo=Up(),Co={status:"pending",value:void 0,then:function(f){c.push(f)}}}return Pm++,s.then(Eb,Eb),s}function Eb(){if(--Pm===0&&Ql!==null){Co!==null&&(Co.status="fulfilled");var r=Ql;Ql=null,jo=0,Co=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function oA(r,s){var c=[],f={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return r.then(function(){f.status="fulfilled",f.value=s;for(var v=0;v<c.length;v++)(0,c[v])(s)},function(v){for(f.status="rejected",f.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),f}var Nb=R.S;R.S=function(r,s){u0=Pt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&iA(r,s),Nb!==null&&Nb(r,s)};var Ci=D(null);function Lm(){var r=Ci.current;return r!==null?r:$t.pooledCache}function ad(r,s){s===null?q(Ci,Ci.current):q(Ci,s.pool)}function kb(){var r=Lm();return r===null?null:{parent:bn._currentValue,pool:r}}var Eo=Error(a(460)),zm=Error(a(474)),sd=Error(a(542)),id={then:function(){}};function Rb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Tb(r,s,c){switch(c=r[c],c===void 0?r.push(s):c!==s&&(s.then(Ka,Ka),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Ob(r),r;default:if(typeof s.status=="string")s.then(Ka,Ka);else{if(r=$t,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=s,r.status="pending",r.then(function(f){if(s.status==="pending"){var v=s;v.status="fulfilled",v.value=f}},function(f){if(s.status==="pending"){var v=s;v.status="rejected",v.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Ob(r),r}throw Ni=s,Eo}}function Ei(r){try{var s=r._init;return s(r._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Ni=c,Eo):c}}var Ni=null;function Ab(){if(Ni===null)throw Error(a(459));var r=Ni;return Ni=null,r}function Ob(r){if(r===Eo||r===sd)throw Error(a(483))}var No=null,Xl=0;function od(r){var s=Xl;return Xl+=1,No===null&&(No=[]),Tb(No,r,s)}function Jl(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function ld(r,s){throw s.$$typeof===b?Error(a(525)):(r=Object.prototype.toString.call(s),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Db(r){function s(ee,W){if(r){var te=ee.deletions;te===null?(ee.deletions=[W],ee.flags|=16):te.push(W)}}function c(ee,W){if(!r)return null;for(;W!==null;)s(ee,W),W=W.sibling;return null}function f(ee){for(var W=new Map;ee!==null;)ee.key!==null?W.set(ee.key,ee):W.set(ee.index,ee),ee=ee.sibling;return W}function v(ee,W){return ee=Ga(ee,W),ee.index=0,ee.sibling=null,ee}function x(ee,W,te){return ee.index=te,r?(te=ee.alternate,te!==null?(te=te.index,te<W?(ee.flags|=67108866,W):te):(ee.flags|=67108866,W)):(ee.flags|=1048576,W)}function N(ee){return r&&ee.alternate===null&&(ee.flags|=67108866),ee}function O(ee,W,te,ue){return W===null||W.tag!==6?(W=Cm(te,ee.mode,ue),W.return=ee,W):(W=v(W,te),W.return=ee,W)}function B(ee,W,te,ue){var $e=te.type;return $e===_?le(ee,W,te.props.children,ue,te.key):W!==null&&(W.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===z&&Ei($e)===W.type)?(W=v(W,te.props),Jl(W,te),W.return=ee,W):(W=ed(te.type,te.key,te.props,null,ee.mode,ue),Jl(W,te),W.return=ee,W)}function ne(ee,W,te,ue){return W===null||W.tag!==4||W.stateNode.containerInfo!==te.containerInfo||W.stateNode.implementation!==te.implementation?(W=Em(te,ee.mode,ue),W.return=ee,W):(W=v(W,te.children||[]),W.return=ee,W)}function le(ee,W,te,ue,$e){return W===null||W.tag!==7?(W=wi(te,ee.mode,ue,$e),W.return=ee,W):(W=v(W,te),W.return=ee,W)}function fe(ee,W,te){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Cm(""+W,ee.mode,te),W.return=ee,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return te=ed(W.type,W.key,W.props,null,ee.mode,te),Jl(te,W),te.return=ee,te;case S:return W=Em(W,ee.mode,te),W.return=ee,W;case z:return W=Ei(W),fe(ee,W,te)}if(J(W)||K(W))return W=wi(W,ee.mode,te,null),W.return=ee,W;if(typeof W.then=="function")return fe(ee,od(W),te);if(W.$$typeof===k)return fe(ee,rd(ee,W),te);ld(ee,W)}return null}function se(ee,W,te,ue){var $e=W!==null?W.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return $e!==null?null:O(ee,W,""+te,ue);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case w:return te.key===$e?B(ee,W,te,ue):null;case S:return te.key===$e?ne(ee,W,te,ue):null;case z:return te=Ei(te),se(ee,W,te,ue)}if(J(te)||K(te))return $e!==null?null:le(ee,W,te,ue,null);if(typeof te.then=="function")return se(ee,W,od(te),ue);if(te.$$typeof===k)return se(ee,W,rd(ee,te),ue);ld(ee,te)}return null}function oe(ee,W,te,ue,$e){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return ee=ee.get(te)||null,O(W,ee,""+ue,$e);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case w:return ee=ee.get(ue.key===null?te:ue.key)||null,B(W,ee,ue,$e);case S:return ee=ee.get(ue.key===null?te:ue.key)||null,ne(W,ee,ue,$e);case z:return ue=Ei(ue),oe(ee,W,te,ue,$e)}if(J(ue)||K(ue))return ee=ee.get(te)||null,le(W,ee,ue,$e,null);if(typeof ue.then=="function")return oe(ee,W,te,od(ue),$e);if(ue.$$typeof===k)return oe(ee,W,te,rd(W,ue),$e);ld(W,ue)}return null}function Te(ee,W,te,ue){for(var $e=null,Ct=null,Le=W,Xe=W=0,lt=null;Le!==null&&Xe<te.length;Xe++){Le.index>Xe?(lt=Le,Le=null):lt=Le.sibling;var Et=se(ee,Le,te[Xe],ue);if(Et===null){Le===null&&(Le=lt);break}r&&Le&&Et.alternate===null&&s(ee,Le),W=x(Et,W,Xe),Ct===null?$e=Et:Ct.sibling=Et,Ct=Et,Le=lt}if(Xe===te.length)return c(ee,Le),yt&&Ya(ee,Xe),$e;if(Le===null){for(;Xe<te.length;Xe++)Le=fe(ee,te[Xe],ue),Le!==null&&(W=x(Le,W,Xe),Ct===null?$e=Le:Ct.sibling=Le,Ct=Le);return yt&&Ya(ee,Xe),$e}for(Le=f(Le);Xe<te.length;Xe++)lt=oe(Le,ee,Xe,te[Xe],ue),lt!==null&&(r&&lt.alternate!==null&&Le.delete(lt.key===null?Xe:lt.key),W=x(lt,W,Xe),Ct===null?$e=lt:Ct.sibling=lt,Ct=lt);return r&&Le.forEach(function(Bs){return s(ee,Bs)}),yt&&Ya(ee,Xe),$e}function He(ee,W,te,ue){if(te==null)throw Error(a(151));for(var $e=null,Ct=null,Le=W,Xe=W=0,lt=null,Et=te.next();Le!==null&&!Et.done;Xe++,Et=te.next()){Le.index>Xe?(lt=Le,Le=null):lt=Le.sibling;var Bs=se(ee,Le,Et.value,ue);if(Bs===null){Le===null&&(Le=lt);break}r&&Le&&Bs.alternate===null&&s(ee,Le),W=x(Bs,W,Xe),Ct===null?$e=Bs:Ct.sibling=Bs,Ct=Bs,Le=lt}if(Et.done)return c(ee,Le),yt&&Ya(ee,Xe),$e;if(Le===null){for(;!Et.done;Xe++,Et=te.next())Et=fe(ee,Et.value,ue),Et!==null&&(W=x(Et,W,Xe),Ct===null?$e=Et:Ct.sibling=Et,Ct=Et);return yt&&Ya(ee,Xe),$e}for(Le=f(Le);!Et.done;Xe++,Et=te.next())Et=oe(Le,ee,Xe,Et.value,ue),Et!==null&&(r&&Et.alternate!==null&&Le.delete(Et.key===null?Xe:Et.key),W=x(Et,W,Xe),Ct===null?$e=Et:Ct.sibling=Et,Ct=Et);return r&&Le.forEach(function(yO){return s(ee,yO)}),yt&&Ya(ee,Xe),$e}function It(ee,W,te,ue){if(typeof te=="object"&&te!==null&&te.type===_&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case w:e:{for(var $e=te.key;W!==null;){if(W.key===$e){if($e=te.type,$e===_){if(W.tag===7){c(ee,W.sibling),ue=v(W,te.props.children),ue.return=ee,ee=ue;break e}}else if(W.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===z&&Ei($e)===W.type){c(ee,W.sibling),ue=v(W,te.props),Jl(ue,te),ue.return=ee,ee=ue;break e}c(ee,W);break}else s(ee,W);W=W.sibling}te.type===_?(ue=wi(te.props.children,ee.mode,ue,te.key),ue.return=ee,ee=ue):(ue=ed(te.type,te.key,te.props,null,ee.mode,ue),Jl(ue,te),ue.return=ee,ee=ue)}return N(ee);case S:e:{for($e=te.key;W!==null;){if(W.key===$e)if(W.tag===4&&W.stateNode.containerInfo===te.containerInfo&&W.stateNode.implementation===te.implementation){c(ee,W.sibling),ue=v(W,te.children||[]),ue.return=ee,ee=ue;break e}else{c(ee,W);break}else s(ee,W);W=W.sibling}ue=Em(te,ee.mode,ue),ue.return=ee,ee=ue}return N(ee);case z:return te=Ei(te),It(ee,W,te,ue)}if(J(te))return Te(ee,W,te,ue);if(K(te)){if($e=K(te),typeof $e!="function")throw Error(a(150));return te=$e.call(te),He(ee,W,te,ue)}if(typeof te.then=="function")return It(ee,W,od(te),ue);if(te.$$typeof===k)return It(ee,W,rd(ee,te),ue);ld(ee,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,W!==null&&W.tag===6?(c(ee,W.sibling),ue=v(W,te),ue.return=ee,ee=ue):(c(ee,W),ue=Cm(te,ee.mode,ue),ue.return=ee,ee=ue),N(ee)):c(ee,W)}return function(ee,W,te,ue){try{Xl=0;var $e=It(ee,W,te,ue);return No=null,$e}catch(Le){if(Le===Eo||Le===sd)throw Le;var Ct=jr(29,Le,null,ee.mode);return Ct.lanes=ue,Ct.return=ee,Ct}}}var ki=Db(!0),Mb=Db(!1),Cs=!1;function Um(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Im(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Es(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ns(r,s,c){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(kt&2)!==0){var v=f.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),f.pending=s,s=Zu(r),vb(r,null,c),s}return Ju(r,f,s,c),Zu(r)}function Zl(r,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var f=s.lanes;f&=r.pendingLanes,c|=f,s.lanes=c,I(r,c)}}function $m(r,s){var c=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var v=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var N={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};x===null?v=x=N:x=x.next=N,c=c.next}while(c!==null);x===null?v=x=s:x=x.next=s}else v=x=s;c={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:f.shared,callbacks:f.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=s:r.next=s,c.lastBaseUpdate=s}var Fm=!1;function ec(){if(Fm){var r=Co;if(r!==null)throw r}}function tc(r,s,c,f){Fm=!1;var v=r.updateQueue;Cs=!1;var x=v.firstBaseUpdate,N=v.lastBaseUpdate,O=v.shared.pending;if(O!==null){v.shared.pending=null;var B=O,ne=B.next;B.next=null,N===null?x=ne:N.next=ne,N=B;var le=r.alternate;le!==null&&(le=le.updateQueue,O=le.lastBaseUpdate,O!==N&&(O===null?le.firstBaseUpdate=ne:O.next=ne,le.lastBaseUpdate=B))}if(x!==null){var fe=v.baseState;N=0,le=ne=B=null,O=x;do{var se=O.lane&-536870913,oe=se!==O.lane;if(oe?(ot&se)===se:(f&se)===se){se!==0&&se===jo&&(Fm=!0),le!==null&&(le=le.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Te=r,He=O;se=s;var It=c;switch(He.tag){case 1:if(Te=He.payload,typeof Te=="function"){fe=Te.call(It,fe,se);break e}fe=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=He.payload,se=typeof Te=="function"?Te.call(It,fe,se):Te,se==null)break e;fe=p({},fe,se);break e;case 2:Cs=!0}}se=O.callback,se!==null&&(r.flags|=64,oe&&(r.flags|=8192),oe=v.callbacks,oe===null?v.callbacks=[se]:oe.push(se))}else oe={lane:se,tag:O.tag,payload:O.payload,callback:O.callback,next:null},le===null?(ne=le=oe,B=fe):le=le.next=oe,N|=se;if(O=O.next,O===null){if(O=v.shared.pending,O===null)break;oe=O,O=oe.next,oe.next=null,v.lastBaseUpdate=oe,v.shared.pending=null}}while(!0);le===null&&(B=fe),v.baseState=B,v.firstBaseUpdate=ne,v.lastBaseUpdate=le,x===null&&(v.shared.lanes=0),Os|=N,r.lanes=N,r.memoizedState=fe}}function Pb(r,s){if(typeof r!="function")throw Error(a(191,r));r.call(s)}function Lb(r,s){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)Pb(c[r],s)}var ko=D(null),cd=D(0);function zb(r,s){r=is,q(cd,r),q(ko,s),is=r|s.baseLanes}function Bm(){q(cd,is),q(ko,ko.current)}function qm(){is=cd.current,$(ko),$(cd)}var Cr=D(null),Wr=null;function ks(r){var s=r.alternate;q(vn,vn.current&1),q(Cr,r),Wr===null&&(s===null||ko.current!==null||s.memoizedState!==null)&&(Wr=r)}function Hm(r){q(vn,vn.current),q(Cr,r),Wr===null&&(Wr=r)}function Ub(r){r.tag===22?(q(vn,vn.current),q(Cr,r),Wr===null&&(Wr=r)):Rs()}function Rs(){q(vn,vn.current),q(Cr,Cr.current)}function Er(r){$(Cr),Wr===r&&(Wr=null),$(vn)}var vn=D(0);function ud(r){for(var s=r;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Qp(c)||Xp(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ja=0,Qe=null,zt=null,wn=null,dd=!1,Ro=!1,Ri=!1,fd=0,nc=0,To=null,lA=0;function un(){throw Error(a(321))}function Vm(r,s){if(s===null)return!1;for(var c=0;c<s.length&&c<r.length;c++)if(!Sr(r[c],s[c]))return!1;return!0}function Km(r,s,c,f,v,x){return Ja=x,Qe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,R.H=r===null||r.memoizedState===null?ww:op,Ri=!1,x=c(f,v),Ri=!1,Ro&&(x=$b(s,c,f,v)),Ib(r),x}function Ib(r){R.H=sc;var s=zt!==null&&zt.next!==null;if(Ja=0,wn=zt=Qe=null,dd=!1,nc=0,To=null,s)throw Error(a(300));r===null||_n||(r=r.dependencies,r!==null&&nd(r)&&(_n=!0))}function $b(r,s,c,f){Qe=r;var v=0;do{if(Ro&&(To=null),nc=0,Ro=!1,25<=v)throw Error(a(301));if(v+=1,wn=zt=null,r.updateQueue!=null){var x=r.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}R.H=_w,x=s(c,f)}while(Ro);return x}function cA(){var r=R.H,s=r.useState()[0];return s=typeof s.then=="function"?rc(s):s,r=r.useState()[0],(zt!==null?zt.memoizedState:null)!==r&&(Qe.flags|=1024),s}function Wm(){var r=fd!==0;return fd=0,r}function Gm(r,s,c){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~c}function Ym(r){if(dd){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}dd=!1}Ja=0,wn=zt=Qe=null,Ro=!1,nc=fd=0,To=null}function nr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?Qe.memoizedState=wn=r:wn=wn.next=r,wn}function yn(){if(zt===null){var r=Qe.alternate;r=r!==null?r.memoizedState:null}else r=zt.next;var s=wn===null?Qe.memoizedState:wn.next;if(s!==null)wn=s,zt=r;else{if(r===null)throw Qe.alternate===null?Error(a(467)):Error(a(310));zt=r,r={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},wn===null?Qe.memoizedState=wn=r:wn=wn.next=r}return wn}function hd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rc(r){var s=nc;return nc+=1,To===null&&(To=[]),r=Tb(To,r,s),s=Qe,(wn===null?s.memoizedState:wn.next)===null&&(s=s.alternate,R.H=s===null||s.memoizedState===null?ww:op),r}function md(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return rc(r);if(r.$$typeof===k)return qn(r)}throw Error(a(438,String(r)))}function Qm(r){var s=null,c=Qe.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var f=Qe.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(v){return v.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=hd(),Qe.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(r),f=0;f<r;f++)c[f]=V;return s.index++,c}function Za(r,s){return typeof s=="function"?s(r):s}function pd(r){var s=yn();return Xm(s,zt,r)}function Xm(r,s,c){var f=r.queue;if(f===null)throw Error(a(311));f.lastRenderedReducer=c;var v=r.baseQueue,x=f.pending;if(x!==null){if(v!==null){var N=v.next;v.next=x.next,x.next=N}s.baseQueue=v=x,f.pending=null}if(x=r.baseState,v===null)r.memoizedState=x;else{s=v.next;var O=N=null,B=null,ne=s,le=!1;do{var fe=ne.lane&-536870913;if(fe!==ne.lane?(ot&fe)===fe:(Ja&fe)===fe){var se=ne.revertLane;if(se===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),fe===jo&&(le=!0);else if((Ja&se)===se){ne=ne.next,se===jo&&(le=!0);continue}else fe={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},B===null?(O=B=fe,N=x):B=B.next=fe,Qe.lanes|=se,Os|=se;fe=ne.action,Ri&&c(x,fe),x=ne.hasEagerState?ne.eagerState:c(x,fe)}else se={lane:fe,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},B===null?(O=B=se,N=x):B=B.next=se,Qe.lanes|=fe,Os|=fe;ne=ne.next}while(ne!==null&&ne!==s);if(B===null?N=x:B.next=O,!Sr(x,r.memoizedState)&&(_n=!0,le&&(c=Co,c!==null)))throw c;r.memoizedState=x,r.baseState=N,r.baseQueue=B,f.lastRenderedState=x}return v===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function Jm(r){var s=yn(),c=s.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=r;var f=c.dispatch,v=c.pending,x=s.memoizedState;if(v!==null){c.pending=null;var N=v=v.next;do x=r(x,N.action),N=N.next;while(N!==v);Sr(x,s.memoizedState)||(_n=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),c.lastRenderedState=x}return[x,f]}function Fb(r,s,c){var f=Qe,v=yn(),x=yt;if(x){if(c===void 0)throw Error(a(407));c=c()}else c=s();var N=!Sr((zt||v).memoizedState,c);if(N&&(v.memoizedState=c,_n=!0),v=v.queue,tp(Hb.bind(null,f,v,r),[r]),v.getSnapshot!==s||N||wn!==null&&wn.memoizedState.tag&1){if(f.flags|=2048,Ao(9,{destroy:void 0},qb.bind(null,f,v,c,s),null),$t===null)throw Error(a(349));x||(Ja&127)!==0||Bb(f,s,c)}return c}function Bb(r,s,c){r.flags|=16384,r={getSnapshot:s,value:c},s=Qe.updateQueue,s===null?(s=hd(),Qe.updateQueue=s,s.stores=[r]):(c=s.stores,c===null?s.stores=[r]:c.push(r))}function qb(r,s,c,f){s.value=c,s.getSnapshot=f,Vb(s)&&Kb(r)}function Hb(r,s,c){return c(function(){Vb(s)&&Kb(r)})}function Vb(r){var s=r.getSnapshot;r=r.value;try{var c=s();return!Sr(r,c)}catch{return!0}}function Kb(r){var s=bi(r,2);s!==null&&mr(s,r,2)}function Zm(r){var s=nr();if(typeof r=="function"){var c=r;if(r=c(),Ri){an(!0);try{c()}finally{an(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:r},s}function Wb(r,s,c,f){return r.baseState=c,Xm(r,zt,typeof f=="function"?f:Za)}function uA(r,s,c,f,v){if(yd(r))throw Error(a(485));if(r=s.action,r!==null){var x={payload:v,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){x.listeners.push(N)}};R.T!==null?c(!0):x.isTransition=!1,f(x),c=s.pending,c===null?(x.next=s.pending=x,Gb(s,x)):(x.next=c.next,s.pending=c.next=x)}}function Gb(r,s){var c=s.action,f=s.payload,v=r.state;if(s.isTransition){var x=R.T,N={};R.T=N;try{var O=c(v,f),B=R.S;B!==null&&B(N,O),Yb(r,s,O)}catch(ne){ep(r,s,ne)}finally{x!==null&&N.types!==null&&(x.types=N.types),R.T=x}}else try{x=c(v,f),Yb(r,s,x)}catch(ne){ep(r,s,ne)}}function Yb(r,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){Qb(r,s,f)},function(f){return ep(r,s,f)}):Qb(r,s,c)}function Qb(r,s,c){s.status="fulfilled",s.value=c,Xb(s),r.state=c,s=r.pending,s!==null&&(c=s.next,c===s?r.pending=null:(c=c.next,s.next=c,Gb(r,c)))}function ep(r,s,c){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=c,Xb(s),s=s.next;while(s!==f)}r.action=null}function Xb(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function Jb(r,s){return s}function Zb(r,s){if(yt){var c=$t.formState;if(c!==null){e:{var f=Qe;if(yt){if(Yt){t:{for(var v=Yt,x=Kr;v.nodeType!==8;){if(!x){v=null;break t}if(v=Gr(v.nextSibling),v===null){v=null;break t}}x=v.data,v=x==="F!"||x==="F"?v:null}if(v){Yt=Gr(v.nextSibling),f=v.data==="F!";break e}}Ss(f)}f=!1}f&&(s=c[0])}}return c=nr(),c.memoizedState=c.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jb,lastRenderedState:s},c.queue=f,c=yw.bind(null,Qe,f),f.dispatch=c,f=Zm(!1),x=ip.bind(null,Qe,!1,f.queue),f=nr(),v={state:s,dispatch:null,action:r,pending:null},f.queue=v,c=uA.bind(null,Qe,v,x,c),v.dispatch=c,f.memoizedState=r,[s,c,!1]}function ew(r){var s=yn();return tw(s,zt,r)}function tw(r,s,c){if(s=Xm(r,s,Jb)[0],r=pd(Za)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=rc(s)}catch(N){throw N===Eo?sd:N}else f=s;s=yn();var v=s.queue,x=v.dispatch;return c!==s.memoizedState&&(Qe.flags|=2048,Ao(9,{destroy:void 0},dA.bind(null,v,c),null)),[f,x,r]}function dA(r,s){r.action=s}function nw(r){var s=yn(),c=zt;if(c!==null)return tw(s,c,r);yn(),s=s.memoizedState,c=yn();var f=c.queue.dispatch;return c.memoizedState=r,[s,f,!1]}function Ao(r,s,c,f){return r={tag:r,create:c,deps:f,inst:s,next:null},s=Qe.updateQueue,s===null&&(s=hd(),Qe.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=r.next=r:(f=c.next,c.next=r,r.next=f,s.lastEffect=r),r}function rw(){return yn().memoizedState}function gd(r,s,c,f){var v=nr();Qe.flags|=r,v.memoizedState=Ao(1|s,{destroy:void 0},c,f===void 0?null:f)}function vd(r,s,c,f){var v=yn();f=f===void 0?null:f;var x=v.memoizedState.inst;zt!==null&&f!==null&&Vm(f,zt.memoizedState.deps)?v.memoizedState=Ao(s,x,c,f):(Qe.flags|=r,v.memoizedState=Ao(1|s,x,c,f))}function aw(r,s){gd(8390656,8,r,s)}function tp(r,s){vd(2048,8,r,s)}function fA(r){Qe.flags|=4;var s=Qe.updateQueue;if(s===null)s=hd(),Qe.updateQueue=s,s.events=[r];else{var c=s.events;c===null?s.events=[r]:c.push(r)}}function sw(r){var s=yn().memoizedState;return fA({ref:s,nextImpl:r}),function(){if((kt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}function iw(r,s){return vd(4,2,r,s)}function ow(r,s){return vd(4,4,r,s)}function lw(r,s){if(typeof s=="function"){r=r();var c=s(r);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function cw(r,s,c){c=c!=null?c.concat([r]):null,vd(4,4,lw.bind(null,s,r),c)}function np(){}function uw(r,s){var c=yn();s=s===void 0?null:s;var f=c.memoizedState;return s!==null&&Vm(s,f[1])?f[0]:(c.memoizedState=[r,s],r)}function dw(r,s){var c=yn();s=s===void 0?null:s;var f=c.memoizedState;if(s!==null&&Vm(s,f[1]))return f[0];if(f=r(),Ri){an(!0);try{r()}finally{an(!1)}}return c.memoizedState=[f,s],f}function rp(r,s,c){return c===void 0||(Ja&1073741824)!==0&&(ot&261930)===0?r.memoizedState=s:(r.memoizedState=c,r=f0(),Qe.lanes|=r,Os|=r,c)}function fw(r,s,c,f){return Sr(c,s)?c:ko.current!==null?(r=rp(r,c,f),Sr(r,s)||(_n=!0),r):(Ja&42)===0||(Ja&1073741824)!==0&&(ot&261930)===0?(_n=!0,r.memoizedState=c):(r=f0(),Qe.lanes|=r,Os|=r,s)}function hw(r,s,c,f,v){var x=U.p;U.p=x!==0&&8>x?x:8;var N=R.T,O={};R.T=O,ip(r,!1,s,c);try{var B=v(),ne=R.S;if(ne!==null&&ne(O,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var le=oA(B,f);ac(r,s,le,Rr(r))}else ac(r,s,f,Rr(r))}catch(fe){ac(r,s,{then:function(){},status:"rejected",reason:fe},Rr())}finally{U.p=x,N!==null&&O.types!==null&&(N.types=O.types),R.T=N}}function hA(){}function ap(r,s,c,f){if(r.tag!==5)throw Error(a(476));var v=mw(r).queue;hw(r,v,s,F,c===null?hA:function(){return pw(r),c(f)})}function mw(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:F},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:c},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function pw(r){var s=mw(r);s.next===null&&(s=r.alternate.memoizedState),ac(r,s.next.queue,{},Rr())}function sp(){return qn(wc)}function gw(){return yn().memoizedState}function vw(){return yn().memoizedState}function mA(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var c=Rr();r=Es(c);var f=Ns(s,r,c);f!==null&&(mr(f,s,c),Zl(f,s,c)),s={cache:Mm()},r.payload=s;return}s=s.return}}function pA(r,s,c){var f=Rr();c={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},yd(r)?xw(s,c):(c=Sm(r,s,c,f),c!==null&&(mr(c,r,f),bw(c,s,f)))}function yw(r,s,c){var f=Rr();ac(r,s,c,f)}function ac(r,s,c,f){var v={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(yd(r))xw(s,v);else{var x=r.alternate;if(r.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var N=s.lastRenderedState,O=x(N,c);if(v.hasEagerState=!0,v.eagerState=O,Sr(O,N))return Ju(r,s,v,0),$t===null&&Xu(),!1}catch{}if(c=Sm(r,s,v,f),c!==null)return mr(c,r,f),bw(c,s,f),!0}return!1}function ip(r,s,c,f){if(f={lane:2,revertLane:Up(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},yd(r)){if(s)throw Error(a(479))}else s=Sm(r,c,f,2),s!==null&&mr(s,r,2)}function yd(r){var s=r.alternate;return r===Qe||s!==null&&s===Qe}function xw(r,s){Ro=dd=!0;var c=r.pending;c===null?s.next=s:(s.next=c.next,c.next=s),r.pending=s}function bw(r,s,c){if((c&4194048)!==0){var f=s.lanes;f&=r.pendingLanes,c|=f,s.lanes=c,I(r,c)}}var sc={readContext:qn,use:md,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useLayoutEffect:un,useInsertionEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useSyncExternalStore:un,useId:un,useHostTransitionStatus:un,useFormState:un,useActionState:un,useOptimistic:un,useMemoCache:un,useCacheRefresh:un};sc.useEffectEvent=un;var ww={readContext:qn,use:md,useCallback:function(r,s){return nr().memoizedState=[r,s===void 0?null:s],r},useContext:qn,useEffect:aw,useImperativeHandle:function(r,s,c){c=c!=null?c.concat([r]):null,gd(4194308,4,lw.bind(null,s,r),c)},useLayoutEffect:function(r,s){return gd(4194308,4,r,s)},useInsertionEffect:function(r,s){gd(4,2,r,s)},useMemo:function(r,s){var c=nr();s=s===void 0?null:s;var f=r();if(Ri){an(!0);try{r()}finally{an(!1)}}return c.memoizedState=[f,s],f},useReducer:function(r,s,c){var f=nr();if(c!==void 0){var v=c(s);if(Ri){an(!0);try{c(s)}finally{an(!1)}}}else v=s;return f.memoizedState=f.baseState=v,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:v},f.queue=r,r=r.dispatch=pA.bind(null,Qe,r),[f.memoizedState,r]},useRef:function(r){var s=nr();return r={current:r},s.memoizedState=r},useState:function(r){r=Zm(r);var s=r.queue,c=yw.bind(null,Qe,s);return s.dispatch=c,[r.memoizedState,c]},useDebugValue:np,useDeferredValue:function(r,s){var c=nr();return rp(c,r,s)},useTransition:function(){var r=Zm(!1);return r=hw.bind(null,Qe,r.queue,!0,!1),nr().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,c){var f=Qe,v=nr();if(yt){if(c===void 0)throw Error(a(407));c=c()}else{if(c=s(),$t===null)throw Error(a(349));(ot&127)!==0||Bb(f,s,c)}v.memoizedState=c;var x={value:c,getSnapshot:s};return v.queue=x,aw(Hb.bind(null,f,x,r),[r]),f.flags|=2048,Ao(9,{destroy:void 0},qb.bind(null,f,x,c,s),null),c},useId:function(){var r=nr(),s=$t.identifierPrefix;if(yt){var c=Ca,f=ja;c=(f&~(1<<32-Vt(f)-1)).toString(32)+c,s="_"+s+"R_"+c,c=fd++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=lA++,s="_"+s+"r_"+c.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:sp,useFormState:Zb,useActionState:Zb,useOptimistic:function(r){var s=nr();s.memoizedState=s.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=ip.bind(null,Qe,!0,c),c.dispatch=s,[r,s]},useMemoCache:Qm,useCacheRefresh:function(){return nr().memoizedState=mA.bind(null,Qe)},useEffectEvent:function(r){var s=nr(),c={impl:r};return s.memoizedState=c,function(){if((kt&2)!==0)throw Error(a(440));return c.impl.apply(void 0,arguments)}}},op={readContext:qn,use:md,useCallback:uw,useContext:qn,useEffect:tp,useImperativeHandle:cw,useInsertionEffect:iw,useLayoutEffect:ow,useMemo:dw,useReducer:pd,useRef:rw,useState:function(){return pd(Za)},useDebugValue:np,useDeferredValue:function(r,s){var c=yn();return fw(c,zt.memoizedState,r,s)},useTransition:function(){var r=pd(Za)[0],s=yn().memoizedState;return[typeof r=="boolean"?r:rc(r),s]},useSyncExternalStore:Fb,useId:gw,useHostTransitionStatus:sp,useFormState:ew,useActionState:ew,useOptimistic:function(r,s){var c=yn();return Wb(c,zt,r,s)},useMemoCache:Qm,useCacheRefresh:vw};op.useEffectEvent=sw;var _w={readContext:qn,use:md,useCallback:uw,useContext:qn,useEffect:tp,useImperativeHandle:cw,useInsertionEffect:iw,useLayoutEffect:ow,useMemo:dw,useReducer:Jm,useRef:rw,useState:function(){return Jm(Za)},useDebugValue:np,useDeferredValue:function(r,s){var c=yn();return zt===null?rp(c,r,s):fw(c,zt.memoizedState,r,s)},useTransition:function(){var r=Jm(Za)[0],s=yn().memoizedState;return[typeof r=="boolean"?r:rc(r),s]},useSyncExternalStore:Fb,useId:gw,useHostTransitionStatus:sp,useFormState:nw,useActionState:nw,useOptimistic:function(r,s){var c=yn();return zt!==null?Wb(c,zt,r,s):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:Qm,useCacheRefresh:vw};_w.useEffectEvent=sw;function lp(r,s,c,f){s=r.memoizedState,c=c(f,s),c=c==null?s:p({},s,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var cp={enqueueSetState:function(r,s,c){r=r._reactInternals;var f=Rr(),v=Es(f);v.payload=s,c!=null&&(v.callback=c),s=Ns(r,v,f),s!==null&&(mr(s,r,f),Zl(s,r,f))},enqueueReplaceState:function(r,s,c){r=r._reactInternals;var f=Rr(),v=Es(f);v.tag=1,v.payload=s,c!=null&&(v.callback=c),s=Ns(r,v,f),s!==null&&(mr(s,r,f),Zl(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var c=Rr(),f=Es(c);f.tag=2,s!=null&&(f.callback=s),s=Ns(r,f,c),s!==null&&(mr(s,r,c),Zl(s,r,c))}};function Sw(r,s,c,f,v,x,N){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,x,N):s.prototype&&s.prototype.isPureReactComponent?!Vl(c,f)||!Vl(v,x):!0}function jw(r,s,c,f){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,f),s.state!==r&&cp.enqueueReplaceState(s,s.state,null)}function Ti(r,s){var c=s;if("ref"in s){c={};for(var f in s)f!=="ref"&&(c[f]=s[f])}if(r=r.defaultProps){c===s&&(c=p({},c));for(var v in r)c[v]===void 0&&(c[v]=r[v])}return c}function Cw(r){Qu(r)}function Ew(r){console.error(r)}function Nw(r){Qu(r)}function xd(r,s){try{var c=r.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function kw(r,s,c){try{var f=r.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function up(r,s,c){return c=Es(c),c.tag=3,c.payload={element:null},c.callback=function(){xd(r,s)},c}function Rw(r){return r=Es(r),r.tag=3,r}function Tw(r,s,c,f){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var x=f.value;r.payload=function(){return v(x)},r.callback=function(){kw(s,c,f)}}var N=c.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(r.callback=function(){kw(s,c,f),typeof v!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var O=f.stack;this.componentDidCatch(f.value,{componentStack:O!==null?O:""})})}function gA(r,s,c,f,v){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=c.alternate,s!==null&&So(s,c,v,!0),c=Cr.current,c!==null){switch(c.tag){case 31:case 13:return Wr===null?Ad():c.alternate===null&&dn===0&&(dn=3),c.flags&=-257,c.flags|=65536,c.lanes=v,f===id?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([f]):s.add(f),Pp(r,f,v)),!1;case 22:return c.flags|=65536,f===id?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([f]):c.add(f)),Pp(r,f,v)),!1}throw Error(a(435,c.tag))}return Pp(r,f,v),Ad(),!1}if(yt)return s=Cr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=v,f!==Rm&&(r=Error(a(422),{cause:f}),Gl(qr(r,c)))):(f!==Rm&&(s=Error(a(423),{cause:f}),Gl(qr(s,c))),r=r.current.alternate,r.flags|=65536,v&=-v,r.lanes|=v,f=qr(f,c),v=up(r.stateNode,f,v),$m(r,v),dn!==4&&(dn=2)),!1;var x=Error(a(520),{cause:f});if(x=qr(x,c),hc===null?hc=[x]:hc.push(x),dn!==4&&(dn=2),s===null)return!0;f=qr(f,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,r=v&-v,c.lanes|=r,r=up(c.stateNode,f,r),$m(c,r),!1;case 1:if(s=c.type,x=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ds===null||!Ds.has(x))))return c.flags|=65536,v&=-v,c.lanes|=v,v=Rw(v),Tw(v,r,c,f),$m(c,v),!1}c=c.return}while(c!==null);return!1}var dp=Error(a(461)),_n=!1;function Hn(r,s,c,f){s.child=r===null?Mb(s,null,c,f):ki(s,r.child,c,f)}function Aw(r,s,c,f,v){c=c.render;var x=s.ref;if("ref"in f){var N={};for(var O in f)O!=="ref"&&(N[O]=f[O])}else N=f;return ji(s),f=Km(r,s,c,N,x,v),O=Wm(),r!==null&&!_n?(Gm(r,s,v),es(r,s,v)):(yt&&O&&Nm(s),s.flags|=1,Hn(r,s,f,v),s.child)}function Ow(r,s,c,f,v){if(r===null){var x=c.type;return typeof x=="function"&&!jm(x)&&x.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=x,Dw(r,s,x,f,v)):(r=ed(c.type,null,f,s,s.mode,v),r.ref=s.ref,r.return=s,s.child=r)}if(x=r.child,!xp(r,v)){var N=x.memoizedProps;if(c=c.compare,c=c!==null?c:Vl,c(N,f)&&r.ref===s.ref)return es(r,s,v)}return s.flags|=1,r=Ga(x,f),r.ref=s.ref,r.return=s,s.child=r}function Dw(r,s,c,f,v){if(r!==null){var x=r.memoizedProps;if(Vl(x,f)&&r.ref===s.ref)if(_n=!1,s.pendingProps=f=x,xp(r,v))(r.flags&131072)!==0&&(_n=!0);else return s.lanes=r.lanes,es(r,s,v)}return fp(r,s,c,f,v)}function Mw(r,s,c,f){var v=f.children,x=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((s.flags&128)!==0){if(x=x!==null?x.baseLanes|c:c,r!==null){for(f=s.child=r.child,v=0;f!==null;)v=v|f.lanes|f.childLanes,f=f.sibling;f=v&~x}else f=0,s.child=null;return Pw(r,s,x,c,f)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&ad(s,x!==null?x.cachePool:null),x!==null?zb(s,x):Bm(),Ub(s);else return f=s.lanes=536870912,Pw(r,s,x!==null?x.baseLanes|c:c,c,f)}else x!==null?(ad(s,x.cachePool),zb(s,x),Rs(),s.memoizedState=null):(r!==null&&ad(s,null),Bm(),Rs());return Hn(r,s,v,c),s.child}function ic(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Pw(r,s,c,f,v){var x=Lm();return x=x===null?null:{parent:bn._currentValue,pool:x},s.memoizedState={baseLanes:c,cachePool:x},r!==null&&ad(s,null),Bm(),Ub(s),r!==null&&So(r,s,f,!0),s.childLanes=v,null}function bd(r,s){return s=_d({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function Lw(r,s,c){return ki(s,r.child,null,c),r=bd(s,s.pendingProps),r.flags|=2,Er(s),s.memoizedState=null,r}function vA(r,s,c){var f=s.pendingProps,v=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(yt){if(f.mode==="hidden")return r=bd(s,f),s.lanes=536870912,ic(null,r);if(Hm(s),(r=Yt)?(r=G0(r,Kr),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:ws!==null?{id:ja,overflow:Ca}:null,retryLane:536870912,hydrationErrors:null},c=xb(r),c.return=s,s.child=c,Bn=s,Yt=null)):r=null,r===null)throw Ss(s);return s.lanes=536870912,null}return bd(s,f)}var x=r.memoizedState;if(x!==null){var N=x.dehydrated;if(Hm(s),v)if(s.flags&256)s.flags&=-257,s=Lw(r,s,c);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(a(558));else if(_n||So(r,s,c,!1),v=(c&r.childLanes)!==0,_n||v){if(f=$t,f!==null&&(N=Q(f,c),N!==0&&N!==x.retryLane))throw x.retryLane=N,bi(r,N),mr(f,r,N),dp;Ad(),s=Lw(r,s,c)}else r=x.treeContext,Yt=Gr(N.nextSibling),Bn=s,yt=!0,_s=null,Kr=!1,r!==null&&_b(s,r),s=bd(s,f),s.flags|=4096;return s}return r=Ga(r.child,{mode:f.mode,children:f.children}),r.ref=s.ref,s.child=r,r.return=s,r}function wd(r,s){var c=s.ref;if(c===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(a(284));(r===null||r.ref!==c)&&(s.flags|=4194816)}}function fp(r,s,c,f,v){return ji(s),c=Km(r,s,c,f,void 0,v),f=Wm(),r!==null&&!_n?(Gm(r,s,v),es(r,s,v)):(yt&&f&&Nm(s),s.flags|=1,Hn(r,s,c,v),s.child)}function zw(r,s,c,f,v,x){return ji(s),s.updateQueue=null,c=$b(s,f,c,v),Ib(r),f=Wm(),r!==null&&!_n?(Gm(r,s,x),es(r,s,x)):(yt&&f&&Nm(s),s.flags|=1,Hn(r,s,c,x),s.child)}function Uw(r,s,c,f,v){if(ji(s),s.stateNode===null){var x=xo,N=c.contextType;typeof N=="object"&&N!==null&&(x=qn(N)),x=new c(f,x),s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=cp,s.stateNode=x,x._reactInternals=s,x=s.stateNode,x.props=f,x.state=s.memoizedState,x.refs={},Um(s),N=c.contextType,x.context=typeof N=="object"&&N!==null?qn(N):xo,x.state=s.memoizedState,N=c.getDerivedStateFromProps,typeof N=="function"&&(lp(s,c,N,f),x.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(N=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),N!==x.state&&cp.enqueueReplaceState(x,x.state,null),tc(s,f,x,v),ec(),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(r===null){x=s.stateNode;var O=s.memoizedProps,B=Ti(c,O);x.props=B;var ne=x.context,le=c.contextType;N=xo,typeof le=="object"&&le!==null&&(N=qn(le));var fe=c.getDerivedStateFromProps;le=typeof fe=="function"||typeof x.getSnapshotBeforeUpdate=="function",O=s.pendingProps!==O,le||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(O||ne!==N)&&jw(s,x,f,N),Cs=!1;var se=s.memoizedState;x.state=se,tc(s,f,x,v),ec(),ne=s.memoizedState,O||se!==ne||Cs?(typeof fe=="function"&&(lp(s,c,fe,f),ne=s.memoizedState),(B=Cs||Sw(s,c,B,f,se,ne,N))?(le||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=ne),x.props=f,x.state=ne,x.context=N,f=B):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{x=s.stateNode,Im(r,s),N=s.memoizedProps,le=Ti(c,N),x.props=le,fe=s.pendingProps,se=x.context,ne=c.contextType,B=xo,typeof ne=="object"&&ne!==null&&(B=qn(ne)),O=c.getDerivedStateFromProps,(ne=typeof O=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(N!==fe||se!==B)&&jw(s,x,f,B),Cs=!1,se=s.memoizedState,x.state=se,tc(s,f,x,v),ec();var oe=s.memoizedState;N!==fe||se!==oe||Cs||r!==null&&r.dependencies!==null&&nd(r.dependencies)?(typeof O=="function"&&(lp(s,c,O,f),oe=s.memoizedState),(le=Cs||Sw(s,c,le,f,se,oe,B)||r!==null&&r.dependencies!==null&&nd(r.dependencies))?(ne||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(f,oe,B),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(f,oe,B)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||N===r.memoizedProps&&se===r.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&se===r.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=oe),x.props=f,x.state=oe,x.context=B,f=le):(typeof x.componentDidUpdate!="function"||N===r.memoizedProps&&se===r.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&se===r.memoizedState||(s.flags|=1024),f=!1)}return x=f,wd(r,s),f=(s.flags&128)!==0,x||f?(x=s.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:x.render(),s.flags|=1,r!==null&&f?(s.child=ki(s,r.child,null,v),s.child=ki(s,null,c,v)):Hn(r,s,c,v),s.memoizedState=x.state,r=s.child):r=es(r,s,v),r}function Iw(r,s,c,f){return _i(),s.flags|=256,Hn(r,s,c,f),s.child}var hp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mp(r){return{baseLanes:r,cachePool:kb()}}function pp(r,s,c){return r=r!==null?r.childLanes&~c:0,s&&(r|=kr),r}function $w(r,s,c){var f=s.pendingProps,v=!1,x=(s.flags&128)!==0,N;if((N=x)||(N=r!==null&&r.memoizedState===null?!1:(vn.current&2)!==0),N&&(v=!0,s.flags&=-129),N=(s.flags&32)!==0,s.flags&=-33,r===null){if(yt){if(v?ks(s):Rs(),(r=Yt)?(r=G0(r,Kr),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:ws!==null?{id:ja,overflow:Ca}:null,retryLane:536870912,hydrationErrors:null},c=xb(r),c.return=s,s.child=c,Bn=s,Yt=null)):r=null,r===null)throw Ss(s);return Xp(r)?s.lanes=32:s.lanes=536870912,null}var O=f.children;return f=f.fallback,v?(Rs(),v=s.mode,O=_d({mode:"hidden",children:O},v),f=wi(f,v,c,null),O.return=s,f.return=s,O.sibling=f,s.child=O,f=s.child,f.memoizedState=mp(c),f.childLanes=pp(r,N,c),s.memoizedState=hp,ic(null,f)):(ks(s),gp(s,O))}var B=r.memoizedState;if(B!==null&&(O=B.dehydrated,O!==null)){if(x)s.flags&256?(ks(s),s.flags&=-257,s=vp(r,s,c)):s.memoizedState!==null?(Rs(),s.child=r.child,s.flags|=128,s=null):(Rs(),O=f.fallback,v=s.mode,f=_d({mode:"visible",children:f.children},v),O=wi(O,v,c,null),O.flags|=2,f.return=s,O.return=s,f.sibling=O,s.child=f,ki(s,r.child,null,c),f=s.child,f.memoizedState=mp(c),f.childLanes=pp(r,N,c),s.memoizedState=hp,s=ic(null,f));else if(ks(s),Xp(O)){if(N=O.nextSibling&&O.nextSibling.dataset,N)var ne=N.dgst;N=ne,f=Error(a(419)),f.stack="",f.digest=N,Gl({value:f,source:null,stack:null}),s=vp(r,s,c)}else if(_n||So(r,s,c,!1),N=(c&r.childLanes)!==0,_n||N){if(N=$t,N!==null&&(f=Q(N,c),f!==0&&f!==B.retryLane))throw B.retryLane=f,bi(r,f),mr(N,r,f),dp;Qp(O)||Ad(),s=vp(r,s,c)}else Qp(O)?(s.flags|=192,s.child=r.child,s=null):(r=B.treeContext,Yt=Gr(O.nextSibling),Bn=s,yt=!0,_s=null,Kr=!1,r!==null&&_b(s,r),s=gp(s,f.children),s.flags|=4096);return s}return v?(Rs(),O=f.fallback,v=s.mode,B=r.child,ne=B.sibling,f=Ga(B,{mode:"hidden",children:f.children}),f.subtreeFlags=B.subtreeFlags&65011712,ne!==null?O=Ga(ne,O):(O=wi(O,v,c,null),O.flags|=2),O.return=s,f.return=s,f.sibling=O,s.child=f,ic(null,f),f=s.child,O=r.child.memoizedState,O===null?O=mp(c):(v=O.cachePool,v!==null?(B=bn._currentValue,v=v.parent!==B?{parent:B,pool:B}:v):v=kb(),O={baseLanes:O.baseLanes|c,cachePool:v}),f.memoizedState=O,f.childLanes=pp(r,N,c),s.memoizedState=hp,ic(r.child,f)):(ks(s),c=r.child,r=c.sibling,c=Ga(c,{mode:"visible",children:f.children}),c.return=s,c.sibling=null,r!==null&&(N=s.deletions,N===null?(s.deletions=[r],s.flags|=16):N.push(r)),s.child=c,s.memoizedState=null,c)}function gp(r,s){return s=_d({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function _d(r,s){return r=jr(22,r,null,s),r.lanes=0,r}function vp(r,s,c){return ki(s,r.child,null,c),r=gp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Fw(r,s,c){r.lanes|=s;var f=r.alternate;f!==null&&(f.lanes|=s),Om(r.return,s,c)}function yp(r,s,c,f,v,x){var N=r.memoizedState;N===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:v,treeForkCount:x}:(N.isBackwards=s,N.rendering=null,N.renderingStartTime=0,N.last=f,N.tail=c,N.tailMode=v,N.treeForkCount=x)}function Bw(r,s,c){var f=s.pendingProps,v=f.revealOrder,x=f.tail;f=f.children;var N=vn.current,O=(N&2)!==0;if(O?(N=N&1|2,s.flags|=128):N&=1,q(vn,N),Hn(r,s,f,c),f=yt?Wl:0,!O&&r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Fw(r,c,s);else if(r.tag===19)Fw(r,c,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(v){case"forwards":for(c=s.child,v=null;c!==null;)r=c.alternate,r!==null&&ud(r)===null&&(v=c),c=c.sibling;c=v,c===null?(v=s.child,s.child=null):(v=c.sibling,c.sibling=null),yp(s,!1,v,c,x,f);break;case"backwards":case"unstable_legacy-backwards":for(c=null,v=s.child,s.child=null;v!==null;){if(r=v.alternate,r!==null&&ud(r)===null){s.child=v;break}r=v.sibling,v.sibling=c,c=v,v=r}yp(s,!0,c,null,x,f);break;case"together":yp(s,!1,null,null,void 0,f);break;default:s.memoizedState=null}return s.child}function es(r,s,c){if(r!==null&&(s.dependencies=r.dependencies),Os|=s.lanes,(c&s.childLanes)===0)if(r!==null){if(So(r,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(a(153));if(s.child!==null){for(r=s.child,c=Ga(r,r.pendingProps),s.child=c,c.return=s;r.sibling!==null;)r=r.sibling,c=c.sibling=Ga(r,r.pendingProps),c.return=s;c.sibling=null}return s.child}function xp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&nd(r)))}function yA(r,s,c){switch(s.tag){case 3:ge(s,s.stateNode.containerInfo),js(s,bn,r.memoizedState.cache),_i();break;case 27:case 5:_e(s);break;case 4:ge(s,s.stateNode.containerInfo);break;case 10:js(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Hm(s),null;break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(ks(s),s.flags|=128,null):(c&s.child.childLanes)!==0?$w(r,s,c):(ks(s),r=es(r,s,c),r!==null?r.sibling:null);ks(s);break;case 19:var v=(r.flags&128)!==0;if(f=(c&s.childLanes)!==0,f||(So(r,s,c,!1),f=(c&s.childLanes)!==0),v){if(f)return Bw(r,s,c);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),q(vn,vn.current),f)break;return null;case 22:return s.lanes=0,Mw(r,s,c,s.pendingProps);case 24:js(s,bn,r.memoizedState.cache)}return es(r,s,c)}function qw(r,s,c){if(r!==null)if(r.memoizedProps!==s.pendingProps)_n=!0;else{if(!xp(r,c)&&(s.flags&128)===0)return _n=!1,yA(r,s,c);_n=(r.flags&131072)!==0}else _n=!1,yt&&(s.flags&1048576)!==0&&wb(s,Wl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var f=s.pendingProps;if(r=Ei(s.elementType),s.type=r,typeof r=="function")jm(r)?(f=Ti(r,f),s.tag=1,s=Uw(null,s,r,f,c)):(s.tag=0,s=fp(null,s,r,f,c));else{if(r!=null){var v=r.$$typeof;if(v===A){s.tag=11,s=Aw(null,s,r,f,c);break e}else if(v===T){s.tag=14,s=Ow(null,s,r,f,c);break e}}throw s=Y(r)||r,Error(a(306,s,""))}}return s;case 0:return fp(r,s,s.type,s.pendingProps,c);case 1:return f=s.type,v=Ti(f,s.pendingProps),Uw(r,s,f,v,c);case 3:e:{if(ge(s,s.stateNode.containerInfo),r===null)throw Error(a(387));f=s.pendingProps;var x=s.memoizedState;v=x.element,Im(r,s),tc(s,f,null,c);var N=s.memoizedState;if(f=N.cache,js(s,bn,f),f!==x.cache&&Dm(s,[bn],c,!0),ec(),f=N.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:N.cache},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){s=Iw(r,s,f,c);break e}else if(f!==v){v=qr(Error(a(424)),s),Gl(v),s=Iw(r,s,f,c);break e}else for(r=s.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,Yt=Gr(r.firstChild),Bn=s,yt=!0,_s=null,Kr=!0,c=Mb(s,null,f,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(_i(),f===v){s=es(r,s,c);break e}Hn(r,s,f,c)}s=s.child}return s;case 26:return wd(r,s),r===null?(c=e_(s.type,null,s.pendingProps,null))?s.memoizedState=c:yt||(c=s.type,r=s.pendingProps,f=Ud(pe.current).createElement(c),f[we]=s,f[je]=r,Vn(f,c,r),tn(f),s.stateNode=f):s.memoizedState=e_(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return _e(s),r===null&&yt&&(f=s.stateNode=X0(s.type,s.pendingProps,pe.current),Bn=s,Kr=!0,v=Yt,zs(s.type)?(Jp=v,Yt=Gr(f.firstChild)):Yt=v),Hn(r,s,s.pendingProps.children,c),wd(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&yt&&((v=f=Yt)&&(f=GA(f,s.type,s.pendingProps,Kr),f!==null?(s.stateNode=f,Bn=s,Yt=Gr(f.firstChild),Kr=!1,v=!0):v=!1),v||Ss(s)),_e(s),v=s.type,x=s.pendingProps,N=r!==null?r.memoizedProps:null,f=x.children,Wp(v,x)?f=null:N!==null&&Wp(v,N)&&(s.flags|=32),s.memoizedState!==null&&(v=Km(r,s,cA,null,null,c),wc._currentValue=v),wd(r,s),Hn(r,s,f,c),s.child;case 6:return r===null&&yt&&((r=c=Yt)&&(c=YA(c,s.pendingProps,Kr),c!==null?(s.stateNode=c,Bn=s,Yt=null,r=!0):r=!1),r||Ss(s)),null;case 13:return $w(r,s,c);case 4:return ge(s,s.stateNode.containerInfo),f=s.pendingProps,r===null?s.child=ki(s,null,f,c):Hn(r,s,f,c),s.child;case 11:return Aw(r,s,s.type,s.pendingProps,c);case 7:return Hn(r,s,s.pendingProps,c),s.child;case 8:return Hn(r,s,s.pendingProps.children,c),s.child;case 12:return Hn(r,s,s.pendingProps.children,c),s.child;case 10:return f=s.pendingProps,js(s,s.type,f.value),Hn(r,s,f.children,c),s.child;case 9:return v=s.type._context,f=s.pendingProps.children,ji(s),v=qn(v),f=f(v),s.flags|=1,Hn(r,s,f,c),s.child;case 14:return Ow(r,s,s.type,s.pendingProps,c);case 15:return Dw(r,s,s.type,s.pendingProps,c);case 19:return Bw(r,s,c);case 31:return vA(r,s,c);case 22:return Mw(r,s,c,s.pendingProps);case 24:return ji(s),f=qn(bn),r===null?(v=Lm(),v===null&&(v=$t,x=Mm(),v.pooledCache=x,x.refCount++,x!==null&&(v.pooledCacheLanes|=c),v=x),s.memoizedState={parent:f,cache:v},Um(s),js(s,bn,v)):((r.lanes&c)!==0&&(Im(r,s),tc(s,null,null,c),ec()),v=r.memoizedState,x=s.memoizedState,v.parent!==f?(v={parent:f,cache:f},s.memoizedState=v,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=v),js(s,bn,f)):(f=x.cache,js(s,bn,f),f!==v.cache&&Dm(s,[bn],c,!0))),Hn(r,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function ts(r){r.flags|=4}function bp(r,s,c,f,v){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(v&335544128)===v)if(r.stateNode.complete)r.flags|=8192;else if(g0())r.flags|=8192;else throw Ni=id,zm}else r.flags&=-16777217}function Hw(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!s_(s))if(g0())r.flags|=8192;else throw Ni=id,zm}function Sd(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?ht():536870912,r.lanes|=s,Po|=s)}function oc(r,s){if(!yt)switch(r.tailMode){case"hidden":s=r.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Qt(r){var s=r.alternate!==null&&r.alternate.child===r.child,c=0,f=0;if(s)for(var v=r.child;v!==null;)c|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=r,v=v.sibling;else for(v=r.child;v!==null;)c|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=r,v=v.sibling;return r.subtreeFlags|=f,r.childLanes=c,s}function xA(r,s,c){var f=s.pendingProps;switch(km(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(s),null;case 1:return Qt(s),null;case 3:return c=s.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),Xa(bn),ke(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(_o(s)?ts(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Tm())),Qt(s),null;case 26:var v=s.type,x=s.memoizedState;return r===null?(ts(s),x!==null?(Qt(s),Hw(s,x)):(Qt(s),bp(s,v,null,f,c))):x?x!==r.memoizedState?(ts(s),Qt(s),Hw(s,x)):(Qt(s),s.flags&=-16777217):(r=r.memoizedProps,r!==f&&ts(s),Qt(s),bp(s,v,r,f,c)),null;case 27:if(qe(s),c=pe.current,v=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==f&&ts(s);else{if(!f){if(s.stateNode===null)throw Error(a(166));return Qt(s),null}r=ae.current,_o(s)?Sb(s):(r=X0(v,f,c),s.stateNode=r,ts(s))}return Qt(s),null;case 5:if(qe(s),v=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==f&&ts(s);else{if(!f){if(s.stateNode===null)throw Error(a(166));return Qt(s),null}if(x=ae.current,_o(s))Sb(s);else{var N=Ud(pe.current);switch(x){case 1:x=N.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:x=N.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":x=N.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":x=N.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":x=N.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof f.is=="string"?N.createElement("select",{is:f.is}):N.createElement("select"),f.multiple?x.multiple=!0:f.size&&(x.size=f.size);break;default:x=typeof f.is=="string"?N.createElement(v,{is:f.is}):N.createElement(v)}}x[we]=s,x[je]=f;e:for(N=s.child;N!==null;){if(N.tag===5||N.tag===6)x.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===s)break e;for(;N.sibling===null;){if(N.return===null||N.return===s)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}s.stateNode=x;e:switch(Vn(x,v,f),v){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&ts(s)}}return Qt(s),bp(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,c),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==f&&ts(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(a(166));if(r=pe.current,_o(s)){if(r=s.stateNode,c=s.memoizedProps,f=null,v=Bn,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}r[we]=s,r=!!(r.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||$0(r.nodeValue,c)),r||Ss(s,!0)}else r=Ud(r).createTextNode(f),r[we]=s,s.stateNode=r}return Qt(s),null;case 31:if(c=s.memoizedState,r===null||r.memoizedState!==null){if(f=_o(s),c!==null){if(r===null){if(!f)throw Error(a(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(557));r[we]=s}else _i(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Qt(s),r=!1}else c=Tm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=c),r=!0;if(!r)return s.flags&256?(Er(s),s):(Er(s),null);if((s.flags&128)!==0)throw Error(a(558))}return Qt(s),null;case 13:if(f=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(v=_o(s),f!==null&&f.dehydrated!==null){if(r===null){if(!v)throw Error(a(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(a(317));v[we]=s}else _i(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Qt(s),v=!1}else v=Tm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=v),v=!0;if(!v)return s.flags&256?(Er(s),s):(Er(s),null)}return Er(s),(s.flags&128)!==0?(s.lanes=c,s):(c=f!==null,r=r!==null&&r.memoizedState!==null,c&&(f=s.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool),x=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),x!==v&&(f.flags|=2048)),c!==r&&c&&(s.child.flags|=8192),Sd(s,s.updateQueue),Qt(s),null);case 4:return ke(),r===null&&Bp(s.stateNode.containerInfo),Qt(s),null;case 10:return Xa(s.type),Qt(s),null;case 19:if($(vn),f=s.memoizedState,f===null)return Qt(s),null;if(v=(s.flags&128)!==0,x=f.rendering,x===null)if(v)oc(f,!1);else{if(dn!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(x=ud(r),x!==null){for(s.flags|=128,oc(f,!1),r=x.updateQueue,s.updateQueue=r,Sd(s,r),s.subtreeFlags=0,r=c,c=s.child;c!==null;)yb(c,r),c=c.sibling;return q(vn,vn.current&1|2),yt&&Ya(s,f.treeForkCount),s.child}r=r.sibling}f.tail!==null&&Pt()>kd&&(s.flags|=128,v=!0,oc(f,!1),s.lanes=4194304)}else{if(!v)if(r=ud(x),r!==null){if(s.flags|=128,v=!0,r=r.updateQueue,s.updateQueue=r,Sd(s,r),oc(f,!0),f.tail===null&&f.tailMode==="hidden"&&!x.alternate&&!yt)return Qt(s),null}else 2*Pt()-f.renderingStartTime>kd&&c!==536870912&&(s.flags|=128,v=!0,oc(f,!1),s.lanes=4194304);f.isBackwards?(x.sibling=s.child,s.child=x):(r=f.last,r!==null?r.sibling=x:s.child=x,f.last=x)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Pt(),r.sibling=null,c=vn.current,q(vn,v?c&1|2:c&1),yt&&Ya(s,f.treeForkCount),r):(Qt(s),null);case 22:case 23:return Er(s),qm(),f=s.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(c&536870912)!==0&&(s.flags&128)===0&&(Qt(s),s.subtreeFlags&6&&(s.flags|=8192)):Qt(s),c=s.updateQueue,c!==null&&Sd(s,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==c&&(s.flags|=2048),r!==null&&$(Ci),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Xa(bn),Qt(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function bA(r,s){switch(km(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Xa(bn),ke(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return qe(s),null;case 31:if(s.memoizedState!==null){if(Er(s),s.alternate===null)throw Error(a(340));_i()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(Er(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(a(340));_i()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return $(vn),null;case 4:return ke(),null;case 10:return Xa(s.type),null;case 22:case 23:return Er(s),qm(),r!==null&&$(Ci),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Xa(bn),null;case 25:return null;default:return null}}function Vw(r,s){switch(km(s),s.tag){case 3:Xa(bn),ke();break;case 26:case 27:case 5:qe(s);break;case 4:ke();break;case 31:s.memoizedState!==null&&Er(s);break;case 13:Er(s);break;case 19:$(vn);break;case 10:Xa(s.type);break;case 22:case 23:Er(s),qm(),r!==null&&$(Ci);break;case 24:Xa(bn)}}function lc(r,s){try{var c=s.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var v=f.next;c=v;do{if((c.tag&r)===r){f=void 0;var x=c.create,N=c.inst;f=x(),N.destroy=f}c=c.next}while(c!==v)}}catch(O){Ot(s,s.return,O)}}function Ts(r,s,c){try{var f=s.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var x=v.next;f=x;do{if((f.tag&r)===r){var N=f.inst,O=N.destroy;if(O!==void 0){N.destroy=void 0,v=s;var B=c,ne=O;try{ne()}catch(le){Ot(v,B,le)}}}f=f.next}while(f!==x)}}catch(le){Ot(s,s.return,le)}}function Kw(r){var s=r.updateQueue;if(s!==null){var c=r.stateNode;try{Lb(s,c)}catch(f){Ot(r,r.return,f)}}}function Ww(r,s,c){c.props=Ti(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(f){Ot(r,s,f)}}function cc(r,s){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof c=="function"?r.refCleanup=c(f):c.current=f}}catch(v){Ot(r,s,v)}}function Ea(r,s){var c=r.ref,f=r.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(v){Ot(r,s,v)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){Ot(r,s,v)}else c.current=null}function Gw(r){var s=r.type,c=r.memoizedProps,f=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(v){Ot(r,r.return,v)}}function wp(r,s,c){try{var f=r.stateNode;BA(f,r.type,c,s),f[je]=s}catch(v){Ot(r,r.return,v)}}function Yw(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&zs(r.type)||r.tag===4}function _p(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Yw(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&zs(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Sp(r,s,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(r),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=Ka));else if(f!==4&&(f===27&&zs(r.type)&&(c=r.stateNode,s=null),r=r.child,r!==null))for(Sp(r,s,c),r=r.sibling;r!==null;)Sp(r,s,c),r=r.sibling}function jd(r,s,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,s?c.insertBefore(r,s):c.appendChild(r);else if(f!==4&&(f===27&&zs(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(jd(r,s,c),r=r.sibling;r!==null;)jd(r,s,c),r=r.sibling}function Qw(r){var s=r.stateNode,c=r.memoizedProps;try{for(var f=r.type,v=s.attributes;v.length;)s.removeAttributeNode(v[0]);Vn(s,f,c),s[we]=r,s[je]=c}catch(x){Ot(r,r.return,x)}}var ns=!1,Sn=!1,jp=!1,Xw=typeof WeakSet=="function"?WeakSet:Set,zn=null;function wA(r,s){if(r=r.containerInfo,Vp=Vd,r=cb(r),vm(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var v=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var N=0,O=-1,B=-1,ne=0,le=0,fe=r,se=null;t:for(;;){for(var oe;fe!==c||v!==0&&fe.nodeType!==3||(O=N+v),fe!==x||f!==0&&fe.nodeType!==3||(B=N+f),fe.nodeType===3&&(N+=fe.nodeValue.length),(oe=fe.firstChild)!==null;)se=fe,fe=oe;for(;;){if(fe===r)break t;if(se===c&&++ne===v&&(O=N),se===x&&++le===f&&(B=N),(oe=fe.nextSibling)!==null)break;fe=se,se=fe.parentNode}fe=oe}c=O===-1||B===-1?null:{start:O,end:B}}else c=null}c=c||{start:0,end:0}}else c=null;for(Kp={focusedElem:r,selectionRange:c},Vd=!1,zn=s;zn!==null;)if(s=zn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,zn=r;else for(;zn!==null;){switch(s=zn,x=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(c=0;c<r.length;c++)v=r[c],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&x!==null){r=void 0,c=s,v=x.memoizedProps,x=x.memoizedState,f=c.stateNode;try{var Te=Ti(c.type,v);r=f.getSnapshotBeforeUpdate(Te,x),f.__reactInternalSnapshotBeforeUpdate=r}catch(He){Ot(c,c.return,He)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,c=r.nodeType,c===9)Yp(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Yp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=s.sibling,r!==null){r.return=s.return,zn=r;break}zn=s.return}}function Jw(r,s,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:as(r,c),f&4&&lc(5,c);break;case 1:if(as(r,c),f&4)if(r=c.stateNode,s===null)try{r.componentDidMount()}catch(N){Ot(c,c.return,N)}else{var v=Ti(c.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(v,s,r.__reactInternalSnapshotBeforeUpdate)}catch(N){Ot(c,c.return,N)}}f&64&&Kw(c),f&512&&cc(c,c.return);break;case 3:if(as(r,c),f&64&&(r=c.updateQueue,r!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{Lb(r,s)}catch(N){Ot(c,c.return,N)}}break;case 27:s===null&&f&4&&Qw(c);case 26:case 5:as(r,c),s===null&&f&4&&Gw(c),f&512&&cc(c,c.return);break;case 12:as(r,c);break;case 31:as(r,c),f&4&&t0(r,c);break;case 13:as(r,c),f&4&&n0(r,c),f&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=TA.bind(null,c),QA(r,c))));break;case 22:if(f=c.memoizedState!==null||ns,!f){s=s!==null&&s.memoizedState!==null||Sn,v=ns;var x=Sn;ns=f,(Sn=s)&&!x?ss(r,c,(c.subtreeFlags&8772)!==0):as(r,c),ns=v,Sn=x}break;case 30:break;default:as(r,c)}}function Zw(r){var s=r.alternate;s!==null&&(r.alternate=null,Zw(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&ln(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var nn=null,ur=!1;function rs(r,s,c){for(c=c.child;c!==null;)e0(r,s,c),c=c.sibling}function e0(r,s,c){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(er,c)}catch{}switch(c.tag){case 26:Sn||Ea(c,s),rs(r,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Sn||Ea(c,s);var f=nn,v=ur;zs(c.type)&&(nn=c.stateNode,ur=!1),rs(r,s,c),yc(c.stateNode),nn=f,ur=v;break;case 5:Sn||Ea(c,s);case 6:if(f=nn,v=ur,nn=null,rs(r,s,c),nn=f,ur=v,nn!==null)if(ur)try{(nn.nodeType===9?nn.body:nn.nodeName==="HTML"?nn.ownerDocument.body:nn).removeChild(c.stateNode)}catch(x){Ot(c,s,x)}else try{nn.removeChild(c.stateNode)}catch(x){Ot(c,s,x)}break;case 18:nn!==null&&(ur?(r=nn,K0(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),qo(r)):K0(nn,c.stateNode));break;case 4:f=nn,v=ur,nn=c.stateNode.containerInfo,ur=!0,rs(r,s,c),nn=f,ur=v;break;case 0:case 11:case 14:case 15:Ts(2,c,s),Sn||Ts(4,c,s),rs(r,s,c);break;case 1:Sn||(Ea(c,s),f=c.stateNode,typeof f.componentWillUnmount=="function"&&Ww(c,s,f)),rs(r,s,c);break;case 21:rs(r,s,c);break;case 22:Sn=(f=Sn)||c.memoizedState!==null,rs(r,s,c),Sn=f;break;default:rs(r,s,c)}}function t0(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{qo(r)}catch(c){Ot(s,s.return,c)}}}function n0(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{qo(r)}catch(c){Ot(s,s.return,c)}}function _A(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new Xw),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new Xw),s;default:throw Error(a(435,r.tag))}}function Cd(r,s){var c=_A(r);s.forEach(function(f){if(!c.has(f)){c.add(f);var v=AA.bind(null,r,f);f.then(v,v)}})}function dr(r,s){var c=s.deletions;if(c!==null)for(var f=0;f<c.length;f++){var v=c[f],x=r,N=s,O=N;e:for(;O!==null;){switch(O.tag){case 27:if(zs(O.type)){nn=O.stateNode,ur=!1;break e}break;case 5:nn=O.stateNode,ur=!1;break e;case 3:case 4:nn=O.stateNode.containerInfo,ur=!0;break e}O=O.return}if(nn===null)throw Error(a(160));e0(x,N,v),nn=null,ur=!1,x=v.alternate,x!==null&&(x.return=null),v.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)r0(s,r),s=s.sibling}var ca=null;function r0(r,s){var c=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:dr(s,r),fr(r),f&4&&(Ts(3,r,r.return),lc(3,r),Ts(5,r,r.return));break;case 1:dr(s,r),fr(r),f&512&&(Sn||c===null||Ea(c,c.return)),f&64&&ns&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var v=ca;if(dr(s,r),fr(r),f&512&&(Sn||c===null||Ea(c,c.return)),f&4){var x=c!==null?c.memoizedState:null;if(f=r.memoizedState,c===null)if(f===null)if(r.stateNode===null){e:{f=r.type,c=r.memoizedProps,v=v.ownerDocument||v;t:switch(f){case"title":x=v.getElementsByTagName("title")[0],(!x||x[sn]||x[we]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=v.createElement(f),v.head.insertBefore(x,v.querySelector("head > title"))),Vn(x,f,c),x[we]=r,tn(x),f=x;break e;case"link":var N=r_("link","href",v).get(f+(c.href||""));if(N){for(var O=0;O<N.length;O++)if(x=N[O],x.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&x.getAttribute("rel")===(c.rel==null?null:c.rel)&&x.getAttribute("title")===(c.title==null?null:c.title)&&x.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){N.splice(O,1);break t}}x=v.createElement(f),Vn(x,f,c),v.head.appendChild(x);break;case"meta":if(N=r_("meta","content",v).get(f+(c.content||""))){for(O=0;O<N.length;O++)if(x=N[O],x.getAttribute("content")===(c.content==null?null:""+c.content)&&x.getAttribute("name")===(c.name==null?null:c.name)&&x.getAttribute("property")===(c.property==null?null:c.property)&&x.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&x.getAttribute("charset")===(c.charSet==null?null:c.charSet)){N.splice(O,1);break t}}x=v.createElement(f),Vn(x,f,c),v.head.appendChild(x);break;default:throw Error(a(468,f))}x[we]=r,tn(x),f=x}r.stateNode=f}else a_(v,r.type,r.stateNode);else r.stateNode=n_(v,f,r.memoizedProps);else x!==f?(x===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):x.count--,f===null?a_(v,r.type,r.stateNode):n_(v,f,r.memoizedProps)):f===null&&r.stateNode!==null&&wp(r,r.memoizedProps,c.memoizedProps)}break;case 27:dr(s,r),fr(r),f&512&&(Sn||c===null||Ea(c,c.return)),c!==null&&f&4&&wp(r,r.memoizedProps,c.memoizedProps);break;case 5:if(dr(s,r),fr(r),f&512&&(Sn||c===null||Ea(c,c.return)),r.flags&32){v=r.stateNode;try{fo(v,"")}catch(Te){Ot(r,r.return,Te)}}f&4&&r.stateNode!=null&&(v=r.memoizedProps,wp(r,v,c!==null?c.memoizedProps:v)),f&1024&&(jp=!0);break;case 6:if(dr(s,r),fr(r),f&4){if(r.stateNode===null)throw Error(a(162));f=r.memoizedProps,c=r.stateNode;try{c.nodeValue=f}catch(Te){Ot(r,r.return,Te)}}break;case 3:if(Fd=null,v=ca,ca=Id(s.containerInfo),dr(s,r),ca=v,fr(r),f&4&&c!==null&&c.memoizedState.isDehydrated)try{qo(s.containerInfo)}catch(Te){Ot(r,r.return,Te)}jp&&(jp=!1,a0(r));break;case 4:f=ca,ca=Id(r.stateNode.containerInfo),dr(s,r),fr(r),ca=f;break;case 12:dr(s,r),fr(r);break;case 31:dr(s,r),fr(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Cd(r,f)));break;case 13:dr(s,r),fr(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Nd=Pt()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Cd(r,f)));break;case 22:v=r.memoizedState!==null;var B=c!==null&&c.memoizedState!==null,ne=ns,le=Sn;if(ns=ne||v,Sn=le||B,dr(s,r),Sn=le,ns=ne,fr(r),f&8192)e:for(s=r.stateNode,s._visibility=v?s._visibility&-2:s._visibility|1,v&&(c===null||B||ns||Sn||Ai(r)),c=null,s=r;;){if(s.tag===5||s.tag===26){if(c===null){B=c=s;try{if(x=B.stateNode,v)N=x.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{O=B.stateNode;var fe=B.memoizedProps.style,se=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;O.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(Te){Ot(B,B.return,Te)}}}else if(s.tag===6){if(c===null){B=s;try{B.stateNode.nodeValue=v?"":B.memoizedProps}catch(Te){Ot(B,B.return,Te)}}}else if(s.tag===18){if(c===null){B=s;try{var oe=B.stateNode;v?W0(oe,!0):W0(B.stateNode,!1)}catch(Te){Ot(B,B.return,Te)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=r.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,Cd(r,c))));break;case 19:dr(s,r),fr(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Cd(r,f)));break;case 30:break;case 21:break;default:dr(s,r),fr(r)}}function fr(r){var s=r.flags;if(s&2){try{for(var c,f=r.return;f!==null;){if(Yw(f)){c=f;break}f=f.return}if(c==null)throw Error(a(160));switch(c.tag){case 27:var v=c.stateNode,x=_p(r);jd(r,x,v);break;case 5:var N=c.stateNode;c.flags&32&&(fo(N,""),c.flags&=-33);var O=_p(r);jd(r,O,N);break;case 3:case 4:var B=c.stateNode.containerInfo,ne=_p(r);Sp(r,ne,B);break;default:throw Error(a(161))}}catch(le){Ot(r,r.return,le)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function a0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;a0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function as(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Jw(r,s.alternate,s),s=s.sibling}function Ai(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Ts(4,s,s.return),Ai(s);break;case 1:Ea(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&Ww(s,s.return,c),Ai(s);break;case 27:yc(s.stateNode);case 26:case 5:Ea(s,s.return),Ai(s);break;case 22:s.memoizedState===null&&Ai(s);break;case 30:Ai(s);break;default:Ai(s)}r=r.sibling}}function ss(r,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,v=r,x=s,N=x.flags;switch(x.tag){case 0:case 11:case 15:ss(v,x,c),lc(4,x);break;case 1:if(ss(v,x,c),f=x,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ne){Ot(f,f.return,ne)}if(f=x,v=f.updateQueue,v!==null){var O=f.stateNode;try{var B=v.shared.hiddenCallbacks;if(B!==null)for(v.shared.hiddenCallbacks=null,v=0;v<B.length;v++)Pb(B[v],O)}catch(ne){Ot(f,f.return,ne)}}c&&N&64&&Kw(x),cc(x,x.return);break;case 27:Qw(x);case 26:case 5:ss(v,x,c),c&&f===null&&N&4&&Gw(x),cc(x,x.return);break;case 12:ss(v,x,c);break;case 31:ss(v,x,c),c&&N&4&&t0(v,x);break;case 13:ss(v,x,c),c&&N&4&&n0(v,x);break;case 22:x.memoizedState===null&&ss(v,x,c),cc(x,x.return);break;case 30:break;default:ss(v,x,c)}s=s.sibling}}function Cp(r,s){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&Yl(c))}function Ep(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Yl(r))}function ua(r,s,c,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)s0(r,s,c,f),s=s.sibling}function s0(r,s,c,f){var v=s.flags;switch(s.tag){case 0:case 11:case 15:ua(r,s,c,f),v&2048&&lc(9,s);break;case 1:ua(r,s,c,f);break;case 3:ua(r,s,c,f),v&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Yl(r)));break;case 12:if(v&2048){ua(r,s,c,f),r=s.stateNode;try{var x=s.memoizedProps,N=x.id,O=x.onPostCommit;typeof O=="function"&&O(N,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(B){Ot(s,s.return,B)}}else ua(r,s,c,f);break;case 31:ua(r,s,c,f);break;case 13:ua(r,s,c,f);break;case 23:break;case 22:x=s.stateNode,N=s.alternate,s.memoizedState!==null?x._visibility&2?ua(r,s,c,f):uc(r,s):x._visibility&2?ua(r,s,c,f):(x._visibility|=2,Oo(r,s,c,f,(s.subtreeFlags&10256)!==0||!1)),v&2048&&Cp(N,s);break;case 24:ua(r,s,c,f),v&2048&&Ep(s.alternate,s);break;default:ua(r,s,c,f)}}function Oo(r,s,c,f,v){for(v=v&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var x=r,N=s,O=c,B=f,ne=N.flags;switch(N.tag){case 0:case 11:case 15:Oo(x,N,O,B,v),lc(8,N);break;case 23:break;case 22:var le=N.stateNode;N.memoizedState!==null?le._visibility&2?Oo(x,N,O,B,v):uc(x,N):(le._visibility|=2,Oo(x,N,O,B,v)),v&&ne&2048&&Cp(N.alternate,N);break;case 24:Oo(x,N,O,B,v),v&&ne&2048&&Ep(N.alternate,N);break;default:Oo(x,N,O,B,v)}s=s.sibling}}function uc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=r,f=s,v=f.flags;switch(f.tag){case 22:uc(c,f),v&2048&&Cp(f.alternate,f);break;case 24:uc(c,f),v&2048&&Ep(f.alternate,f);break;default:uc(c,f)}s=s.sibling}}var dc=8192;function Do(r,s,c){if(r.subtreeFlags&dc)for(r=r.child;r!==null;)i0(r,s,c),r=r.sibling}function i0(r,s,c){switch(r.tag){case 26:Do(r,s,c),r.flags&dc&&r.memoizedState!==null&&lO(c,ca,r.memoizedState,r.memoizedProps);break;case 5:Do(r,s,c);break;case 3:case 4:var f=ca;ca=Id(r.stateNode.containerInfo),Do(r,s,c),ca=f;break;case 22:r.memoizedState===null&&(f=r.alternate,f!==null&&f.memoizedState!==null?(f=dc,dc=16777216,Do(r,s,c),dc=f):Do(r,s,c));break;default:Do(r,s,c)}}function o0(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function fc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var f=s[c];zn=f,c0(f,r)}o0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)l0(r),r=r.sibling}function l0(r){switch(r.tag){case 0:case 11:case 15:fc(r),r.flags&2048&&Ts(9,r,r.return);break;case 3:fc(r);break;case 12:fc(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Ed(r)):fc(r);break;default:fc(r)}}function Ed(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var f=s[c];zn=f,c0(f,r)}o0(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Ts(8,s,s.return),Ed(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,Ed(s));break;default:Ed(s)}r=r.sibling}}function c0(r,s){for(;zn!==null;){var c=zn;switch(c.tag){case 0:case 11:case 15:Ts(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Yl(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,zn=f;else e:for(c=r;zn!==null;){f=zn;var v=f.sibling,x=f.return;if(Zw(f),f===c){zn=null;break e}if(v!==null){v.return=x,zn=v;break e}zn=x}}}var SA={getCacheForType:function(r){var s=qn(bn),c=s.data.get(r);return c===void 0&&(c=r(),s.data.set(r,c)),c},cacheSignal:function(){return qn(bn).controller.signal}},jA=typeof WeakMap=="function"?WeakMap:Map,kt=0,$t=null,at=null,ot=0,At=0,Nr=null,As=!1,Mo=!1,Np=!1,is=0,dn=0,Os=0,Oi=0,kp=0,kr=0,Po=0,hc=null,hr=null,Rp=!1,Nd=0,u0=0,kd=1/0,Rd=null,Ds=null,Rn=0,Ms=null,Lo=null,os=0,Tp=0,Ap=null,d0=null,mc=0,Op=null;function Rr(){return(kt&2)!==0&&ot!==0?ot&-ot:R.T!==null?Up():ye()}function f0(){if(kr===0)if((ot&536870912)===0||yt){var r=aa;aa<<=1,(aa&3932160)===0&&(aa=262144),kr=r}else kr=536870912;return r=Cr.current,r!==null&&(r.flags|=32),kr}function mr(r,s,c){(r===$t&&(At===2||At===9)||r.cancelPendingCommit!==null)&&(zo(r,0),Ps(r,ot,kr,!1)),jt(r,c),((kt&2)===0||r!==$t)&&(r===$t&&((kt&2)===0&&(Oi|=c),dn===4&&Ps(r,ot,kr,!1)),Na(r))}function h0(r,s,c){if((kt&6)!==0)throw Error(a(327));var f=!c&&(s&127)===0&&(s&r.expiredLanes)===0||ft(r,s),v=f?NA(r,s):Mp(r,s,!0),x=f;do{if(v===0){Mo&&!f&&Ps(r,s,0,!1);break}else{if(c=r.current.alternate,x&&!CA(c)){v=Mp(r,s,!1),x=!1;continue}if(v===2){if(x=s,r.errorRecoveryDisabledLanes&x)var N=0;else N=r.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){s=N;e:{var O=r;v=hc;var B=O.current.memoizedState.isDehydrated;if(B&&(zo(O,N).flags|=256),N=Mp(O,N,!1),N!==2){if(Np&&!B){O.errorRecoveryDisabledLanes|=x,Oi|=x,v=4;break e}x=hr,hr=v,x!==null&&(hr===null?hr=x:hr.push.apply(hr,x))}v=N}if(x=!1,v!==2)continue}}if(v===1){zo(r,0),Ps(r,s,0,!0);break}e:{switch(f=r,x=v,x){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:Ps(f,s,kr,!As);break e;case 2:hr=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(v=Nd+300-Pt(),10<v)){if(Ps(f,s,kr,!As),Pe(f,0,!0)!==0)break e;os=s,f.timeoutHandle=H0(m0.bind(null,f,c,hr,Rd,Rp,s,kr,Oi,Po,As,x,"Throttled",-0,0),v);break e}m0(f,c,hr,Rd,Rp,s,kr,Oi,Po,As,x,null,-0,0)}}break}while(!0);Na(r)}function m0(r,s,c,f,v,x,N,O,B,ne,le,fe,se,oe){if(r.timeoutHandle=-1,fe=s.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ka},i0(s,x,fe);var Te=(x&62914560)===x?Nd-Pt():(x&4194048)===x?u0-Pt():0;if(Te=cO(fe,Te),Te!==null){os=x,r.cancelPendingCommit=Te(_0.bind(null,r,s,x,c,f,v,N,O,B,le,fe,null,se,oe)),Ps(r,x,N,!ne);return}}_0(r,s,x,c,f,v,N,O,B)}function CA(r){for(var s=r;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var v=c[f],x=v.getSnapshot;v=v.value;try{if(!Sr(x(),v))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ps(r,s,c,f){s&=~kp,s&=~Oi,r.suspendedLanes|=s,r.pingedLanes&=~s,f&&(r.warmLanes|=s),f=r.expirationTimes;for(var v=s;0<v;){var x=31-Vt(v),N=1<<x;f[x]=-1,v&=~N}c!==0&&Pn(r,c,s)}function Td(){return(kt&6)===0?(pc(0),!1):!0}function Dp(){if(at!==null){if(At===0)var r=at.return;else r=at,Qa=Si=null,Ym(r),No=null,Xl=0,r=at;for(;r!==null;)Vw(r.alternate,r),r=r.return;at=null}}function zo(r,s){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,VA(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),os=0,Dp(),$t=r,at=c=Ga(r.current,null),ot=s,At=0,Nr=null,As=!1,Mo=ft(r,s),Np=!1,Po=kr=kp=Oi=Os=dn=0,hr=hc=null,Rp=!1,(s&8)!==0&&(s|=s&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=s;0<f;){var v=31-Vt(f),x=1<<v;s|=r[v],f&=~x}return is=s,Xu(),c}function p0(r,s){Qe=null,R.H=sc,s===Eo||s===sd?(s=Ab(),At=3):s===zm?(s=Ab(),At=4):At=s===dp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Nr=s,at===null&&(dn=1,xd(r,qr(s,r.current)))}function g0(){var r=Cr.current;return r===null?!0:(ot&4194048)===ot?Wr===null:(ot&62914560)===ot||(ot&536870912)!==0?r===Wr:!1}function v0(){var r=R.H;return R.H=sc,r===null?sc:r}function y0(){var r=R.A;return R.A=SA,r}function Ad(){dn=4,As||(ot&4194048)!==ot&&Cr.current!==null||(Mo=!0),(Os&134217727)===0&&(Oi&134217727)===0||$t===null||Ps($t,ot,kr,!1)}function Mp(r,s,c){var f=kt;kt|=2;var v=v0(),x=y0();($t!==r||ot!==s)&&(Rd=null,zo(r,s)),s=!1;var N=dn;e:do try{if(At!==0&&at!==null){var O=at,B=Nr;switch(At){case 8:Dp(),N=6;break e;case 3:case 2:case 9:case 6:Cr.current===null&&(s=!0);var ne=At;if(At=0,Nr=null,Uo(r,O,B,ne),c&&Mo){N=0;break e}break;default:ne=At,At=0,Nr=null,Uo(r,O,B,ne)}}EA(),N=dn;break}catch(le){p0(r,le)}while(!0);return s&&r.shellSuspendCounter++,Qa=Si=null,kt=f,R.H=v,R.A=x,at===null&&($t=null,ot=0,Xu()),N}function EA(){for(;at!==null;)x0(at)}function NA(r,s){var c=kt;kt|=2;var f=v0(),v=y0();$t!==r||ot!==s?(Rd=null,kd=Pt()+500,zo(r,s)):Mo=ft(r,s);e:do try{if(At!==0&&at!==null){s=at;var x=Nr;t:switch(At){case 1:At=0,Nr=null,Uo(r,s,x,1);break;case 2:case 9:if(Rb(x)){At=0,Nr=null,b0(s);break}s=function(){At!==2&&At!==9||$t!==r||(At=7),Na(r)},x.then(s,s);break e;case 3:At=7;break e;case 4:At=5;break e;case 7:Rb(x)?(At=0,Nr=null,b0(s)):(At=0,Nr=null,Uo(r,s,x,7));break;case 5:var N=null;switch(at.tag){case 26:N=at.memoizedState;case 5:case 27:var O=at;if(N?s_(N):O.stateNode.complete){At=0,Nr=null;var B=O.sibling;if(B!==null)at=B;else{var ne=O.return;ne!==null?(at=ne,Od(ne)):at=null}break t}}At=0,Nr=null,Uo(r,s,x,5);break;case 6:At=0,Nr=null,Uo(r,s,x,6);break;case 8:Dp(),dn=6;break e;default:throw Error(a(462))}}kA();break}catch(le){p0(r,le)}while(!0);return Qa=Si=null,R.H=f,R.A=v,kt=c,at!==null?0:($t=null,ot=0,Xu(),dn)}function kA(){for(;at!==null&&!Zt();)x0(at)}function x0(r){var s=qw(r.alternate,r,is);r.memoizedProps=r.pendingProps,s===null?Od(r):at=s}function b0(r){var s=r,c=s.alternate;switch(s.tag){case 15:case 0:s=zw(c,s,s.pendingProps,s.type,void 0,ot);break;case 11:s=zw(c,s,s.pendingProps,s.type.render,s.ref,ot);break;case 5:Ym(s);default:Vw(c,s),s=at=yb(s,is),s=qw(c,s,is)}r.memoizedProps=r.pendingProps,s===null?Od(r):at=s}function Uo(r,s,c,f){Qa=Si=null,Ym(s),No=null,Xl=0;var v=s.return;try{if(gA(r,v,s,c,ot)){dn=1,xd(r,qr(c,r.current)),at=null;return}}catch(x){if(v!==null)throw at=v,x;dn=1,xd(r,qr(c,r.current)),at=null;return}s.flags&32768?(yt||f===1?r=!0:Mo||(ot&536870912)!==0?r=!1:(As=r=!0,(f===2||f===9||f===3||f===6)&&(f=Cr.current,f!==null&&f.tag===13&&(f.flags|=16384))),w0(s,r)):Od(s)}function Od(r){var s=r;do{if((s.flags&32768)!==0){w0(s,As);return}r=s.return;var c=xA(s.alternate,s,is);if(c!==null){at=c;return}if(s=s.sibling,s!==null){at=s;return}at=s=r}while(s!==null);dn===0&&(dn=5)}function w0(r,s){do{var c=bA(r.alternate,r);if(c!==null){c.flags&=32767,at=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(r=r.sibling,r!==null)){at=r;return}at=r=c}while(r!==null);dn=6,at=null}function _0(r,s,c,f,v,x,N,O,B){r.cancelPendingCommit=null;do Dd();while(Rn!==0);if((kt&6)!==0)throw Error(a(327));if(s!==null){if(s===r.current)throw Error(a(177));if(x=s.lanes|s.childLanes,x|=_m,wt(r,c,x,N,O,B),r===$t&&(at=$t=null,ot=0),Lo=s,Ms=r,os=c,Tp=x,Ap=v,d0=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,OA(Ge,function(){return N0(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=R.T,R.T=null,v=U.p,U.p=2,N=kt,kt|=4;try{wA(r,s,c)}finally{kt=N,U.p=v,R.T=f}}Rn=1,S0(),j0(),C0()}}function S0(){if(Rn===1){Rn=0;var r=Ms,s=Lo,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=R.T,R.T=null;var f=U.p;U.p=2;var v=kt;kt|=4;try{r0(s,r);var x=Kp,N=cb(r.containerInfo),O=x.focusedElem,B=x.selectionRange;if(N!==O&&O&&O.ownerDocument&&lb(O.ownerDocument.documentElement,O)){if(B!==null&&vm(O)){var ne=B.start,le=B.end;if(le===void 0&&(le=ne),"selectionStart"in O)O.selectionStart=ne,O.selectionEnd=Math.min(le,O.value.length);else{var fe=O.ownerDocument||document,se=fe&&fe.defaultView||window;if(se.getSelection){var oe=se.getSelection(),Te=O.textContent.length,He=Math.min(B.start,Te),It=B.end===void 0?He:Math.min(B.end,Te);!oe.extend&&He>It&&(N=It,It=He,He=N);var ee=ob(O,He),W=ob(O,It);if(ee&&W&&(oe.rangeCount!==1||oe.anchorNode!==ee.node||oe.anchorOffset!==ee.offset||oe.focusNode!==W.node||oe.focusOffset!==W.offset)){var te=fe.createRange();te.setStart(ee.node,ee.offset),oe.removeAllRanges(),He>It?(oe.addRange(te),oe.extend(W.node,W.offset)):(te.setEnd(W.node,W.offset),oe.addRange(te))}}}}for(fe=[],oe=O;oe=oe.parentNode;)oe.nodeType===1&&fe.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<fe.length;O++){var ue=fe[O];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Vd=!!Vp,Kp=Vp=null}finally{kt=v,U.p=f,R.T=c}}r.current=s,Rn=2}}function j0(){if(Rn===2){Rn=0;var r=Ms,s=Lo,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=R.T,R.T=null;var f=U.p;U.p=2;var v=kt;kt|=4;try{Jw(r,s.alternate,s)}finally{kt=v,U.p=f,R.T=c}}Rn=3}}function C0(){if(Rn===4||Rn===3){Rn=0,Zn();var r=Ms,s=Lo,c=os,f=d0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Rn=5:(Rn=0,Lo=Ms=null,E0(r,r.pendingLanes));var v=r.pendingLanes;if(v===0&&(Ds=null),he(c),s=s.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(er,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=R.T,v=U.p,U.p=2,R.T=null;try{for(var x=r.onRecoverableError,N=0;N<f.length;N++){var O=f[N];x(O.value,{componentStack:O.stack})}}finally{R.T=s,U.p=v}}(os&3)!==0&&Dd(),Na(r),v=r.pendingLanes,(c&261930)!==0&&(v&42)!==0?r===Op?mc++:(mc=0,Op=r):mc=0,pc(0)}}function E0(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Yl(s)))}function Dd(){return S0(),j0(),C0(),N0()}function N0(){if(Rn!==5)return!1;var r=Ms,s=Tp;Tp=0;var c=he(os),f=R.T,v=U.p;try{U.p=32>c?32:c,R.T=null,c=Ap,Ap=null;var x=Ms,N=os;if(Rn=0,Lo=Ms=null,os=0,(kt&6)!==0)throw Error(a(331));var O=kt;if(kt|=4,l0(x.current),s0(x,x.current,N,c),kt=O,pc(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(er,x)}catch{}return!0}finally{U.p=v,R.T=f,E0(r,s)}}function k0(r,s,c){s=qr(c,s),s=up(r.stateNode,s,2),r=Ns(r,s,2),r!==null&&(jt(r,2),Na(r))}function Ot(r,s,c){if(r.tag===3)k0(r,r,c);else for(;s!==null;){if(s.tag===3){k0(s,r,c);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ds===null||!Ds.has(f))){r=qr(c,r),c=Rw(2),f=Ns(s,c,2),f!==null&&(Tw(c,f,s,r),jt(f,2),Na(f));break}}s=s.return}}function Pp(r,s,c){var f=r.pingCache;if(f===null){f=r.pingCache=new jA;var v=new Set;f.set(s,v)}else v=f.get(s),v===void 0&&(v=new Set,f.set(s,v));v.has(c)||(Np=!0,v.add(c),r=RA.bind(null,r,s,c),s.then(r,r))}function RA(r,s,c){var f=r.pingCache;f!==null&&f.delete(s),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,$t===r&&(ot&c)===c&&(dn===4||dn===3&&(ot&62914560)===ot&&300>Pt()-Nd?(kt&2)===0&&zo(r,0):kp|=c,Po===ot&&(Po=0)),Na(r)}function R0(r,s){s===0&&(s=ht()),r=bi(r,s),r!==null&&(jt(r,s),Na(r))}function TA(r){var s=r.memoizedState,c=0;s!==null&&(c=s.retryLane),R0(r,c)}function AA(r,s){var c=0;switch(r.tag){case 31:case 13:var f=r.stateNode,v=r.memoizedState;v!==null&&(c=v.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(a(314))}f!==null&&f.delete(s),R0(r,c)}function OA(r,s){return pn(r,s)}var Md=null,Io=null,Lp=!1,Pd=!1,zp=!1,Ls=0;function Na(r){r!==Io&&r.next===null&&(Io===null?Md=Io=r:Io=Io.next=r),Pd=!0,Lp||(Lp=!0,MA())}function pc(r,s){if(!zp&&Pd){zp=!0;do for(var c=!1,f=Md;f!==null;){if(r!==0){var v=f.pendingLanes;if(v===0)var x=0;else{var N=f.suspendedLanes,O=f.pingedLanes;x=(1<<31-Vt(42|r)+1)-1,x&=v&~(N&~O),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(c=!0,D0(f,x))}else x=ot,x=Pe(f,f===$t?x:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(x&3)===0||ft(f,x)||(c=!0,D0(f,x));f=f.next}while(c);zp=!1}}function DA(){T0()}function T0(){Pd=Lp=!1;var r=0;Ls!==0&&HA()&&(r=Ls);for(var s=Pt(),c=null,f=Md;f!==null;){var v=f.next,x=A0(f,s);x===0?(f.next=null,c===null?Md=v:c.next=v,v===null&&(Io=c)):(c=f,(r!==0||(x&3)!==0)&&(Pd=!0)),f=v}Rn!==0&&Rn!==5||pc(r),Ls!==0&&(Ls=0)}function A0(r,s){for(var c=r.suspendedLanes,f=r.pingedLanes,v=r.expirationTimes,x=r.pendingLanes&-62914561;0<x;){var N=31-Vt(x),O=1<<N,B=v[N];B===-1?((O&c)===0||(O&f)!==0)&&(v[N]=bt(O,s)):B<=s&&(r.expiredLanes|=O),x&=~O}if(s=$t,c=ot,c=Pe(r,r===s?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,c===0||r===s&&(At===2||At===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&$n(f),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||ft(r,c)){if(s=c&-c,s===r.callbackPriority)return s;switch(f!==null&&$n(f),he(c)){case 2:case 8:c=Je;break;case 32:c=Ge;break;case 268435456:c=Ht;break;default:c=Ge}return f=O0.bind(null,r),c=pn(c,f),r.callbackPriority=s,r.callbackNode=c,s}return f!==null&&f!==null&&$n(f),r.callbackPriority=2,r.callbackNode=null,2}function O0(r,s){if(Rn!==0&&Rn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(Dd()&&r.callbackNode!==c)return null;var f=ot;return f=Pe(r,r===$t?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(h0(r,f,s),A0(r,Pt()),r.callbackNode!=null&&r.callbackNode===c?O0.bind(null,r):null)}function D0(r,s){if(Dd())return null;h0(r,s,!0)}function MA(){KA(function(){(kt&6)!==0?pn(Ae,DA):T0()})}function Up(){if(Ls===0){var r=jo;r===0&&(r=tr,tr<<=1,(tr&261888)===0&&(tr=256)),Ls=r}return Ls}function M0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:qu(""+r)}function P0(r,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,r.id&&c.setAttribute("form",r.id),s.parentNode.insertBefore(c,s),r=new FormData(r),c.parentNode.removeChild(c),r}function PA(r,s,c,f,v){if(s==="submit"&&c&&c.stateNode===v){var x=M0((v[je]||null).action),N=f.submitter;N&&(s=(s=N[je]||null)?M0(s.formAction):N.getAttribute("formAction"),s!==null&&(x=s,N=null));var O=new Wu("action","action",null,f,v);r.push({event:O,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Ls!==0){var B=N?P0(v,N):new FormData(v);ap(c,{pending:!0,data:B,method:v.method,action:x},null,B)}}else typeof x=="function"&&(O.preventDefault(),B=N?P0(v,N):new FormData(v),ap(c,{pending:!0,data:B,method:v.method,action:x},x,B))},currentTarget:v}]})}}for(var Ip=0;Ip<wm.length;Ip++){var $p=wm[Ip],LA=$p.toLowerCase(),zA=$p[0].toUpperCase()+$p.slice(1);la(LA,"on"+zA)}la(fb,"onAnimationEnd"),la(hb,"onAnimationIteration"),la(mb,"onAnimationStart"),la("dblclick","onDoubleClick"),la("focusin","onFocus"),la("focusout","onBlur"),la(Z2,"onTransitionRun"),la(eA,"onTransitionStart"),la(tA,"onTransitionCancel"),la(pb,"onTransitionEnd"),$r("onMouseEnter",["mouseout","mouseover"]),$r("onMouseLeave",["mouseout","mouseover"]),$r("onPointerEnter",["pointerout","pointerover"]),$r("onPointerLeave",["pointerout","pointerover"]),ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ia("onBeforeInput",["compositionend","keypress","textInput","paste"]),ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gc));function L0(r,s){s=(s&4)!==0;for(var c=0;c<r.length;c++){var f=r[c],v=f.event;f=f.listeners;e:{var x=void 0;if(s)for(var N=f.length-1;0<=N;N--){var O=f[N],B=O.instance,ne=O.currentTarget;if(O=O.listener,B!==x&&v.isPropagationStopped())break e;x=O,v.currentTarget=ne;try{x(v)}catch(le){Qu(le)}v.currentTarget=null,x=B}else for(N=0;N<f.length;N++){if(O=f[N],B=O.instance,ne=O.currentTarget,O=O.listener,B!==x&&v.isPropagationStopped())break e;x=O,v.currentTarget=ne;try{x(v)}catch(le){Qu(le)}v.currentTarget=null,x=B}}}}function st(r,s){var c=s[Be];c===void 0&&(c=s[Be]=new Set);var f=r+"__bubble";c.has(f)||(z0(s,r,2,!1),c.add(f))}function Fp(r,s,c){var f=0;s&&(f|=4),z0(c,r,f,s)}var Ld="_reactListening"+Math.random().toString(36).slice(2);function Bp(r){if(!r[Ld]){r[Ld]=!0,sa.forEach(function(c){c!=="selectionchange"&&(UA.has(c)||Fp(c,!1,r),Fp(c,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Ld]||(s[Ld]=!0,Fp("selectionchange",!1,s))}}function z0(r,s,c,f){switch(f_(s)){case 2:var v=fO;break;case 8:v=hO;break;default:v=rg}c=v.bind(null,s,c,r),v=void 0,!lm||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),f?v!==void 0?r.addEventListener(s,c,{capture:!0,passive:v}):r.addEventListener(s,c,!0):v!==void 0?r.addEventListener(s,c,{passive:v}):r.addEventListener(s,c,!1)}function qp(r,s,c,f,v){var x=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var N=f.tag;if(N===3||N===4){var O=f.stateNode.containerInfo;if(O===v)break;if(N===4)for(N=f.return;N!==null;){var B=N.tag;if((B===3||B===4)&&N.stateNode.containerInfo===v)return;N=N.return}for(;O!==null;){if(N=cn(O),N===null)return;if(B=N.tag,B===5||B===6||B===26||B===27){f=x=N;continue e}O=O.parentNode}}f=f.return}Bx(function(){var ne=x,le=im(c),fe=[];e:{var se=gb.get(r);if(se!==void 0){var oe=Wu,Te=r;switch(r){case"keypress":if(Vu(c)===0)break e;case"keydown":case"keyup":oe=A2;break;case"focusin":Te="focus",oe=fm;break;case"focusout":Te="blur",oe=fm;break;case"beforeblur":case"afterblur":oe=fm;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Vx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=x2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=M2;break;case fb:case hb:case mb:oe=_2;break;case pb:oe=L2;break;case"scroll":case"scrollend":oe=v2;break;case"wheel":oe=U2;break;case"copy":case"cut":case"paste":oe=j2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=Wx;break;case"toggle":case"beforetoggle":oe=$2}var He=(s&4)!==0,It=!He&&(r==="scroll"||r==="scrollend"),ee=He?se!==null?se+"Capture":null:se;He=[];for(var W=ne,te;W!==null;){var ue=W;if(te=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||te===null||ee===null||(ue=Ul(W,ee),ue!=null&&He.push(vc(W,ue,te))),It)break;W=W.return}0<He.length&&(se=new oe(se,Te,null,c,le),fe.push({event:se,listeners:He}))}}if((s&7)===0){e:{if(se=r==="mouseover"||r==="pointerover",oe=r==="mouseout"||r==="pointerout",se&&c!==sm&&(Te=c.relatedTarget||c.fromElement)&&(cn(Te)||Te[ze]))break e;if((oe||se)&&(se=le.window===le?le:(se=le.ownerDocument)?se.defaultView||se.parentWindow:window,oe?(Te=c.relatedTarget||c.toElement,oe=ne,Te=Te?cn(Te):null,Te!==null&&(It=l(Te),He=Te.tag,Te!==It||He!==5&&He!==27&&He!==6)&&(Te=null)):(oe=null,Te=ne),oe!==Te)){if(He=Vx,ue="onMouseLeave",ee="onMouseEnter",W="mouse",(r==="pointerout"||r==="pointerover")&&(He=Wx,ue="onPointerLeave",ee="onPointerEnter",W="pointer"),It=oe==null?se:Ln(oe),te=Te==null?se:Ln(Te),se=new He(ue,W+"leave",oe,c,le),se.target=It,se.relatedTarget=te,ue=null,cn(le)===ne&&(He=new He(ee,W+"enter",Te,c,le),He.target=te,He.relatedTarget=It,ue=He),It=ue,oe&&Te)t:{for(He=IA,ee=oe,W=Te,te=0,ue=ee;ue;ue=He(ue))te++;ue=0;for(var $e=W;$e;$e=He($e))ue++;for(;0<te-ue;)ee=He(ee),te--;for(;0<ue-te;)W=He(W),ue--;for(;te--;){if(ee===W||W!==null&&ee===W.alternate){He=ee;break t}ee=He(ee),W=He(W)}He=null}else He=null;oe!==null&&U0(fe,se,oe,He,!1),Te!==null&&It!==null&&U0(fe,It,Te,He,!0)}}e:{if(se=ne?Ln(ne):window,oe=se.nodeName&&se.nodeName.toLowerCase(),oe==="select"||oe==="input"&&se.type==="file")var Ct=tb;else if(Zx(se))if(nb)Ct=Q2;else{Ct=G2;var Le=W2}else oe=se.nodeName,!oe||oe.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?ne&&am(ne.elementType)&&(Ct=tb):Ct=Y2;if(Ct&&(Ct=Ct(r,ne))){eb(fe,Ct,c,le);break e}Le&&Le(r,se,ne),r==="focusout"&&ne&&se.type==="number"&&ne.memoizedProps.value!=null&&rm(se,"number",se.value)}switch(Le=ne?Ln(ne):window,r){case"focusin":(Zx(Le)||Le.contentEditable==="true")&&(go=Le,ym=ne,Kl=null);break;case"focusout":Kl=ym=go=null;break;case"mousedown":xm=!0;break;case"contextmenu":case"mouseup":case"dragend":xm=!1,ub(fe,c,le);break;case"selectionchange":if(J2)break;case"keydown":case"keyup":ub(fe,c,le)}var Xe;if(mm)e:{switch(r){case"compositionstart":var lt="onCompositionStart";break e;case"compositionend":lt="onCompositionEnd";break e;case"compositionupdate":lt="onCompositionUpdate";break e}lt=void 0}else po?Xx(r,c)&&(lt="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(lt="onCompositionStart");lt&&(Gx&&c.locale!=="ko"&&(po||lt!=="onCompositionStart"?lt==="onCompositionEnd"&&po&&(Xe=qx()):(bs=le,cm="value"in bs?bs.value:bs.textContent,po=!0)),Le=zd(ne,lt),0<Le.length&&(lt=new Kx(lt,r,null,c,le),fe.push({event:lt,listeners:Le}),Xe?lt.data=Xe:(Xe=Jx(c),Xe!==null&&(lt.data=Xe)))),(Xe=B2?q2(r,c):H2(r,c))&&(lt=zd(ne,"onBeforeInput"),0<lt.length&&(Le=new Kx("onBeforeInput","beforeinput",null,c,le),fe.push({event:Le,listeners:lt}),Le.data=Xe)),PA(fe,r,ne,c,le)}L0(fe,s)})}function vc(r,s,c){return{instance:r,listener:s,currentTarget:c}}function zd(r,s){for(var c=s+"Capture",f=[];r!==null;){var v=r,x=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||x===null||(v=Ul(r,c),v!=null&&f.unshift(vc(r,v,x)),v=Ul(r,s),v!=null&&f.push(vc(r,v,x))),r.tag===3)return f;r=r.return}return[]}function IA(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function U0(r,s,c,f,v){for(var x=s._reactName,N=[];c!==null&&c!==f;){var O=c,B=O.alternate,ne=O.stateNode;if(O=O.tag,B!==null&&B===f)break;O!==5&&O!==26&&O!==27||ne===null||(B=ne,v?(ne=Ul(c,x),ne!=null&&N.unshift(vc(c,ne,B))):v||(ne=Ul(c,x),ne!=null&&N.push(vc(c,ne,B)))),c=c.return}N.length!==0&&r.push({event:s,listeners:N})}var $A=/\r\n?/g,FA=/\u0000|\uFFFD/g;function I0(r){return(typeof r=="string"?r:""+r).replace($A,`
`).replace(FA,"")}function $0(r,s){return s=I0(s),I0(r)===s}function Ut(r,s,c,f,v,x){switch(c){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||fo(r,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&fo(r,""+f);break;case"className":oa(r,"class",f);break;case"tabIndex":oa(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":oa(r,c,f);break;case"style":$x(r,f,x);break;case"data":if(s!=="object"){oa(r,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||c!=="href")){r.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(c);break}f=qu(""+f),r.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(c==="formAction"?(s!=="input"&&Ut(r,s,"name",v.name,v,null),Ut(r,s,"formEncType",v.formEncType,v,null),Ut(r,s,"formMethod",v.formMethod,v,null),Ut(r,s,"formTarget",v.formTarget,v,null)):(Ut(r,s,"encType",v.encType,v,null),Ut(r,s,"method",v.method,v,null),Ut(r,s,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(c);break}f=qu(""+f),r.setAttribute(c,f);break;case"onClick":f!=null&&(r.onclick=Ka);break;case"onScroll":f!=null&&st("scroll",r);break;case"onScrollEnd":f!=null&&st("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(a(61));if(c=f.__html,c!=null){if(v.children!=null)throw Error(a(60));r.innerHTML=c}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}c=qu(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(c,""+f):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":f===!0?r.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(c,f):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(c,f):r.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(c):r.setAttribute(c,f);break;case"popover":st("beforetoggle",r),st("toggle",r),gn(r,"popover",f);break;case"xlinkActuate":Fn(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Fn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Fn(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Fn(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Fn(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Fn(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Fn(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Fn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Fn(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":gn(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=p2.get(c)||c,gn(r,c,f))}}function Hp(r,s,c,f,v,x){switch(c){case"style":$x(r,f,x);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(a(61));if(c=f.__html,c!=null){if(v.children!=null)throw Error(a(60));r.innerHTML=c}}break;case"children":typeof f=="string"?fo(r,f):(typeof f=="number"||typeof f=="bigint")&&fo(r,""+f);break;case"onScroll":f!=null&&st("scroll",r);break;case"onScrollEnd":f!=null&&st("scrollend",r);break;case"onClick":f!=null&&(r.onclick=Ka);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_r.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),s=c.slice(2,v?c.length-7:void 0),x=r[je]||null,x=x!=null?x[c]:null,typeof x=="function"&&r.removeEventListener(s,x,v),typeof f=="function")){typeof x!="function"&&x!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(s,f,v);break e}c in r?r[c]=f:f===!0?r.setAttribute(c,""):gn(r,c,f)}}}function Vn(r,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",r),st("load",r);var f=!1,v=!1,x;for(x in c)if(c.hasOwnProperty(x)){var N=c[x];if(N!=null)switch(x){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Ut(r,s,x,N,c,null)}}v&&Ut(r,s,"srcSet",c.srcSet,c,null),f&&Ut(r,s,"src",c.src,c,null);return;case"input":st("invalid",r);var O=x=N=v=null,B=null,ne=null;for(f in c)if(c.hasOwnProperty(f)){var le=c[f];if(le!=null)switch(f){case"name":v=le;break;case"type":N=le;break;case"checked":B=le;break;case"defaultChecked":ne=le;break;case"value":x=le;break;case"defaultValue":O=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(a(137,s));break;default:Ut(r,s,f,le,c,null)}}Lx(r,x,O,B,ne,N,v,!1);return;case"select":st("invalid",r),f=N=x=null;for(v in c)if(c.hasOwnProperty(v)&&(O=c[v],O!=null))switch(v){case"value":x=O;break;case"defaultValue":N=O;break;case"multiple":f=O;default:Ut(r,s,v,O,c,null)}s=x,c=N,r.multiple=!!f,s!=null?uo(r,!!f,s,!1):c!=null&&uo(r,!!f,c,!0);return;case"textarea":st("invalid",r),x=v=f=null;for(N in c)if(c.hasOwnProperty(N)&&(O=c[N],O!=null))switch(N){case"value":f=O;break;case"defaultValue":v=O;break;case"children":x=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(a(91));break;default:Ut(r,s,N,O,c,null)}Ux(r,f,v,x);return;case"option":for(B in c)c.hasOwnProperty(B)&&(f=c[B],f!=null)&&(B==="selected"?r.selected=f&&typeof f!="function"&&typeof f!="symbol":Ut(r,s,B,f,c,null));return;case"dialog":st("beforetoggle",r),st("toggle",r),st("cancel",r),st("close",r);break;case"iframe":case"object":st("load",r);break;case"video":case"audio":for(f=0;f<gc.length;f++)st(gc[f],r);break;case"image":st("error",r),st("load",r);break;case"details":st("toggle",r);break;case"embed":case"source":case"link":st("error",r),st("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in c)if(c.hasOwnProperty(ne)&&(f=c[ne],f!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Ut(r,s,ne,f,c,null)}return;default:if(am(s)){for(le in c)c.hasOwnProperty(le)&&(f=c[le],f!==void 0&&Hp(r,s,le,f,c,void 0));return}}for(O in c)c.hasOwnProperty(O)&&(f=c[O],f!=null&&Ut(r,s,O,f,c,null))}function BA(r,s,c,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,x=null,N=null,O=null,B=null,ne=null,le=null;for(oe in c){var fe=c[oe];if(c.hasOwnProperty(oe)&&fe!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":B=fe;default:f.hasOwnProperty(oe)||Ut(r,s,oe,null,f,fe)}}for(var se in f){var oe=f[se];if(fe=c[se],f.hasOwnProperty(se)&&(oe!=null||fe!=null))switch(se){case"type":x=oe;break;case"name":v=oe;break;case"checked":ne=oe;break;case"defaultChecked":le=oe;break;case"value":N=oe;break;case"defaultValue":O=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(a(137,s));break;default:oe!==fe&&Ut(r,s,se,oe,f,fe)}}nm(r,N,O,B,ne,le,x,v);return;case"select":oe=N=O=se=null;for(x in c)if(B=c[x],c.hasOwnProperty(x)&&B!=null)switch(x){case"value":break;case"multiple":oe=B;default:f.hasOwnProperty(x)||Ut(r,s,x,null,f,B)}for(v in f)if(x=f[v],B=c[v],f.hasOwnProperty(v)&&(x!=null||B!=null))switch(v){case"value":se=x;break;case"defaultValue":O=x;break;case"multiple":N=x;default:x!==B&&Ut(r,s,v,x,f,B)}s=O,c=N,f=oe,se!=null?uo(r,!!c,se,!1):!!f!=!!c&&(s!=null?uo(r,!!c,s,!0):uo(r,!!c,c?[]:"",!1));return;case"textarea":oe=se=null;for(O in c)if(v=c[O],c.hasOwnProperty(O)&&v!=null&&!f.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Ut(r,s,O,null,f,v)}for(N in f)if(v=f[N],x=c[N],f.hasOwnProperty(N)&&(v!=null||x!=null))switch(N){case"value":se=v;break;case"defaultValue":oe=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(a(91));break;default:v!==x&&Ut(r,s,N,v,f,x)}zx(r,se,oe);return;case"option":for(var Te in c)se=c[Te],c.hasOwnProperty(Te)&&se!=null&&!f.hasOwnProperty(Te)&&(Te==="selected"?r.selected=!1:Ut(r,s,Te,null,f,se));for(B in f)se=f[B],oe=c[B],f.hasOwnProperty(B)&&se!==oe&&(se!=null||oe!=null)&&(B==="selected"?r.selected=se&&typeof se!="function"&&typeof se!="symbol":Ut(r,s,B,se,f,oe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in c)se=c[He],c.hasOwnProperty(He)&&se!=null&&!f.hasOwnProperty(He)&&Ut(r,s,He,null,f,se);for(ne in f)if(se=f[ne],oe=c[ne],f.hasOwnProperty(ne)&&se!==oe&&(se!=null||oe!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(a(137,s));break;default:Ut(r,s,ne,se,f,oe)}return;default:if(am(s)){for(var It in c)se=c[It],c.hasOwnProperty(It)&&se!==void 0&&!f.hasOwnProperty(It)&&Hp(r,s,It,void 0,f,se);for(le in f)se=f[le],oe=c[le],!f.hasOwnProperty(le)||se===oe||se===void 0&&oe===void 0||Hp(r,s,le,se,f,oe);return}}for(var ee in c)se=c[ee],c.hasOwnProperty(ee)&&se!=null&&!f.hasOwnProperty(ee)&&Ut(r,s,ee,null,f,se);for(fe in f)se=f[fe],oe=c[fe],!f.hasOwnProperty(fe)||se===oe||se==null&&oe==null||Ut(r,s,fe,se,f,oe)}function F0(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qA(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,c=performance.getEntriesByType("resource"),f=0;f<c.length;f++){var v=c[f],x=v.transferSize,N=v.initiatorType,O=v.duration;if(x&&O&&F0(N)){for(N=0,O=v.responseEnd,f+=1;f<c.length;f++){var B=c[f],ne=B.startTime;if(ne>O)break;var le=B.transferSize,fe=B.initiatorType;le&&F0(fe)&&(B=B.responseEnd,N+=le*(B<O?1:(O-ne)/(B-ne)))}if(--f,s+=8*(x+N)/(v.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Vp=null,Kp=null;function Ud(r){return r.nodeType===9?r:r.ownerDocument}function B0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function q0(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Wp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Gp=null;function HA(){var r=window.event;return r&&r.type==="popstate"?r===Gp?!1:(Gp=r,!0):(Gp=null,!1)}var H0=typeof setTimeout=="function"?setTimeout:void 0,VA=typeof clearTimeout=="function"?clearTimeout:void 0,V0=typeof Promise=="function"?Promise:void 0,KA=typeof queueMicrotask=="function"?queueMicrotask:typeof V0<"u"?function(r){return V0.resolve(null).then(r).catch(WA)}:H0;function WA(r){setTimeout(function(){throw r})}function zs(r){return r==="head"}function K0(r,s){var c=s,f=0;do{var v=c.nextSibling;if(r.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"||c==="/&"){if(f===0){r.removeChild(v),qo(s);return}f--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")f++;else if(c==="html")yc(r.ownerDocument.documentElement);else if(c==="head"){c=r.ownerDocument.head,yc(c);for(var x=c.firstChild;x;){var N=x.nextSibling,O=x.nodeName;x[sn]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&x.rel.toLowerCase()==="stylesheet"||c.removeChild(x),x=N}}else c==="body"&&yc(r.ownerDocument.body);c=v}while(c);qo(s)}function W0(r,s){var c=r;r=0;do{var f=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),f&&f.nodeType===8)if(c=f.data,c==="/$"){if(r===0)break;r--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||r++;c=f}while(c)}function Yp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Yp(c),ln(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function GA(r,s,c,f){for(;r.nodeType===1;){var v=c;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[sn])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(x=r.getAttribute("rel"),x==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(x!==v.rel||r.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||r.getAttribute("title")!==(v.title==null?null:v.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(x=r.getAttribute("src"),(x!==(v.src==null?null:v.src)||r.getAttribute("type")!==(v.type==null?null:v.type)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&x&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var x=v.name==null?null:""+v.name;if(v.type==="hidden"&&r.getAttribute("name")===x)return r}else return r;if(r=Gr(r.nextSibling),r===null)break}return null}function YA(r,s,c){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=Gr(r.nextSibling),r===null))return null;return r}function G0(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=Gr(r.nextSibling),r===null))return null;return r}function Qp(r){return r.data==="$?"||r.data==="$~"}function Xp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function QA(r,s){var c=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||c.readyState!=="loading")s();else{var f=function(){s(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function Gr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var Jp=null;function Y0(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var c=r.data;if(c==="/$"||c==="/&"){if(s===0)return Gr(r.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}r=r.nextSibling}return null}function Q0(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return r;s--}else c!=="/$"&&c!=="/&"||s++}r=r.previousSibling}return null}function X0(r,s,c){switch(s=Ud(c),r){case"html":if(r=s.documentElement,!r)throw Error(a(452));return r;case"head":if(r=s.head,!r)throw Error(a(453));return r;case"body":if(r=s.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function yc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);ln(r)}var Yr=new Map,J0=new Set;function Id(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ls=U.d;U.d={f:XA,r:JA,D:ZA,C:eO,L:tO,m:nO,X:aO,S:rO,M:sO};function XA(){var r=ls.f(),s=Td();return r||s}function JA(r){var s=pt(r);s!==null&&s.tag===5&&s.type==="form"?pw(s):ls.r(r)}var $o=typeof document>"u"?null:document;function Z0(r,s,c){var f=$o;if(f&&typeof s=="string"&&s){var v=Fr(s);v='link[rel="'+r+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),J0.has(v)||(J0.add(v),r={rel:r,crossOrigin:c,href:s},f.querySelector(v)===null&&(s=f.createElement("link"),Vn(s,"link",r),tn(s),f.head.appendChild(s)))}}function ZA(r){ls.D(r),Z0("dns-prefetch",r,null)}function eO(r,s){ls.C(r,s),Z0("preconnect",r,s)}function tO(r,s,c){ls.L(r,s,c);var f=$o;if(f&&r&&s){var v='link[rel="preload"][as="'+Fr(s)+'"]';s==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+Fr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+Fr(c.imageSizes)+'"]')):v+='[href="'+Fr(r)+'"]';var x=v;switch(s){case"style":x=Fo(r);break;case"script":x=Bo(r)}Yr.has(x)||(r=p({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:r,as:s},c),Yr.set(x,r),f.querySelector(v)!==null||s==="style"&&f.querySelector(xc(x))||s==="script"&&f.querySelector(bc(x))||(s=f.createElement("link"),Vn(s,"link",r),tn(s),f.head.appendChild(s)))}}function nO(r,s){ls.m(r,s);var c=$o;if(c&&r){var f=s&&typeof s.as=="string"?s.as:"script",v='link[rel="modulepreload"][as="'+Fr(f)+'"][href="'+Fr(r)+'"]',x=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Bo(r)}if(!Yr.has(x)&&(r=p({rel:"modulepreload",href:r},s),Yr.set(x,r),c.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(bc(x)))return}f=c.createElement("link"),Vn(f,"link",r),tn(f),c.head.appendChild(f)}}}function rO(r,s,c){ls.S(r,s,c);var f=$o;if(f&&r){var v=lr(f).hoistableStyles,x=Fo(r);s=s||"default";var N=v.get(x);if(!N){var O={loading:0,preload:null};if(N=f.querySelector(xc(x)))O.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":s},c),(c=Yr.get(x))&&Zp(r,c);var B=N=f.createElement("link");tn(B),Vn(B,"link",r),B._p=new Promise(function(ne,le){B.onload=ne,B.onerror=le}),B.addEventListener("load",function(){O.loading|=1}),B.addEventListener("error",function(){O.loading|=2}),O.loading|=4,$d(N,s,f)}N={type:"stylesheet",instance:N,count:1,state:O},v.set(x,N)}}}function aO(r,s){ls.X(r,s);var c=$o;if(c&&r){var f=lr(c).hoistableScripts,v=Bo(r),x=f.get(v);x||(x=c.querySelector(bc(v)),x||(r=p({src:r,async:!0},s),(s=Yr.get(v))&&eg(r,s),x=c.createElement("script"),tn(x),Vn(x,"link",r),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(v,x))}}function sO(r,s){ls.M(r,s);var c=$o;if(c&&r){var f=lr(c).hoistableScripts,v=Bo(r),x=f.get(v);x||(x=c.querySelector(bc(v)),x||(r=p({src:r,async:!0,type:"module"},s),(s=Yr.get(v))&&eg(r,s),x=c.createElement("script"),tn(x),Vn(x,"link",r),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(v,x))}}function e_(r,s,c,f){var v=(v=pe.current)?Id(v):null;if(!v)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=Fo(c.href),c=lr(v).hoistableStyles,f=c.get(s),f||(f={type:"style",instance:null,count:0,state:null},c.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=Fo(c.href);var x=lr(v).hoistableStyles,N=x.get(r);if(N||(v=v.ownerDocument||v,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(r,N),(x=v.querySelector(xc(r)))&&!x._p&&(N.instance=x,N.state.loading=5),Yr.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Yr.set(r,c),x||iO(v,r,c,N.state))),s&&f===null)throw Error(a(528,""));return N}if(s&&f!==null)throw Error(a(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Bo(c),c=lr(v).hoistableScripts,f=c.get(s),f||(f={type:"script",instance:null,count:0,state:null},c.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function Fo(r){return'href="'+Fr(r)+'"'}function xc(r){return'link[rel="stylesheet"]['+r+"]"}function t_(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function iO(r,s,c,f){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=r.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),Vn(s,"link",c),tn(s),r.head.appendChild(s))}function Bo(r){return'[src="'+Fr(r)+'"]'}function bc(r){return"script[async]"+r}function n_(r,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var f=r.querySelector('style[data-href~="'+Fr(c.href)+'"]');if(f)return s.instance=f,tn(f),f;var v=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),tn(f),Vn(f,"style",v),$d(f,c.precedence,r),s.instance=f;case"stylesheet":v=Fo(c.href);var x=r.querySelector(xc(v));if(x)return s.state.loading|=4,s.instance=x,tn(x),x;f=t_(c),(v=Yr.get(v))&&Zp(f,v),x=(r.ownerDocument||r).createElement("link"),tn(x);var N=x;return N._p=new Promise(function(O,B){N.onload=O,N.onerror=B}),Vn(x,"link",f),s.state.loading|=4,$d(x,c.precedence,r),s.instance=x;case"script":return x=Bo(c.src),(v=r.querySelector(bc(x)))?(s.instance=v,tn(v),v):(f=c,(v=Yr.get(x))&&(f=p({},c),eg(f,v)),r=r.ownerDocument||r,v=r.createElement("script"),tn(v),Vn(v,"link",f),r.head.appendChild(v),s.instance=v);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,$d(f,c.precedence,r));return s.instance}function $d(r,s,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,x=v,N=0;N<f.length;N++){var O=f[N];if(O.dataset.precedence===s)x=O;else if(x!==v)break}x?x.parentNode.insertBefore(r,x.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(r,s.firstChild))}function Zp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function eg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Fd=null;function r_(r,s,c){if(Fd===null){var f=new Map,v=Fd=new Map;v.set(c,f)}else v=Fd,f=v.get(c),f||(f=new Map,v.set(c,f));if(f.has(r))return f;for(f.set(r,null),c=c.getElementsByTagName(r),v=0;v<c.length;v++){var x=c[v];if(!(x[sn]||x[we]||r==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var N=x.getAttribute(s)||"";N=r+N;var O=f.get(N);O?O.push(x):f.set(N,[x])}}return f}function a_(r,s,c){r=r.ownerDocument||r,r.head.insertBefore(c,s==="title"?r.querySelector("head > title"):null)}function oO(r,s,c){if(c===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(r=s.disabled,typeof s.precedence=="string"&&r==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function s_(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function lO(r,s,c,f){if(c.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var v=Fo(f.href),x=s.querySelector(xc(v));if(x){s=x._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=Bd.bind(r),s.then(r,r)),c.state.loading|=4,c.instance=x,tn(x);return}x=s.ownerDocument||s,f=t_(f),(v=Yr.get(v))&&Zp(f,v),x=x.createElement("link"),tn(x);var N=x;N._p=new Promise(function(O,B){N.onload=O,N.onerror=B}),Vn(x,"link",f),c.instance=x}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(r.count++,c=Bd.bind(r),s.addEventListener("load",c),s.addEventListener("error",c))}}var tg=0;function cO(r,s){return r.stylesheets&&r.count===0&&Hd(r,r.stylesheets),0<r.count||0<r.imgCount?function(c){var f=setTimeout(function(){if(r.stylesheets&&Hd(r,r.stylesheets),r.unsuspend){var x=r.unsuspend;r.unsuspend=null,x()}},6e4+s);0<r.imgBytes&&tg===0&&(tg=62500*qA());var v=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Hd(r,r.stylesheets),r.unsuspend)){var x=r.unsuspend;r.unsuspend=null,x()}},(r.imgBytes>tg?50:800)+s);return r.unsuspend=c,function(){r.unsuspend=null,clearTimeout(f),clearTimeout(v)}}:null}function Bd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hd(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var qd=null;function Hd(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,qd=new Map,s.forEach(uO,r),qd=null,Bd.call(r))}function uO(r,s){if(!(s.state.loading&4)){var c=qd.get(r);if(c)var f=c.get(null);else{c=new Map,qd.set(r,c);for(var v=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<v.length;x++){var N=v[x];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(c.set(N.dataset.precedence,N),f=N)}f&&c.set(null,f)}v=s.instance,N=v.getAttribute("data-precedence"),x=c.get(N)||f,x===f&&c.set(null,v),c.set(N,v),this.count++,f=Bd.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),x?x.parentNode.insertBefore(v,x.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(v,r.firstChild)),s.state.loading|=4}}var wc={$$typeof:k,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function dO(r,s,c,f,v,x,N,O,B){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=en(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=en(0),this.hiddenUpdates=en(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=x,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function i_(r,s,c,f,v,x,N,O,B,ne,le,fe){return r=new dO(r,s,c,N,B,ne,le,fe,O),s=1,x===!0&&(s|=24),x=jr(3,null,null,s),r.current=x,x.stateNode=r,s=Mm(),s.refCount++,r.pooledCache=s,s.refCount++,x.memoizedState={element:f,isDehydrated:c,cache:s},Um(x),r}function o_(r){return r?(r=xo,r):xo}function l_(r,s,c,f,v,x){v=o_(v),f.context===null?f.context=v:f.pendingContext=v,f=Es(s),f.payload={element:c},x=x===void 0?null:x,x!==null&&(f.callback=x),c=Ns(r,f,s),c!==null&&(mr(c,r,s),Zl(c,r,s))}function c_(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<s?c:s}}function ng(r,s){c_(r,s),(r=r.alternate)&&c_(r,s)}function u_(r){if(r.tag===13||r.tag===31){var s=bi(r,67108864);s!==null&&mr(s,r,67108864),ng(r,67108864)}}function d_(r){if(r.tag===13||r.tag===31){var s=Rr();s=re(s);var c=bi(r,s);c!==null&&mr(c,r,s),ng(r,s)}}var Vd=!0;function fO(r,s,c,f){var v=R.T;R.T=null;var x=U.p;try{U.p=2,rg(r,s,c,f)}finally{U.p=x,R.T=v}}function hO(r,s,c,f){var v=R.T;R.T=null;var x=U.p;try{U.p=8,rg(r,s,c,f)}finally{U.p=x,R.T=v}}function rg(r,s,c,f){if(Vd){var v=ag(f);if(v===null)qp(r,s,f,Kd,c),h_(r,f);else if(pO(v,r,s,c,f))f.stopPropagation();else if(h_(r,f),s&4&&-1<mO.indexOf(r)){for(;v!==null;){var x=pt(v);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var N=Kt(x.pendingLanes);if(N!==0){var O=x;for(O.pendingLanes|=2,O.entangledLanes|=2;N;){var B=1<<31-Vt(N);O.entanglements[1]|=B,N&=~B}Na(x),(kt&6)===0&&(kd=Pt()+500,pc(0))}}break;case 31:case 13:O=bi(x,2),O!==null&&mr(O,x,2),Td(),ng(x,2)}if(x=ag(f),x===null&&qp(r,s,f,Kd,c),x===v)break;v=x}v!==null&&f.stopPropagation()}else qp(r,s,f,null,c)}}function ag(r){return r=im(r),sg(r)}var Kd=null;function sg(r){if(Kd=null,r=cn(r),r!==null){var s=l(r);if(s===null)r=null;else{var c=s.tag;if(c===13){if(r=u(s),r!==null)return r;r=null}else if(c===31){if(r=d(s),r!==null)return r;r=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Kd=r,null}function f_(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xe()){case Ae:return 2;case Je:return 8;case Ge:case Ze:return 32;case Ht:return 268435456;default:return 32}default:return 32}}var ig=!1,Us=null,Is=null,$s=null,_c=new Map,Sc=new Map,Fs=[],mO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h_(r,s){switch(r){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":Is=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":_c.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sc.delete(s.pointerId)}}function jc(r,s,c,f,v,x){return r===null||r.nativeEvent!==x?(r={blockedOn:s,domEventName:c,eventSystemFlags:f,nativeEvent:x,targetContainers:[v]},s!==null&&(s=pt(s),s!==null&&u_(s)),r):(r.eventSystemFlags|=f,s=r.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),r)}function pO(r,s,c,f,v){switch(s){case"focusin":return Us=jc(Us,r,s,c,f,v),!0;case"dragenter":return Is=jc(Is,r,s,c,f,v),!0;case"mouseover":return $s=jc($s,r,s,c,f,v),!0;case"pointerover":var x=v.pointerId;return _c.set(x,jc(_c.get(x)||null,r,s,c,f,v)),!0;case"gotpointercapture":return x=v.pointerId,Sc.set(x,jc(Sc.get(x)||null,r,s,c,f,v)),!0}return!1}function m_(r){var s=cn(r.target);if(s!==null){var c=l(s);if(c!==null){if(s=c.tag,s===13){if(s=u(c),s!==null){r.blockedOn=s,Re(r.priority,function(){d_(c)});return}}else if(s===31){if(s=d(c),s!==null){r.blockedOn=s,Re(r.priority,function(){d_(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Wd(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var c=ag(r.nativeEvent);if(c===null){c=r.nativeEvent;var f=new c.constructor(c.type,c);sm=f,c.target.dispatchEvent(f),sm=null}else return s=pt(c),s!==null&&u_(s),r.blockedOn=c,!1;s.shift()}return!0}function p_(r,s,c){Wd(r)&&c.delete(s)}function gO(){ig=!1,Us!==null&&Wd(Us)&&(Us=null),Is!==null&&Wd(Is)&&(Is=null),$s!==null&&Wd($s)&&($s=null),_c.forEach(p_),Sc.forEach(p_)}function Gd(r,s){r.blockedOn===s&&(r.blockedOn=null,ig||(ig=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,gO)))}var Yd=null;function g_(r){Yd!==r&&(Yd=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Yd===r&&(Yd=null);for(var s=0;s<r.length;s+=3){var c=r[s],f=r[s+1],v=r[s+2];if(typeof f!="function"){if(sg(f||c)===null)continue;break}var x=pt(c);x!==null&&(r.splice(s,3),s-=3,ap(x,{pending:!0,data:v,method:c.method,action:f},f,v))}}))}function qo(r){function s(B){return Gd(B,r)}Us!==null&&Gd(Us,r),Is!==null&&Gd(Is,r),$s!==null&&Gd($s,r),_c.forEach(s),Sc.forEach(s);for(var c=0;c<Fs.length;c++){var f=Fs[c];f.blockedOn===r&&(f.blockedOn=null)}for(;0<Fs.length&&(c=Fs[0],c.blockedOn===null);)m_(c),c.blockedOn===null&&Fs.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var v=c[f],x=c[f+1],N=v[je]||null;if(typeof x=="function")N||g_(c);else if(N){var O=null;if(x&&x.hasAttribute("formAction")){if(v=x,N=x[je]||null)O=N.formAction;else if(sg(v)!==null)continue}else O=N.action;typeof O=="function"?c[f+1]=O:(c.splice(f,3),f-=3),g_(c)}}}function v_(){function r(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(N){return v=N})},focusReset:"manual",scroll:"manual"})}function s(){v!==null&&(v(),v=null),f||setTimeout(c,20)}function c(){if(!f&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,v=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){f=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),v!==null&&(v(),v=null)}}}function og(r){this._internalRoot=r}Qd.prototype.render=og.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(a(409));var c=s.current,f=Rr();l_(c,f,r,s,null,null)},Qd.prototype.unmount=og.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;l_(r.current,2,null,r,null,null),Td(),s[ze]=null}};function Qd(r){this._internalRoot=r}Qd.prototype.unstable_scheduleHydration=function(r){if(r){var s=ye();r={blockedOn:null,target:r,priority:s};for(var c=0;c<Fs.length&&s!==0&&s<Fs[c].priority;c++);Fs.splice(c,0,r),c===0&&m_(r)}};var y_=t.version;if(y_!=="19.2.4")throw Error(a(527,y_,"19.2.4"));U.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=m(s),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var vO={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xd.isDisabled&&Xd.supportsFiber)try{er=Xd.inject(vO),Nt=Xd}catch{}}return Ec.createRoot=function(r,s){if(!i(r))throw Error(a(299));var c=!1,f="",v=Cw,x=Ew,N=Nw;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(x=s.onCaughtError),s.onRecoverableError!==void 0&&(N=s.onRecoverableError)),s=i_(r,1,!1,null,null,c,f,null,v,x,N,v_),r[ze]=s.current,Bp(r),new og(s)},Ec.hydrateRoot=function(r,s,c){if(!i(r))throw Error(a(299));var f=!1,v="",x=Cw,N=Ew,O=Nw,B=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(N=c.onCaughtError),c.onRecoverableError!==void 0&&(O=c.onRecoverableError),c.formState!==void 0&&(B=c.formState)),s=i_(r,1,!0,s,c??null,f,v,B,x,N,O,v_),s.context=o_(null),c=s.current,f=Rr(),f=re(f),v=Es(f),v.callback=null,Ns(c,v,f),c=f,s.current.lanes=c,jt(s,c),Na(s),r[ze]=s.current,Bp(r),new Qd(s)},Ec.version="19.2.4",Ec}var k_;function NO(){if(k_)return cg.exports;k_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),cg.exports=EO(),cg.exports}var kO=NO();const RO=bu(kO);var g=fh();const ce=bu(g),hh=xO({__proto__:null,default:ce},[g]);var y1=e=>{throw TypeError(e)},TO=(e,t,n)=>t.has(e)||y1("Cannot "+n),mg=(e,t,n)=>(TO(e,t,"read from private field"),n?n.call(e):t.get(e)),AO=(e,t,n)=>t.has(e)?y1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),R_="popstate";function OO(e={}){function t(a,i){let{pathname:l,search:u,hash:d}=a.location;return Jc("",{pathname:l,search:u,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(a,i){return typeof i=="string"?i:za(i)}return MO(t,n,null,e)}function tt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function DO(){return Math.random().toString(36).substring(2,10)}function T_(e,t){return{usr:e.state,key:e.key,idx:t}}function Jc(e,t,n=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ci(t):t,state:n,key:t&&t.key||a||DO()}}function za({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ci(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function MO(e,t,n,a={}){let{window:i=document.defaultView,v5Compat:l=!1}=a,u=i.history,d="POP",h=null,m=y();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function y(){return(u.state||{idx:null}).idx}function p(){d="POP";let j=y(),C=j==null?null:j-m;m=j,h&&h({action:d,location:_.location,delta:C})}function b(j,C){d="PUSH";let E=Jc(_.location,j,C);m=y()+1;let k=T_(E,m),A=_.createHref(E);try{u.pushState(k,"",A)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(A)}l&&h&&h({action:d,location:_.location,delta:1})}function w(j,C){d="REPLACE";let E=Jc(_.location,j,C);m=y();let k=T_(E,m),A=_.createHref(E);u.replaceState(k,"",A),l&&h&&h({action:d,location:_.location,delta:0})}function S(j){return x1(j)}let _={get action(){return d},get location(){return e(i,u)},listen(j){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(R_,p),h=j,()=>{i.removeEventListener(R_,p),h=null}},createHref(j){return t(i,j)},createURL:S,encodeLocation(j){let C=S(j);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:b,replace:w,go(j){return u.go(j)}};return _}function x1(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),tt(n,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:za(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=n+a),new URL(a,n)}var Pc,A_=class{constructor(e){if(AO(this,Pc,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(mg(this,Pc).has(e))return mg(this,Pc).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){mg(this,Pc).set(e,t)}};Pc=new WeakMap;var PO=new Set(["lazy","caseSensitive","path","id","index","children"]);function LO(e){return PO.has(e)}var zO=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function UO(e){return zO.has(e)}function IO(e){return e.index===!0}function Zc(e,t,n=[],a={},i=!1){return e.map((l,u)=>{let d=[...n,String(u)],h=typeof l.id=="string"?l.id:d.join("-");if(tt(l.index!==!0||!l.children,"Cannot specify children on an index route"),tt(i||!a[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),IO(l)){let m={...l,id:h};return a[h]=O_(m,t(m)),m}else{let m={...l,id:h,children:void 0};return a[h]=O_(m,t(m)),l.children&&(m.children=Zc(l.children,t,d,a,i)),m}})}function O_(e,t){return Object.assign(e,{...t,...typeof t.lazy=="object"&&t.lazy!=null?{lazy:{...e.lazy,...t.lazy}}:{}})}function Gs(e,t,n="/"){return Lc(e,t,n,!1)}function Lc(e,t,n,a){let i=typeof t=="string"?ci(t):t,l=ea(i.pathname||"/",n);if(l==null)return null;let u=b1(e);FO(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let m=JO(l);d=QO(u[h],m,a)}return d}function $O(e,t){let{route:n,pathname:a,params:i}=e;return{id:n.id,pathname:a,params:i,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function b1(e,t=[],n=[],a="",i=!1){let l=(u,d,h=i,m)=>{let y={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(a)&&h)return;tt(y.relativePath.startsWith(a),`Absolute route path "${y.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(a.length)}let p=Ma([a,y.relativePath]),b=n.concat(y);u.children&&u.children.length>0&&(tt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),b1(u.children,t,b,p,h)),!(u.path==null&&!u.index)&&t.push({path:p,score:GO(p,u.index),routesMeta:b})};return e.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))l(u,d);else for(let h of w1(u.path))l(u,d,!0,h)}),t}function w1(e){let t=e.split("/");if(t.length===0)return[];let[n,...a]=t,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(a.length===0)return i?[l,""]:[l];let u=w1(a.join("/")),d=[];return d.push(...u.map(h=>h===""?l:[l,h].join("/"))),i&&d.push(...u),d.map(h=>e.startsWith("/")&&h===""?"/":h)}function FO(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:YO(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var BO=/^:[\w-]+$/,qO=3,HO=2,VO=1,KO=10,WO=-2,D_=e=>e==="*";function GO(e,t){let n=e.split("/"),a=n.length;return n.some(D_)&&(a+=WO),t&&(a+=HO),n.filter(i=>!D_(i)).reduce((i,l)=>i+(BO.test(l)?qO:l===""?VO:KO),a)}function YO(e,t){return e.length===t.length&&e.slice(0,-1).every((a,i)=>a===t[i])?e[e.length-1]-t[t.length-1]:0}function QO(e,t,n=!1){let{routesMeta:a}=e,i={},l="/",u=[];for(let d=0;d<a.length;++d){let h=a[d],m=d===a.length-1,y=l==="/"?t:t.slice(l.length)||"/",p=Mf({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},y),b=h.route;if(!p&&m&&n&&!a[a.length-1].route.index&&(p=Mf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!p)return null;Object.assign(i,p.params),u.push({params:i,pathname:Ma([l,p.pathname]),pathnameBase:tD(Ma([l,p.pathnameBase])),route:b}),p.pathnameBase!=="/"&&(l=Ma([l,p.pathnameBase]))}return u}function Mf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=XO(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let l=i[0],u=l.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:a.reduce((m,{paramName:y,isOptional:p},b)=>{if(y==="*"){let S=d[b]||"";u=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const w=d[b];return p&&!w?m[y]=void 0:m[y]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:e}}function XO(e,t=!1,n=!0){hn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(a.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),a]}function JO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return hn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ea(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}function ZO({basename:e,pathname:t}){return t==="/"?e:Ma([e,t])}var _1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qv=e=>_1.test(e);function eD(e,t="/"){let{pathname:n,search:a="",hash:i=""}=typeof e=="string"?ci(e):e,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=M_(n.substring(1),"/"):l=M_(n,t)):l=t,{pathname:l,search:nD(a),hash:rD(i)}}function M_(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function pg(e,t,n,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function S1(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function mh(e){let t=S1(e);return t.map((n,a)=>a===t.length-1?n.pathname:n.pathnameBase)}function ph(e,t,n,a=!1){let i;typeof e=="string"?i=ci(e):(i={...e},tt(!i.pathname||!i.pathname.includes("?"),pg("?","pathname","search",i)),tt(!i.pathname||!i.pathname.includes("#"),pg("#","pathname","hash",i)),tt(!i.search||!i.search.includes("#"),pg("#","search","hash",i)));let l=e===""||i.pathname==="",u=l?"/":i.pathname,d;if(u==null)d=n;else{let p=t.length-1;if(!a&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),p-=1;i.pathname=b.join("/")}d=p>=0?t[p]:"/"}let h=eD(i,d),m=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||y)&&(h.pathname+="/"),h}var Ma=e=>e.join("/").replace(/\/\/+/g,"/"),tD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),nD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,rD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,wu=class{constructor(e,t,n,a=!1){this.status=e,this.statusText=t||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function eu(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function _u(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var j1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function C1(e,t){let n=e;if(typeof n!="string"||!_1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let a=n,i=!1;if(j1)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=ea(u.pathname,t);u.origin===l.origin&&d!=null?n=d+u.search+u.hash:i=!0}catch{hn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:i,to:n}}var Xs=Symbol("Uninstrumented");function aD(e,t){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(i=>i({id:t.id,index:t.index,path:t.path,instrument(l){let u=Object.keys(n);for(let d of u)l[d]&&n[d].push(l[d])}}));let a={};if(typeof t.lazy=="function"&&n.lazy.length>0){let i=sl(n.lazy,t.lazy,()=>{});i&&(a.lazy=i)}if(typeof t.lazy=="object"){let i=t.lazy;["middleware","loader","action"].forEach(l=>{let u=i[l],d=n[`lazy.${l}`];if(typeof u=="function"&&d.length>0){let h=sl(d,u,()=>{});h&&(a.lazy=Object.assign(a.lazy||{},{[l]:h}))}})}return["loader","action"].forEach(i=>{let l=t[i];if(typeof l=="function"&&n[i].length>0){let u=l[Xs]??l,d=sl(n[i],u,(...h)=>P_(h[0]));d&&(i==="loader"&&u.hydrate===!0&&(d.hydrate=!0),d[Xs]=u,a[i]=d)}}),t.middleware&&t.middleware.length>0&&n.middleware.length>0&&(a.middleware=t.middleware.map(i=>{let l=i[Xs]??i,u=sl(n.middleware,l,(...d)=>P_(d[0]));return u?(u[Xs]=l,u):i})),a}function sD(e,t){let n={navigate:[],fetch:[]};if(t.forEach(a=>a({instrument(i){let l=Object.keys(i);for(let u of l)i[u]&&n[u].push(i[u])}})),n.navigate.length>0){let a=e.navigate[Xs]??e.navigate,i=sl(n.navigate,a,(...l)=>{let[u,d]=l;return{to:typeof u=="number"||typeof u=="string"?u:u?za(u):".",...L_(e,d??{})}});i&&(i[Xs]=a,e.navigate=i)}if(n.fetch.length>0){let a=e.fetch[Xs]??e.fetch,i=sl(n.fetch,a,(...l)=>{let[u,,d,h]=l;return{href:d??".",fetcherKey:u,...L_(e,h??{})}});i&&(i[Xs]=a,e.fetch=i)}return e}function sl(e,t,n){return e.length===0?null:async(...a)=>{let i=await E1(e,n(...a),()=>t(...a),e.length-1);if(i.type==="error")throw i.value;return i.value}}async function E1(e,t,n,a){let i=e[a],l;if(i){let u,d=async()=>(u?console.error("You cannot call instrumented handlers more than once"):u=E1(e,t,n,a-1),l=await u,tt(l,"Expected a result"),l.type==="error"&&l.value instanceof Error?{status:"error",error:l.value}:{status:"success",error:void 0});try{await i(d,t)}catch(h){console.error("An instrumentation function threw an error:",h)}u||await d(),await u}else try{l={type:"success",value:await n()}}catch(u){l={type:"error",value:u}}return l||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function P_(e){let{request:t,context:n,params:a,unstable_pattern:i}=e;return{request:iD(t),params:{...a},unstable_pattern:i,context:oD(n)}}function L_(e,t){return{currentUrl:za(e.state.location),..."formMethod"in t?{formMethod:t.formMethod}:{},..."formEncType"in t?{formEncType:t.formEncType}:{},..."formData"in t?{formData:t.formData}:{},..."body"in t?{body:t.body}:{}}}function iD(e){return{method:e.method,url:e.url,headers:{get:(...t)=>e.headers.get(...t)}}}function oD(e){if(cD(e)){let t={...e};return Object.freeze(t),t}else return{get:t=>e.get(t)}}var lD=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cD(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===lD}var N1=["POST","PUT","PATCH","DELETE"],uD=new Set(N1),dD=["GET",...N1],fD=new Set(dD),k1=new Set([301,302,303,307,308]),hD=new Set([307,308]),gg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},mD={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Nc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},pD=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),R1="remix-router-transitions",T1=Symbol("ResetLoaderData");function gD(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";tt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=e.hydrationRouteProperties||[],i=e.mapRouteProperties||pD,l=i;if(e.unstable_instrumentations){let I=e.unstable_instrumentations;l=Q=>({...i(Q),...aD(I.map(re=>re.route).filter(Boolean),Q)})}let u={},d=Zc(e.routes,l,void 0,u),h,m=e.basename||"/";m.startsWith("/")||(m=`/${m}`);let y=e.dataStrategy||wD,p={...e.future},b=null,w=new Set,S=null,_=null,j=null,C=e.hydrationData!=null,E=Gs(d,e.history.location,m),k=!1,A=null,L;if(E==null&&!e.patchRoutesOnNavigation){let I=Qr(404,{pathname:e.history.location.pathname}),{matches:Q,route:re}=Jd(d);L=!0,E=Q,A={[re.id]:I}}else if(E&&!e.hydrationData&&ht(E,d,e.history.location.pathname).active&&(E=null),E)if(E.some(I=>I.route.lazy))L=!1;else if(!E.some(I=>Xv(I.route)))L=!0;else{let I=e.hydrationData?e.hydrationData.loaderData:null,Q=e.hydrationData?e.hydrationData.errors:null;if(Q){let re=E.findIndex(he=>Q[he.route.id]!==void 0);L=E.slice(0,re+1).every(he=>!tv(he.route,I,Q))}else L=E.every(re=>!tv(re.route,I,Q))}else{L=!1,E=[];let I=ht(null,d,e.history.location.pathname);I.active&&I.matches&&(k=!0,E=I.matches)}let P,T={historyAction:e.history.action,location:e.history.location,matches:E,initialized:L,navigation:gg,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||A,fetchers:new Map,blockers:new Map},z="POP",Z=null,V=!1,H,K=!1,M=new Map,Y=null,J=!1,R=!1,U=new Set,F=new Map,X=0,G=-1,D=new Map,$=new Set,q=new Map,ae=new Map,de=new Set,pe=new Map,ie,ge=null;function ke(){if(b=e.history.listen(({action:I,location:Q,delta:re})=>{if(ie){ie(),ie=void 0;return}hn(pe.size===0||re!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let he=aa({currentLocation:T.location,nextLocation:Q,historyAction:I});if(he&&re!=null){let ye=new Promise(Re=>{ie=Re});e.history.go(re*-1),tr(he,{state:"blocked",location:Q,proceed(){tr(he,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),ye.then(()=>e.history.go(re))},reset(){let Re=new Map(T.blockers);Re.set(he,Nc),Ne({blockers:Re})}}),Z?.resolve(),Z=null;return}return Mt(I,Q)}),n){ID(t,M);let I=()=>$D(t,M);t.addEventListener("pagehide",I),Y=()=>t.removeEventListener("pagehide",I)}return T.initialized||Mt("POP",T.location,{initialHydration:!0}),P}function _e(){b&&b(),Y&&Y(),w.clear(),H&&H.abort(),T.fetchers.forEach((I,Q)=>Nn(Q)),T.blockers.forEach((I,Q)=>kn(Q))}function qe(I){return w.add(I),()=>w.delete(I)}function Ne(I,Q={}){I.matches&&(I.matches=I.matches.map(ye=>{let Re=u[ye.route.id],be=ye.route;return be.element!==Re.element||be.errorElement!==Re.errorElement||be.hydrateFallbackElement!==Re.hydrateFallbackElement?{...ye,route:Re}:ye})),T={...T,...I};let re=[],he=[];T.fetchers.forEach((ye,Re)=>{ye.state==="idle"&&(de.has(Re)?re.push(Re):he.push(Re))}),de.forEach(ye=>{!T.fetchers.has(ye)&&!F.has(ye)&&re.push(ye)}),[...w].forEach(ye=>ye(T,{deletedFetchers:re,newErrors:I.errors??null,viewTransitionOpts:Q.viewTransitionOpts,flushSync:Q.flushSync===!0})),re.forEach(ye=>Nn(ye)),he.forEach(ye=>T.fetchers.delete(ye))}function rt(I,Q,{flushSync:re}={}){let he=T.actionData!=null&&T.navigation.formMethod!=null&&Xn(T.navigation.formMethod)&&T.navigation.state==="loading"&&I.state?._isRedirect!==!0,ye;Q.actionData?Object.keys(Q.actionData).length>0?ye=Q.actionData:ye=null:he?ye=T.actionData:ye=null;let Re=Q.loaderData?K_(T.loaderData,Q.loaderData,Q.matches||[],Q.errors):T.loaderData,be=T.blockers;be.size>0&&(be=new Map(be),be.forEach((Be,Ie)=>be.set(Ie,Nc)));let we=J?!1:bt(I,Q.matches||T.matches),je=V===!0||T.navigation.formMethod!=null&&Xn(T.navigation.formMethod)&&I.state?._isRedirect!==!0;h&&(d=h,h=void 0),J||z==="POP"||(z==="PUSH"?e.history.push(I,I.state):z==="REPLACE"&&e.history.replace(I,I.state));let ze;if(z==="POP"){let Be=M.get(T.location.pathname);Be&&Be.has(I.pathname)?ze={currentLocation:T.location,nextLocation:I}:M.has(I.pathname)&&(ze={currentLocation:I,nextLocation:T.location})}else if(K){let Be=M.get(T.location.pathname);Be?Be.add(I.pathname):(Be=new Set([I.pathname]),M.set(T.location.pathname,Be)),ze={currentLocation:T.location,nextLocation:I}}Ne({...Q,actionData:ye,loaderData:Re,historyAction:z,location:I,initialized:!0,navigation:gg,revalidation:"idle",restoreScrollPosition:we,preventScrollReset:je,blockers:be},{viewTransitionOpts:ze,flushSync:re===!0}),z="POP",V=!1,K=!1,J=!1,R=!1,Z?.resolve(),Z=null,ge?.resolve(),ge=null}async function dt(I,Q){if(Z?.resolve(),Z=null,typeof I=="number"){Z||(Z=Q_());let mt=Z.promise;return e.history.go(I),mt}let re=ev(T.location,T.matches,m,I,Q?.fromRouteId,Q?.relative),{path:he,submission:ye,error:Re}=z_(!1,re,Q),be=T.location,we=Jc(T.location,he,Q&&Q.state);we={...we,...e.history.encodeLocation(we)};let je=Q&&Q.replace!=null?Q.replace:void 0,ze="PUSH";je===!0?ze="REPLACE":je===!1||ye!=null&&Xn(ye.formMethod)&&ye.formAction===T.location.pathname+T.location.search&&(ze="REPLACE");let Be=Q&&"preventScrollReset"in Q?Q.preventScrollReset===!0:void 0,Ie=(Q&&Q.flushSync)===!0,_t=aa({currentLocation:be,nextLocation:we,historyAction:ze});if(_t){tr(_t,{state:"blocked",location:we,proceed(){tr(_t,{state:"proceeding",proceed:void 0,reset:void 0,location:we}),dt(I,Q)},reset(){let mt=new Map(T.blockers);mt.set(_t,Nc),Ne({blockers:mt})}});return}await Mt(ze,we,{submission:ye,pendingError:Re,preventScrollReset:Be,replace:Q&&Q.replace,enableViewTransition:Q&&Q.viewTransition,flushSync:Ie,callSiteDefaultShouldRevalidate:Q&&Q.unstable_defaultShouldRevalidate})}function mn(){ge||(ge=Q_()),Je(),Ne({revalidation:"loading"});let I=ge.promise;return T.navigation.state==="submitting"?I:T.navigation.state==="idle"?(Mt(T.historyAction,T.location,{startUninterruptedRevalidation:!0}),I):(Mt(z||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation,enableViewTransition:K===!0}),I)}async function Mt(I,Q,re){H&&H.abort(),H=null,z=I,J=(re&&re.startUninterruptedRevalidation)===!0,ft(T.location,T.matches),V=(re&&re.preventScrollReset)===!0,K=(re&&re.enableViewTransition)===!0;let he=h||d,ye=re&&re.overrideNavigation,Re=re?.initialHydration&&T.matches&&T.matches.length>0&&!k?T.matches:Gs(he,Q,m),be=(re&&re.flushSync)===!0;if(Re&&T.initialized&&!R&&RD(T.location,Q)&&!(re&&re.submission&&Xn(re.submission.formMethod))){rt(Q,{matches:Re},{flushSync:be});return}let we=ht(Re,he,Q.pathname);if(we.active&&we.matches&&(Re=we.matches),!Re){let{error:ln,notFoundMatches:cn,route:pt}=Lt(Q.pathname);rt(Q,{matches:cn,loaderData:{},errors:{[pt.id]:ln}},{flushSync:be});return}H=new AbortController;let je=tl(e.history,Q,H.signal,re&&re.submission),ze=e.getContext?await e.getContext():new A_,Be;if(re&&re.pendingError)Be=[Ys(Re).route.id,{type:"error",error:re.pendingError}];else if(re&&re.submission&&Xn(re.submission.formMethod)){let ln=await En(je,Q,re.submission,Re,ze,we.active,re&&re.initialHydration===!0,{replace:re.replace,flushSync:be});if(ln.shortCircuited)return;if(ln.pendingActionResult){let[cn,pt]=ln.pendingActionResult;if(Ar(pt)&&eu(pt.error)&&pt.error.status===404){H=null,rt(Q,{matches:ln.matches,loaderData:{},errors:{[cn]:pt.error}});return}}Re=ln.matches||Re,Be=ln.pendingActionResult,ye=vg(Q,re.submission),be=!1,we.active=!1,je=tl(e.history,je.url,je.signal)}let{shortCircuited:Ie,matches:_t,loaderData:mt,errors:sn}=await In(je,Q,Re,ze,we.active,ye,re&&re.submission,re&&re.fetcherSubmission,re&&re.replace,re&&re.initialHydration===!0,be,Be,re&&re.callSiteDefaultShouldRevalidate);Ie||(H=null,rt(Q,{matches:_t||Re,...W_(Be),loaderData:mt,errors:sn}))}async function En(I,Q,re,he,ye,Re,be,we={}){Je();let je=zD(Q,re);if(Ne({navigation:je},{flushSync:we.flushSync===!0}),Re){let Ie=await en(he,Q.pathname,I.signal);if(Ie.type==="aborted")return{shortCircuited:!0};if(Ie.type==="error"){if(Ie.partialMatches.length===0){let{matches:mt,route:sn}=Jd(d);return{matches:mt,pendingActionResult:[sn.id,{type:"error",error:Ie.error}]}}let _t=Ys(Ie.partialMatches).route.id;return{matches:Ie.partialMatches,pendingActionResult:[_t,{type:"error",error:Ie.error}]}}else if(Ie.matches)he=Ie.matches;else{let{notFoundMatches:_t,error:mt,route:sn}=Lt(Q.pathname);return{matches:_t,pendingActionResult:[sn.id,{type:"error",error:mt}]}}}let ze,Be=Ef(he,Q);if(!Be.route.action&&!Be.route.lazy)ze={type:"error",error:Qr(405,{method:I.method,pathname:Q.pathname,routeId:Be.route.id})};else{let Ie=ol(l,u,I,he,Be,be?[]:a,ye),_t=await xe(I,Ie,ye,null);if(ze=_t[Be.route.id],!ze){for(let mt of he)if(_t[mt.route.id]){ze=_t[mt.route.id];break}}if(I.signal.aborted)return{shortCircuited:!0}}if(Bi(ze)){let Ie;return we&&we.replace!=null?Ie=we.replace:Ie=q_(ze.response.headers.get("Location"),new URL(I.url),m,e.history)===T.location.pathname+T.location.search,await Pt(I,ze,!0,{submission:re,replace:Ie}),{shortCircuited:!0}}if(Ar(ze)){let Ie=Ys(he,Be.route.id);return(we&&we.replace)!==!0&&(z="PUSH"),{matches:he,pendingActionResult:[Ie.route.id,ze,Be.route.id]}}return{matches:he,pendingActionResult:[Be.route.id,ze]}}async function In(I,Q,re,he,ye,Re,be,we,je,ze,Be,Ie,_t){let mt=Re||vg(Q,be),sn=be||we||Y_(mt),ln=!J&&!ze;if(ye){if(ln){let gn=Jt(Ie);Ne({navigation:mt,...gn!==void 0?{actionData:gn}:{}},{flushSync:Be})}let gt=await en(re,Q.pathname,I.signal);if(gt.type==="aborted")return{shortCircuited:!0};if(gt.type==="error"){if(gt.partialMatches.length===0){let{matches:oa,route:Fn}=Jd(d);return{matches:oa,loaderData:{},errors:{[Fn.id]:gt.error}}}let gn=Ys(gt.partialMatches).route.id;return{matches:gt.partialMatches,loaderData:{},errors:{[gn]:gt.error}}}else if(gt.matches)re=gt.matches;else{let{error:gn,notFoundMatches:oa,route:Fn}=Lt(Q.pathname);return{matches:oa,loaderData:{},errors:{[Fn.id]:gn}}}}let cn=h||d,{dsMatches:pt,revalidatingFetchers:Ln}=U_(I,he,l,u,e.history,T,re,sn,Q,ze?[]:a,ze===!0,R,U,de,q,$,cn,m,e.patchRoutesOnNavigation!=null,Ie,_t);if(G=++X,!e.dataStrategy&&!pt.some(gt=>gt.shouldLoad)&&!pt.some(gt=>gt.route.middleware&&gt.route.middleware.length>0)&&Ln.length===0){let gt=Vt();return rt(Q,{matches:re,loaderData:{},errors:Ie&&Ar(Ie[1])?{[Ie[0]]:Ie[1].error}:null,...W_(Ie),...gt?{fetchers:new Map(T.fetchers)}:{}},{flushSync:Be}),{shortCircuited:!0}}if(ln){let gt={};if(!ye){gt.navigation=mt;let gn=Jt(Ie);gn!==void 0&&(gt.actionData=gn)}Ln.length>0&&(gt.fetchers=pn(Ln)),Ne(gt,{flushSync:Be})}Ln.forEach(gt=>{Nt(gt.key),gt.controller&&F.set(gt.key,gt.controller)});let lr=()=>Ln.forEach(gt=>Nt(gt.key));H&&H.signal.addEventListener("abort",lr);let{loaderResults:tn,fetcherResults:sa}=await Ae(pt,Ln,I,he);if(I.signal.aborted)return{shortCircuited:!0};H&&H.signal.removeEventListener("abort",lr),Ln.forEach(gt=>F.delete(gt.key));let _r=Zd(tn);if(_r)return await Pt(I,_r.result,!0,{replace:je}),{shortCircuited:!0};if(_r=Zd(sa),_r)return $.add(_r.key),await Pt(I,_r.result,!0,{replace:je}),{shortCircuited:!0};let{loaderData:ia,errors:$r}=V_(T,re,tn,Ie,Ln,sa);ze&&T.errors&&($r={...T.errors,...$r});let Va=Vt(),mi=Ir(G),pi=Va||mi||Ln.length>0;return{matches:re,loaderData:ia,errors:$r,...pi?{fetchers:new Map(T.fetchers)}:{}}}function Jt(I){if(I&&!Ar(I[1]))return{[I[0]]:I[1].data};if(T.actionData)return Object.keys(T.actionData).length===0?null:T.actionData}function pn(I){return I.forEach(Q=>{let re=T.fetchers.get(Q.key),he=kc(void 0,re?re.data:void 0);T.fetchers.set(Q.key,he)}),new Map(T.fetchers)}async function $n(I,Q,re,he){Nt(I);let ye=(he&&he.flushSync)===!0,Re=h||d,be=ev(T.location,T.matches,m,re,Q,he?.relative),we=Gs(Re,be,m),je=ht(we,Re,be);if(je.active&&je.matches&&(we=je.matches),!we){Ze(I,Q,Qr(404,{pathname:be}),{flushSync:ye});return}let{path:ze,submission:Be,error:Ie}=z_(!0,be,he);if(Ie){Ze(I,Q,Ie,{flushSync:ye});return}let _t=e.getContext?await e.getContext():new A_,mt=(he&&he.preventScrollReset)===!0;if(Be&&Xn(Be.formMethod)){await Zt(I,Q,ze,we,_t,je.active,ye,mt,Be,he&&he.unstable_defaultShouldRevalidate);return}q.set(I,{routeId:Q,path:ze}),await Zn(I,Q,ze,we,_t,je.active,ye,mt,Be)}async function Zt(I,Q,re,he,ye,Re,be,we,je,ze){Je(),q.delete(I);let Be=T.fetchers.get(I);Ge(I,UD(je,Be),{flushSync:be});let Ie=new AbortController,_t=tl(e.history,re,Ie.signal,je);if(Re){let vt=await en(he,new URL(_t.url).pathname,_t.signal,I);if(vt.type==="aborted")return;if(vt.type==="error"){Ze(I,Q,vt.error,{flushSync:be});return}else if(vt.matches)he=vt.matches;else{Ze(I,Q,Qr(404,{pathname:re}),{flushSync:be});return}}let mt=Ef(he,re);if(!mt.route.action&&!mt.route.lazy){let vt=Qr(405,{method:je.formMethod,pathname:re,routeId:Q});Ze(I,Q,vt,{flushSync:be});return}F.set(I,Ie);let sn=X,ln=ol(l,u,_t,he,mt,a,ye),cn=await xe(_t,ln,ye,I),pt=cn[mt.route.id];if(!pt){for(let vt of ln)if(cn[vt.route.id]){pt=cn[vt.route.id];break}}if(_t.signal.aborted){F.get(I)===Ie&&F.delete(I);return}if(de.has(I)){if(Bi(pt)||Ar(pt)){Ge(I,us(void 0));return}}else{if(Bi(pt))if(F.delete(I),G>sn){Ge(I,us(void 0));return}else return $.add(I),Ge(I,kc(je)),Pt(_t,pt,!1,{fetcherSubmission:je,preventScrollReset:we});if(Ar(pt)){Ze(I,Q,pt.error);return}}let Ln=T.navigation.location||T.location,lr=tl(e.history,Ln,Ie.signal),tn=h||d,sa=T.navigation.state!=="idle"?Gs(tn,T.navigation.location,m):T.matches;tt(sa,"Didn't find any matches after fetcher action");let _r=++X;D.set(I,_r);let ia=kc(je,pt.data);T.fetchers.set(I,ia);let{dsMatches:$r,revalidatingFetchers:Va}=U_(lr,ye,l,u,e.history,T,sa,je,Ln,a,!1,R,U,de,q,$,tn,m,e.patchRoutesOnNavigation!=null,[mt.route.id,pt],ze);Va.filter(vt=>vt.key!==I).forEach(vt=>{let gi=vt.key,Fu=T.fetchers.get(gi),zl=kc(void 0,Fu?Fu.data:void 0);T.fetchers.set(gi,zl),Nt(gi),vt.controller&&F.set(gi,vt.controller)}),Ne({fetchers:new Map(T.fetchers)});let mi=()=>Va.forEach(vt=>Nt(vt.key));Ie.signal.addEventListener("abort",mi);let{loaderResults:pi,fetcherResults:gt}=await Ae($r,Va,lr,ye);if(Ie.signal.aborted)return;if(Ie.signal.removeEventListener("abort",mi),D.delete(I),F.delete(I),Va.forEach(vt=>F.delete(vt.key)),T.fetchers.has(I)){let vt=us(pt.data);T.fetchers.set(I,vt)}let gn=Zd(pi);if(gn)return Pt(lr,gn.result,!1,{preventScrollReset:we});if(gn=Zd(gt),gn)return $.add(gn.key),Pt(lr,gn.result,!1,{preventScrollReset:we});let{loaderData:oa,errors:Fn}=V_(T,sa,pi,void 0,Va,gt);Ir(_r),T.navigation.state==="loading"&&_r>G?(tt(z,"Expected pending action"),H&&H.abort(),rt(T.navigation.location,{matches:sa,loaderData:oa,errors:Fn,fetchers:new Map(T.fetchers)})):(Ne({errors:Fn,loaderData:K_(T.loaderData,oa,sa,Fn),fetchers:new Map(T.fetchers)}),R=!1)}async function Zn(I,Q,re,he,ye,Re,be,we,je){let ze=T.fetchers.get(I);Ge(I,kc(je,ze?ze.data:void 0),{flushSync:be});let Be=new AbortController,Ie=tl(e.history,re,Be.signal);if(Re){let pt=await en(he,new URL(Ie.url).pathname,Ie.signal,I);if(pt.type==="aborted")return;if(pt.type==="error"){Ze(I,Q,pt.error,{flushSync:be});return}else if(pt.matches)he=pt.matches;else{Ze(I,Q,Qr(404,{pathname:re}),{flushSync:be});return}}let _t=Ef(he,re);F.set(I,Be);let mt=X,sn=ol(l,u,Ie,he,_t,a,ye),cn=(await xe(Ie,sn,ye,I))[_t.route.id];if(F.get(I)===Be&&F.delete(I),!Ie.signal.aborted){if(de.has(I)){Ge(I,us(void 0));return}if(Bi(cn))if(G>mt){Ge(I,us(void 0));return}else{$.add(I),await Pt(Ie,cn,!1,{preventScrollReset:we});return}if(Ar(cn)){Ze(I,Q,cn.error);return}Ge(I,us(cn.data))}}async function Pt(I,Q,re,{submission:he,fetcherSubmission:ye,preventScrollReset:Re,replace:be}={}){re||(Z?.resolve(),Z=null),Q.response.headers.has("X-Remix-Revalidate")&&(R=!0);let we=Q.response.headers.get("Location");tt(we,"Expected a Location header on the redirect Response"),we=q_(we,new URL(I.url),m,e.history);let je=Jc(T.location,we,{_isRedirect:!0});if(n){let sn=!1;if(Q.response.headers.has("X-Remix-Reload-Document"))sn=!0;else if(Qv(we)){const ln=x1(we,!0);sn=ln.origin!==t.location.origin||ea(ln.pathname,m)==null}if(sn){be?t.location.replace(we):t.location.assign(we);return}}H=null;let ze=be===!0||Q.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Be,formAction:Ie,formEncType:_t}=T.navigation;!he&&!ye&&Be&&Ie&&_t&&(he=Y_(T.navigation));let mt=he||ye;if(hD.has(Q.response.status)&&mt&&Xn(mt.formMethod))await Mt(ze,je,{submission:{...mt,formAction:we},preventScrollReset:Re||V,enableViewTransition:re?K:void 0});else{let sn=vg(je,he);await Mt(ze,je,{overrideNavigation:sn,fetcherSubmission:ye,preventScrollReset:Re||V,enableViewTransition:re?K:void 0})}}async function xe(I,Q,re,he){let ye,Re={};try{ye=await SD(y,I,Q,he,re,!1)}catch(be){return Q.filter(we=>we.shouldLoad).forEach(we=>{Re[we.route.id]={type:"error",error:be}}),Re}if(I.signal.aborted)return Re;if(!Xn(I.method))for(let be of Q){if(ye[be.route.id]?.type==="error")break;!ye.hasOwnProperty(be.route.id)&&!T.loaderData.hasOwnProperty(be.route.id)&&(!T.errors||!T.errors.hasOwnProperty(be.route.id))&&be.shouldCallHandler()&&(ye[be.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${be.route.id}`)})}for(let[be,we]of Object.entries(ye))if(DD(we)){let je=we.result;Re[be]={type:"redirect",response:ND(je,I,be,Q,m)}}else Re[be]=await ED(we);return Re}async function Ae(I,Q,re,he){let ye=xe(re,I,he,null),Re=Promise.all(Q.map(async je=>{if(je.matches&&je.match&&je.request&&je.controller){let Be=(await xe(je.request,je.matches,he,je.key))[je.match.route.id];return{[je.key]:Be}}else return Promise.resolve({[je.key]:{type:"error",error:Qr(404,{pathname:je.path})}})})),be=await ye,we=(await Re).reduce((je,ze)=>Object.assign(je,ze),{});return{loaderResults:be,fetcherResults:we}}function Je(){R=!0,q.forEach((I,Q)=>{F.has(Q)&&U.add(Q),Nt(Q)})}function Ge(I,Q,re={}){T.fetchers.set(I,Q),Ne({fetchers:new Map(T.fetchers)},{flushSync:(re&&re.flushSync)===!0})}function Ze(I,Q,re,he={}){let ye=Ys(T.matches,Q);Nn(I),Ne({errors:{[ye.route.id]:re},fetchers:new Map(T.fetchers)},{flushSync:(he&&he.flushSync)===!0})}function Ht(I){return ae.set(I,(ae.get(I)||0)+1),de.has(I)&&de.delete(I),T.fetchers.get(I)||mD}function Gt(I,Q){Nt(I,Q?.reason),Ge(I,us(null))}function Nn(I){let Q=T.fetchers.get(I);F.has(I)&&!(Q&&Q.state==="loading"&&D.has(I))&&Nt(I),q.delete(I),D.delete(I),$.delete(I),de.delete(I),U.delete(I),T.fetchers.delete(I)}function er(I){let Q=(ae.get(I)||0)-1;Q<=0?(ae.delete(I),de.add(I)):ae.set(I,Q),Ne({fetchers:new Map(T.fetchers)})}function Nt(I,Q){let re=F.get(I);re&&(re.abort(Q),F.delete(I))}function an(I){for(let Q of I){let re=Ht(Q),he=us(re.data);T.fetchers.set(Q,he)}}function Vt(){let I=[],Q=!1;for(let re of $){let he=T.fetchers.get(re);tt(he,`Expected fetcher: ${re}`),he.state==="loading"&&($.delete(re),I.push(re),Q=!0)}return an(I),Q}function Ir(I){let Q=[];for(let[re,he]of D)if(he<I){let ye=T.fetchers.get(re);tt(ye,`Expected fetcher: ${re}`),ye.state==="loading"&&(Nt(re),D.delete(re),Q.push(re))}return an(Q),Q.length>0}function or(I,Q){let re=T.blockers.get(I)||Nc;return pe.get(I)!==Q&&pe.set(I,Q),re}function kn(I){T.blockers.delete(I),pe.delete(I)}function tr(I,Q){let re=T.blockers.get(I)||Nc;tt(re.state==="unblocked"&&Q.state==="blocked"||re.state==="blocked"&&Q.state==="blocked"||re.state==="blocked"&&Q.state==="proceeding"||re.state==="blocked"&&Q.state==="unblocked"||re.state==="proceeding"&&Q.state==="unblocked",`Invalid blocker state transition: ${re.state} -> ${Q.state}`);let he=new Map(T.blockers);he.set(I,Q),Ne({blockers:he})}function aa({currentLocation:I,nextLocation:Q,historyAction:re}){if(pe.size===0)return;pe.size>1&&hn(!1,"A router only supports one blocker at a time");let he=Array.from(pe.entries()),[ye,Re]=he[he.length-1],be=T.blockers.get(ye);if(!(be&&be.state==="proceeding")&&Re({currentLocation:I,nextLocation:Q,historyAction:re}))return ye}function Lt(I){let Q=Qr(404,{pathname:I}),re=h||d,{matches:he,route:ye}=Jd(re);return{notFoundMatches:he,route:ye,error:Q}}function Kt(I,Q,re){if(S=I,j=Q,_=re||null,!C&&T.navigation===gg){C=!0;let he=bt(T.location,T.matches);he!=null&&Ne({restoreScrollPosition:he})}return()=>{S=null,j=null,_=null}}function Pe(I,Q){return _&&_(I,Q.map(he=>$O(he,T.loaderData)))||I.key}function ft(I,Q){if(S&&j){let re=Pe(I,Q);S[re]=j()}}function bt(I,Q){if(S){let re=Pe(I,Q),he=S[re];if(typeof he=="number")return he}return null}function ht(I,Q,re){if(e.patchRoutesOnNavigation)if(I){if(Object.keys(I[0].params).length>0)return{active:!0,matches:Lc(Q,re,m,!0)}}else return{active:!0,matches:Lc(Q,re,m,!0)||[]};return{active:!1,matches:null}}async function en(I,Q,re,he){if(!e.patchRoutesOnNavigation)return{type:"success",matches:I};let ye=I;for(;;){let Re=h==null,be=h||d,we=u;try{await e.patchRoutesOnNavigation({signal:re,path:Q,matches:ye,fetcherKey:he,patch:(Be,Ie)=>{re.aborted||I_(Be,Ie,be,we,l,!1)}})}catch(Be){return{type:"error",error:Be,partialMatches:ye}}finally{Re&&!re.aborted&&(d=[...d])}if(re.aborted)return{type:"aborted"};let je=Gs(be,Q,m),ze=null;if(je){if(Object.keys(je[0].params).length===0)return{type:"success",matches:je};if(ze=Lc(be,Q,m,!0),!(ze&&ye.length<ze.length&&jt(ye,ze.slice(0,ye.length))))return{type:"success",matches:je}}if(ze||(ze=Lc(be,Q,m,!0)),!ze||jt(ye,ze))return{type:"success",matches:null};ye=ze}}function jt(I,Q){return I.length===Q.length&&I.every((re,he)=>re.route.id===Q[he].route.id)}function wt(I){u={},h=Zc(I,l,void 0,u)}function Pn(I,Q,re=!1){let he=h==null;I_(I,Q,h||d,u,l,re),he&&(d=[...d],Ne({}))}return P={get basename(){return m},get future(){return p},get state(){return T},get routes(){return d},get window(){return t},initialize:ke,subscribe:qe,enableScrollRestoration:Kt,navigate:dt,fetch:$n,revalidate:mn,createHref:I=>e.history.createHref(I),encodeLocation:I=>e.history.encodeLocation(I),getFetcher:Ht,resetFetcher:Gt,deleteFetcher:er,dispose:_e,getBlocker:or,deleteBlocker:kn,patchRoutes:Pn,_internalFetchControllers:F,_internalSetRoutes:wt,_internalSetStateDoNotUseOrYouWillBreakYourApp(I){Ne(I)}},e.unstable_instrumentations&&(P=sD(P,e.unstable_instrumentations.map(I=>I.router).filter(Boolean))),P}function vD(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function ev(e,t,n,a,i,l){let u,d;if(i){u=[];for(let m of t)if(u.push(m),m.route.id===i){d=m;break}}else u=t,d=t[t.length-1];let h=ph(a||".",mh(u),ea(e.pathname,n)||e.pathname,l==="path");if(a==null&&(h.search=e.search,h.hash=e.hash),(a==null||a===""||a===".")&&d){let m=Zv(h.search);if(d.route.index&&!m)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&m){let y=new URLSearchParams(h.search),p=y.getAll("index");y.delete("index"),p.filter(w=>w).forEach(w=>y.append("index",w));let b=y.toString();h.search=b?`?${b}`:""}}return n!=="/"&&(h.pathname=ZO({basename:n,pathname:h.pathname})),za(h)}function z_(e,t,n){if(!n||!vD(n))return{path:t};if(n.formMethod&&!LD(n.formMethod))return{path:t,error:Qr(405,{method:n.formMethod})};let a=()=>({path:t,error:Qr(400,{type:"invalid-body"})}),l=(n.formMethod||"get").toUpperCase(),u=L1(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Xn(l))return a();let p=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((b,[w,S])=>`${b}${w}=${S}
`,""):String(n.body);return{path:t,submission:{formMethod:l,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:p}}}else if(n.formEncType==="application/json"){if(!Xn(l))return a();try{let p=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:l,formAction:u,formEncType:n.formEncType,formData:void 0,json:p,text:void 0}}}catch{return a()}}}tt(typeof FormData=="function","FormData is not available in this environment");let d,h;if(n.formData)d=rv(n.formData),h=n.formData;else if(n.body instanceof FormData)d=rv(n.body),h=n.body;else if(n.body instanceof URLSearchParams)d=n.body,h=H_(d);else if(n.body==null)d=new URLSearchParams,h=new FormData;else try{d=new URLSearchParams(n.body),h=H_(d)}catch{return a()}let m={formMethod:l,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Xn(m.formMethod))return{path:t,submission:m};let y=ci(t);return e&&y.search&&Zv(y.search)&&d.append("index",""),y.search=`?${d}`,{path:za(y),submission:m}}function U_(e,t,n,a,i,l,u,d,h,m,y,p,b,w,S,_,j,C,E,k,A){let L=k?Ar(k[1])?k[1].error:k[1].data:void 0,P=i.createURL(l.location),T=i.createURL(h),z;if(y&&l.errors){let J=Object.keys(l.errors)[0];z=u.findIndex(R=>R.route.id===J)}else if(k&&Ar(k[1])){let J=k[0];z=u.findIndex(R=>R.route.id===J)-1}let Z=k?k[1].statusCode:void 0,V=Z&&Z>=400,H={currentUrl:P,currentParams:l.matches[0]?.params||{},nextUrl:T,nextParams:u[0].params,...d,actionResult:L,actionStatus:Z},K=_u(u),M=u.map((J,R)=>{let{route:U}=J,F=null;if(z!=null&&R>z?F=!1:U.lazy?F=!0:Xv(U)?y?F=tv(U,l.loaderData,l.errors):yD(l.loaderData,l.matches[R],J)&&(F=!0):F=!1,F!==null)return nv(n,a,e,K,J,m,t,F);let X=!1;typeof A=="boolean"?X=A:V?X=!1:(p||P.pathname+P.search===T.pathname+T.search||P.search!==T.search||xD(l.matches[R],J))&&(X=!0);let G={...H,defaultShouldRevalidate:X},D=Fc(J,G);return nv(n,a,e,K,J,m,t,D,G,A)}),Y=[];return S.forEach((J,R)=>{if(y||!u.some(ae=>ae.route.id===J.routeId)||w.has(R))return;let U=l.fetchers.get(R),F=U&&U.state!=="idle"&&U.data===void 0,X=Gs(j,J.path,C);if(!X){if(E&&F)return;Y.push({key:R,routeId:J.routeId,path:J.path,matches:null,match:null,request:null,controller:null});return}if(_.has(R))return;let G=Ef(X,J.path),D=new AbortController,$=tl(i,J.path,D.signal),q=null;if(b.has(R))b.delete(R),q=ol(n,a,$,X,G,m,t);else if(F)p&&(q=ol(n,a,$,X,G,m,t));else{let ae;typeof A=="boolean"?ae=A:V?ae=!1:ae=p;let de={...H,defaultShouldRevalidate:ae};Fc(G,de)&&(q=ol(n,a,$,X,G,m,t,de))}q&&Y.push({key:R,routeId:J.routeId,path:J.path,matches:q,match:G,request:$,controller:D})}),{dsMatches:M,revalidatingFetchers:Y}}function Xv(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function tv(e,t,n){if(e.lazy)return!0;if(!Xv(e))return!1;let a=t!=null&&e.id in t,i=n!=null&&n[e.id]!==void 0;return!a&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!a&&!i}function yD(e,t,n){let a=!t||n.route.id!==t.route.id,i=!e.hasOwnProperty(n.route.id);return a||i}function xD(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Fc(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function I_(e,t,n,a,i,l){let u;if(e){let m=a[e];tt(m,`No route found to patch children into: routeId = ${e}`),m.children||(m.children=[]),u=m.children}else u=n;let d=[],h=[];if(t.forEach(m=>{let y=u.find(p=>A1(m,p));y?h.push({existingRoute:y,newRoute:m}):d.push(m)}),d.length>0){let m=Zc(d,i,[e||"_","patch",String(u?.length||"0")],a);u.push(...m)}if(l&&h.length>0)for(let m=0;m<h.length;m++){let{existingRoute:y,newRoute:p}=h[m],b=y,[w]=Zc([p],i,[],{},!0);Object.assign(b,{element:w.element?w.element:b.element,errorElement:w.errorElement?w.errorElement:b.errorElement,hydrateFallbackElement:w.hydrateFallbackElement?w.hydrateFallbackElement:b.hydrateFallbackElement})}}function A1(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,a)=>t.children?.some(i=>A1(n,i))):!1}var $_=new WeakMap,O1=({key:e,route:t,manifest:n,mapRouteProperties:a})=>{let i=n[t.id];if(tt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let l=i.lazy[e];if(!l)return;let u=$_.get(i);u||(u={},$_.set(i,u));let d=u[e];if(d)return d;let h=(async()=>{let m=LO(e),p=i[e]!==void 0&&e!=="hasErrorBoundary";if(m)hn(!m,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),u[e]=Promise.resolve();else if(p)hn(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let b=await l();b!=null&&(Object.assign(i,{[e]:b}),Object.assign(i,a(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(b=>b===void 0)&&(i.lazy=void 0))})();return u[e]=h,h},F_=new WeakMap;function bD(e,t,n,a,i){let l=n[e.id];if(tt(l,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let y=F_.get(l);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let p=(async()=>{tt(typeof e.lazy=="function","No lazy route function found");let b=await e.lazy(),w={};for(let S in b){let _=b[S];if(_===void 0)continue;let j=UO(S),E=l[S]!==void 0&&S!=="hasErrorBoundary";j?hn(!j,"Route property "+S+" is not a supported property to be returned from a lazy route function. This property will be ignored."):E?hn(!E,`Route "${l.id}" has a static property "${S}" defined but its lazy function is also returning a value for this property. The lazy route property "${S}" will be ignored.`):w[S]=_}Object.assign(l,w),Object.assign(l,{...a(l),lazy:void 0})})();return F_.set(l,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let u=Object.keys(e.lazy),d=[],h;for(let y of u){if(i&&i.includes(y))continue;let p=O1({key:y,route:e,manifest:n,mapRouteProperties:a});p&&(d.push(p),y===t&&(h=p))}let m=d.length>0?Promise.all(d).then(()=>{}):void 0;return m?.catch(()=>{}),h?.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:h}}async function B_(e){let t=e.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,l)=>{n[t[l].route.id]=i}),n}async function wD(e){return e.matches.some(t=>t.route.middleware)?D1(e,()=>B_(e)):B_(e)}function D1(e,t){return _D(e,t,a=>{if(PD(a))throw a;return a},AD,n);function n(a,i,l){if(l)return Promise.resolve(Object.assign(l.value,{[i]:{type:"error",result:a}}));{let{matches:u}=e,d=Math.min(Math.max(u.findIndex(m=>m.route.id===i),0),Math.max(u.findIndex(m=>m.shouldCallHandler()),0)),h=Ys(u,u[d].route.id).route.id;return Promise.resolve({[h]:{type:"error",result:a}})}}}async function _D(e,t,n,a,i){let{matches:l,request:u,params:d,context:h,unstable_pattern:m}=e,y=l.flatMap(b=>b.route.middleware?b.route.middleware.map(w=>[b.route.id,w]):[]);return await M1({request:u,params:d,context:h,unstable_pattern:m},y,t,n,a,i)}async function M1(e,t,n,a,i,l,u=0){let{request:d}=e;if(d.signal.aborted)throw d.signal.reason??new Error(`Request aborted: ${d.method} ${d.url}`);let h=t[u];if(!h)return await n();let[m,y]=h,p,b=async()=>{if(p)throw new Error("You may only call `next()` once per middleware");try{return p={value:await M1(e,t,n,a,i,l,u+1)},p.value}catch(w){return p={value:await l(w,m,p)},p.value}};try{let w=await y(e,b),S=w!=null?a(w):void 0;return i(S)?S:p?S??p.value:(p={value:await b()},p.value)}catch(w){return await l(w,m,p)}}function P1(e,t,n,a,i){let l=O1({key:"middleware",route:a.route,manifest:t,mapRouteProperties:e}),u=bD(a.route,Xn(n.method)?"action":"loader",t,e,i);return{middleware:l,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function nv(e,t,n,a,i,l,u,d,h=null,m){let y=!1,p=P1(e,t,n,i,l);return{...i,_lazyPromises:p,shouldLoad:d,shouldRevalidateArgs:h,shouldCallHandler(b){return y=!0,h?typeof m=="boolean"?Fc(i,{...h,defaultShouldRevalidate:m}):typeof b=="boolean"?Fc(i,{...h,defaultShouldRevalidate:b}):Fc(i,h):d},resolve(b){let{lazy:w,loader:S,middleware:_}=i.route,j=y||d||b&&!Xn(n.method)&&(w||S),C=_&&_.length>0&&!S&&!w;return j&&(Xn(n.method)||!C)?jD({request:n,unstable_pattern:a,match:i,lazyHandlerPromise:p?.handler,lazyRoutePromise:p?.route,handlerOverride:b,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function ol(e,t,n,a,i,l,u,d=null){return a.map(h=>h.route.id!==i.route.id?{...h,shouldLoad:!1,shouldRevalidateArgs:d,shouldCallHandler:()=>!1,_lazyPromises:P1(e,t,n,h,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:nv(e,t,n,_u(a),h,l,u,!0,d))}async function SD(e,t,n,a,i,l){n.some(m=>m._lazyPromises?.middleware)&&await Promise.all(n.map(m=>m._lazyPromises?.middleware));let u={request:t,unstable_pattern:_u(n),params:n[0].params,context:i,matches:n},h=await e({...u,fetcherKey:a,runClientMiddleware:m=>{let y=u;return D1(y,()=>m({...y,fetcherKey:a,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(m=>[m._lazyPromises?.handler,m._lazyPromises?.route]))}catch{}return h}async function jD({request:e,unstable_pattern:t,match:n,lazyHandlerPromise:a,lazyRoutePromise:i,handlerOverride:l,scopedContext:u}){let d,h,m=Xn(e.method),y=m?"action":"loader",p=b=>{let w,S=new Promise((C,E)=>w=E);h=()=>w(),e.signal.addEventListener("abort",h);let _=C=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${y}" [routeId: ${n.route.id}]`)):b({request:e,unstable_pattern:t,params:n.params,context:u},...C!==void 0?[C]:[]),j=(async()=>{try{return{type:"data",result:await(l?l(E=>_(E)):_())}}catch(C){return{type:"error",result:C}}})();return Promise.race([j,S])};try{let b=m?n.route.action:n.route.loader;if(a||i)if(b){let w,[S]=await Promise.all([p(b).catch(_=>{w=_}),a,i]);if(w!==void 0)throw w;d=S}else{await a;let w=m?n.route.action:n.route.loader;if(w)[d]=await Promise.all([p(w),i]);else if(y==="action"){let S=new URL(e.url),_=S.pathname+S.search;throw Qr(405,{method:e.method,pathname:_,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(b)d=await p(b);else{let w=new URL(e.url),S=w.pathname+w.search;throw Qr(404,{pathname:S})}}catch(b){return{type:"error",result:b}}finally{h&&e.signal.removeEventListener("abort",h)}return d}async function CD(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function ED(e){let{result:t,type:n}=e;if(Jv(t)){let a;try{a=await CD(t)}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new wu(t.status,t.statusText,a),statusCode:t.status,headers:t.headers}:{type:"data",data:a,statusCode:t.status,headers:t.headers}}return n==="error"?G_(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:TD(t),statusCode:eu(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:eu(t)?t.status:void 0}:G_(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function ND(e,t,n,a,i){let l=e.headers.get("Location");if(tt(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Qv(l)){let u=a.slice(0,a.findIndex(d=>d.route.id===n)+1);l=ev(new URL(t.url),u,i,l),e.headers.set("Location",l)}return e}function q_(e,t,n,a){let i=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(Qv(e)){let l=e,u=l.startsWith("//")?new URL(t.protocol+l):new URL(l);if(i.includes(u.protocol))throw new Error("Invalid redirect location");let d=ea(u.pathname,n)!=null;if(u.origin===t.origin&&d)return u.pathname+u.search+u.hash}try{let l=a.createURL(e);if(i.includes(l.protocol))throw new Error("Invalid redirect location")}catch{}return e}function tl(e,t,n,a){let i=e.createURL(L1(t)).toString(),l={signal:n};if(a&&Xn(a.formMethod)){let{formMethod:u,formEncType:d}=a;l.method=u.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(a.json)):d==="text/plain"?l.body=a.text:d==="application/x-www-form-urlencoded"&&a.formData?l.body=rv(a.formData):l.body=a.formData}return new Request(i,l)}function rv(e){let t=new URLSearchParams;for(let[n,a]of e.entries())t.append(n,typeof a=="string"?a:a.name);return t}function H_(e){let t=new FormData;for(let[n,a]of e.entries())t.append(n,a);return t}function kD(e,t,n,a=!1,i=!1){let l={},u=null,d,h=!1,m={},y=n&&Ar(n[1])?n[1].error:void 0;return e.forEach(p=>{if(!(p.route.id in t))return;let b=p.route.id,w=t[b];if(tt(!Bi(w),"Cannot handle redirect results in processLoaderData"),Ar(w)){let S=w.error;if(y!==void 0&&(S=y,y=void 0),u=u||{},i)u[b]=S;else{let _=Ys(e,b);u[_.route.id]==null&&(u[_.route.id]=S)}a||(l[b]=T1),h||(h=!0,d=eu(w.error)?w.error.status:500),w.headers&&(m[b]=w.headers)}else l[b]=w.data,w.statusCode&&w.statusCode!==200&&!h&&(d=w.statusCode),w.headers&&(m[b]=w.headers)}),y!==void 0&&n&&(u={[n[0]]:y},n[2]&&(l[n[2]]=void 0)),{loaderData:l,errors:u,statusCode:d||200,loaderHeaders:m}}function V_(e,t,n,a,i,l){let{loaderData:u,errors:d}=kD(t,n,a);return i.filter(h=>!h.matches||h.matches.some(m=>m.shouldLoad)).forEach(h=>{let{key:m,match:y,controller:p}=h;if(p&&p.signal.aborted)return;let b=l[m];if(tt(b,"Did not find corresponding fetcher result"),Ar(b)){let w=Ys(e.matches,y?.route.id);d&&d[w.route.id]||(d={...d,[w.route.id]:b.error}),e.fetchers.delete(m)}else if(Bi(b))tt(!1,"Unhandled fetcher revalidation redirect");else{let w=us(b.data);e.fetchers.set(m,w)}}),{loaderData:u,errors:d}}function K_(e,t,n,a){let i=Object.entries(t).filter(([,l])=>l!==T1).reduce((l,[u,d])=>(l[u]=d,l),{});for(let l of n){let u=l.route.id;if(!t.hasOwnProperty(u)&&e.hasOwnProperty(u)&&l.route.loader&&(i[u]=e[u]),a&&a.hasOwnProperty(u))break}return i}function W_(e){return e?Ar(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Ys(e,t){return(t?e.slice(0,e.findIndex(a=>a.route.id===t)+1):[...e]).reverse().find(a=>a.route.hasErrorBoundary===!0)||e[0]}function Jd(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Qr(e,{pathname:t,routeId:n,method:a,type:i,message:l}={}){let u="Unknown Server Error",d="Unknown @remix-run/router error";return e===400?(u="Bad Request",a&&t&&n?d=`You made a ${a} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(d="Unable to encode submission body")):e===403?(u="Forbidden",d=`Route "${n}" does not match URL "${t}"`):e===404?(u="Not Found",d=`No route matches URL "${t}"`):e===405&&(u="Method Not Allowed",a&&t&&n?d=`You made a ${a.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:a&&(d=`Invalid request method "${a.toUpperCase()}"`)),new wu(e||500,u,new Error(d),!0)}function Zd(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[a,i]=t[n];if(Bi(i))return{key:a,result:i}}}function L1(e){let t=typeof e=="string"?ci(e):e;return za({...t,hash:""})}function RD(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function TD(e){return new wu(e.init?.status??500,e.init?.statusText??"Internal Server Error",e.data)}function AD(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,n])=>typeof t=="string"&&OD(n))}function OD(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function DD(e){return Jv(e.result)&&k1.has(e.result.status)}function Ar(e){return e.type==="error"}function Bi(e){return(e&&e.type)==="redirect"}function G_(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Jv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function MD(e){return k1.has(e)}function PD(e){return Jv(e)&&MD(e.status)&&e.headers.has("Location")}function LD(e){return fD.has(e.toUpperCase())}function Xn(e){return uD.has(e.toUpperCase())}function Zv(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Ef(e,t){let n=typeof t=="string"?ci(t).search:t.search;if(e[e.length-1].route.index&&Zv(n||""))return e[e.length-1];let a=S1(e);return a[a.length-1]}function Y_(e){let{formMethod:t,formAction:n,formEncType:a,text:i,formData:l,json:u}=e;if(!(!t||!n||!a)){if(i!=null)return{formMethod:t,formAction:n,formEncType:a,formData:void 0,json:void 0,text:i};if(l!=null)return{formMethod:t,formAction:n,formEncType:a,formData:l,json:void 0,text:void 0};if(u!==void 0)return{formMethod:t,formAction:n,formEncType:a,formData:void 0,json:u,text:void 0}}}function vg(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function zD(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function kc(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function UD(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function us(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ID(e,t){try{let n=e.sessionStorage.getItem(R1);if(n){let a=JSON.parse(n);for(let[i,l]of Object.entries(a||{}))l&&Array.isArray(l)&&t.set(i,new Set(l||[]))}}catch{}}function $D(e,t){if(t.size>0){let n={};for(let[a,i]of t)n[a]=[...i];try{e.sessionStorage.setItem(R1,JSON.stringify(n))}catch(a){hn(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function Q_(){let e,t,n=new Promise((a,i)=>{e=async l=>{a(l);try{await n}catch{}},t=async l=>{i(l);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var so=g.createContext(null);so.displayName="DataRouter";var Su=g.createContext(null);Su.displayName="DataRouterState";var z1=g.createContext(!1);function FD(){return g.useContext(z1)}var ey=g.createContext({isTransitioning:!1});ey.displayName="ViewTransition";var U1=g.createContext(new Map);U1.displayName="Fetchers";var BD=g.createContext(null);BD.displayName="Await";var Lr=g.createContext(null);Lr.displayName="Navigation";var gh=g.createContext(null);gh.displayName="Location";var ra=g.createContext({outlet:null,matches:[],isDataRoute:!1});ra.displayName="Route";var ty=g.createContext(null);ty.displayName="RouteError";var I1="REACT_ROUTER_ERROR",qD="REDIRECT",HD="ROUTE_ERROR_RESPONSE";function VD(e){if(e.startsWith(`${I1}:${qD}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function KD(e){if(e.startsWith(`${I1}:${HD}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new wu(t.status,t.statusText,t.data)}catch{}}function WD(e,{relative:t}={}){tt(jl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=g.useContext(Lr),{hash:i,pathname:l,search:u}=ju(e,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:Ma([n,l])),a.createHref({pathname:d,search:u,hash:i})}function jl(){return g.useContext(gh)!=null}function Fa(){return tt(jl(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(gh).location}var $1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function F1(e){g.useContext(Lr).static||g.useLayoutEffect(e)}function wa(){let{isDataRoute:e}=g.useContext(ra);return e?cM():GD()}function GD(){tt(jl(),"useNavigate() may be used only in the context of a <Router> component.");let e=g.useContext(so),{basename:t,navigator:n}=g.useContext(Lr),{matches:a}=g.useContext(ra),{pathname:i}=Fa(),l=JSON.stringify(mh(a)),u=g.useRef(!1);return F1(()=>{u.current=!0}),g.useCallback((h,m={})=>{if(hn(u.current,$1),!u.current)return;if(typeof h=="number"){n.go(h);return}let y=ph(h,JSON.parse(l),i,m.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Ma([t,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[t,n,l,i,e])}var YD=g.createContext(null);function QD(e){let t=g.useContext(ra).outlet;return g.useMemo(()=>t&&g.createElement(YD.Provider,{value:e},t),[t,e])}function XD(){let{matches:e}=g.useContext(ra),t=e[e.length-1];return t?t.params:{}}function ju(e,{relative:t}={}){let{matches:n}=g.useContext(ra),{pathname:a}=Fa(),i=JSON.stringify(mh(n));return g.useMemo(()=>ph(e,JSON.parse(i),a,t==="path"),[e,i,a,t])}function JD(e,t,n,a,i){tt(jl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=g.useContext(Lr),{matches:u}=g.useContext(ra),d=u[u.length-1],h=d?d.params:{},m=d?d.pathname:"/",y=d?d.pathnameBase:"/",p=d&&d.route;{let E=p&&p.path||"";q1(m,!p||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let b=Fa(),w;w=b;let S=w.pathname||"/",_=S;if(y!=="/"){let E=y.replace(/^\//,"").split("/");_="/"+S.replace(/^\//,"").split("/").slice(E.length).join("/")}let j=Gs(e,{pathname:_});return hn(p||j!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),hn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),rM(j&&j.map(E=>Object.assign({},E,{params:Object.assign({},h,E.params),pathname:Ma([y,l.encodeLocation?l.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?y:Ma([y,l.encodeLocation?l.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),u,n,a,i)}function ZD(){let e=lM(),t=eu(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:l},"ErrorBoundary")," or"," ",g.createElement("code",{style:l},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:i},n):null,u)}var eM=g.createElement(ZD,null),B1=class extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=KD(e.digest);n&&(e=n)}let t=e!==void 0?g.createElement(ra.Provider,{value:this.props.routeContext},g.createElement(ty.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?g.createElement(tM,{error:e},t):t}};B1.contextType=z1;var yg=new WeakMap;function tM({children:e,error:t}){let{basename:n}=g.useContext(Lr);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let a=VD(t.digest);if(a){let i=yg.get(t);if(i)throw i;let l=C1(a.location,n);if(j1&&!yg.get(t))if(l.isExternal||a.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:a.replace}));throw yg.set(t,u),u}return g.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function nM({routeContext:e,match:t,children:n}){let a=g.useContext(so);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),g.createElement(ra.Provider,{value:e},n)}function rM(e,t=[],n=null,a=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,u=n?.errors;if(u!=null){let y=l.findIndex(p=>p.route.id&&u?.[p.route.id]!==void 0);tt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,h=-1;if(n)for(let y=0;y<l.length;y++){let p=l[y];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=y),p.route.id){let{loaderData:b,errors:w}=n,S=p.route.loader&&!b.hasOwnProperty(p.route.id)&&(!w||w[p.route.id]===void 0);if(p.route.lazy||S){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}let m=n&&a?(y,p)=>{a(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:_u(n.matches),errorInfo:p})}:void 0;return l.reduceRight((y,p,b)=>{let w,S=!1,_=null,j=null;n&&(w=u&&p.route.id?u[p.route.id]:void 0,_=p.route.errorElement||eM,d&&(h<0&&b===0?(q1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,j=null):h===b&&(S=!0,j=p.route.hydrateFallbackElement||null)));let C=t.concat(l.slice(0,b+1)),E=()=>{let k;return w?k=_:S?k=j:p.route.Component?k=g.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=y,g.createElement(nM,{match:p,routeContext:{outlet:y,matches:C,isDataRoute:n!=null},children:k})};return n&&(p.route.ErrorBoundary||p.route.errorElement||b===0)?g.createElement(B1,{location:n.location,revalidation:n.revalidation,component:_,error:w,children:E(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:m}):E()},null)}function ny(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aM(e){let t=g.useContext(so);return tt(t,ny(e)),t}function sM(e){let t=g.useContext(Su);return tt(t,ny(e)),t}function iM(e){let t=g.useContext(ra);return tt(t,ny(e)),t}function ry(e){let t=iM(e),n=t.matches[t.matches.length-1];return tt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function oM(){return ry("useRouteId")}function lM(){let e=g.useContext(ty),t=sM("useRouteError"),n=ry("useRouteError");return e!==void 0?e:t.errors?.[n]}function cM(){let{router:e}=aM("useNavigate"),t=ry("useNavigate"),n=g.useRef(!1);return F1(()=>{n.current=!0}),g.useCallback(async(i,l={})=>{hn(n.current,$1),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...l}))},[e,t])}var X_={};function q1(e,t,n){!t&&!X_[e]&&(X_[e]=!0,hn(!1,n))}var J_={};function Z_(e,t){!e&&!J_[t]&&(J_[t]=!0,console.warn(t))}var uM="useOptimistic",eS=hh[uM],dM=()=>{};function fM(e){return eS?eS(e):[e,dM]}function hM(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&hn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:g.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&hn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:g.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&hn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:g.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var mM=["HydrateFallback","hydrateFallbackElement"],pM=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",t(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}};function gM({router:e,flushSync:t,onError:n,unstable_useTransitions:a}){a=FD()||a;let[l,u]=g.useState(e.state),[d,h]=fM(l),[m,y]=g.useState(),[p,b]=g.useState({isTransitioning:!1}),[w,S]=g.useState(),[_,j]=g.useState(),[C,E]=g.useState(),k=g.useRef(new Map),A=g.useCallback((z,{deletedFetchers:Z,newErrors:V,flushSync:H,viewTransitionOpts:K})=>{V&&n&&Object.values(V).forEach(Y=>n(Y,{location:z.location,params:z.matches[0]?.params??{},unstable_pattern:_u(z.matches)})),z.fetchers.forEach((Y,J)=>{Y.data!==void 0&&k.current.set(J,Y.data)}),Z.forEach(Y=>k.current.delete(Y)),Z_(H===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let M=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(Z_(K==null||M,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!K||!M){t&&H?t(()=>u(z)):a===!1?u(z):g.startTransition(()=>{a===!0&&h(Y=>tS(Y,z)),u(z)});return}if(t&&H){t(()=>{_&&(w?.resolve(),_.skipTransition()),b({isTransitioning:!0,flushSync:!0,currentLocation:K.currentLocation,nextLocation:K.nextLocation})});let Y=e.window.document.startViewTransition(()=>{t(()=>u(z))});Y.finished.finally(()=>{t(()=>{S(void 0),j(void 0),y(void 0),b({isTransitioning:!1})})}),t(()=>j(Y));return}_?(w?.resolve(),_.skipTransition(),E({state:z,currentLocation:K.currentLocation,nextLocation:K.nextLocation})):(y(z),b({isTransitioning:!0,flushSync:!1,currentLocation:K.currentLocation,nextLocation:K.nextLocation}))},[e.window,t,_,w,a,h,n]);g.useLayoutEffect(()=>e.subscribe(A),[e,A]),g.useEffect(()=>{p.isTransitioning&&!p.flushSync&&S(new pM)},[p]),g.useEffect(()=>{if(w&&m&&e.window){let z=m,Z=w.promise,V=e.window.document.startViewTransition(async()=>{a===!1?u(z):g.startTransition(()=>{a===!0&&h(H=>tS(H,z)),u(z)}),await Z});V.finished.finally(()=>{S(void 0),j(void 0),y(void 0),b({isTransitioning:!1})}),j(V)}},[m,w,e.window,a,h]),g.useEffect(()=>{w&&m&&d.location.key===m.location.key&&w.resolve()},[w,_,d.location,m]),g.useEffect(()=>{!p.isTransitioning&&C&&(y(C.state),b({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}),E(void 0))},[p.isTransitioning,C]);let L=g.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:z=>e.navigate(z),push:(z,Z,V)=>e.navigate(z,{state:Z,preventScrollReset:V?.preventScrollReset}),replace:(z,Z,V)=>e.navigate(z,{replace:!0,state:Z,preventScrollReset:V?.preventScrollReset})}),[e]),P=e.basename||"/",T=g.useMemo(()=>({router:e,navigator:L,static:!1,basename:P,onError:n}),[e,L,P,n]);return g.createElement(g.Fragment,null,g.createElement(so.Provider,{value:T},g.createElement(Su.Provider,{value:d},g.createElement(U1.Provider,{value:k.current},g.createElement(ey.Provider,{value:p},g.createElement(xM,{basename:P,location:d.location,navigationType:d.historyAction,navigator:L,unstable_useTransitions:a},g.createElement(vM,{routes:e.routes,future:e.future,state:d,onError:n})))))),null)}function tS(e,t){return{...e,navigation:t.navigation.state!=="idle"?t.navigation:e.navigation,revalidation:t.revalidation!=="idle"?t.revalidation:e.revalidation,actionData:t.navigation.state!=="submitting"?t.actionData:e.actionData,fetchers:t.fetchers}}var vM=g.memo(yM);function yM({routes:e,future:t,state:n,onError:a}){return JD(e,void 0,n,a,t)}function Bc({to:e,replace:t,state:n,relative:a}){tt(jl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=g.useContext(Lr);hn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=g.useContext(ra),{pathname:u}=Fa(),d=wa(),h=ph(e,mh(l),u,a==="path"),m=JSON.stringify(h);return g.useEffect(()=>{d(JSON.parse(m),{replace:t,state:n,relative:a})},[d,m,a,t,n]),null}function ay(e){return QD(e.context)}function xM({basename:e="/",children:t=null,location:n,navigationType:a="POP",navigator:i,static:l=!1,unstable_useTransitions:u}){tt(!jl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),h=g.useMemo(()=>({basename:d,navigator:i,static:l,unstable_useTransitions:u,future:{}}),[d,i,l,u]);typeof n=="string"&&(n=ci(n));let{pathname:m="/",search:y="",hash:p="",state:b=null,key:w="default"}=n,S=g.useMemo(()=>{let _=ea(m,d);return _==null?null:{location:{pathname:_,search:y,hash:p,state:b,key:w},navigationType:a}},[d,m,y,p,b,w,a]);return hn(S!=null,`<Router basename="${d}"> is not able to match the URL "${m}${y}${p}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:g.createElement(Lr.Provider,{value:h},g.createElement(gh.Provider,{children:t,value:S}))}var Nf="get",kf="application/x-www-form-urlencoded";function vh(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function bM(e){return vh(e)&&e.tagName.toLowerCase()==="button"}function wM(e){return vh(e)&&e.tagName.toLowerCase()==="form"}function _M(e){return vh(e)&&e.tagName.toLowerCase()==="input"}function SM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function jM(e,t){return e.button===0&&(!t||t==="_self")&&!SM(e)}function av(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let a=e[n];return t.concat(Array.isArray(a)?a.map(i=>[n,i]):[[n,a]])},[]))}function CM(e,t){let n=av(e);return t&&t.forEach((a,i)=>{n.has(i)||t.getAll(i).forEach(l=>{n.append(i,l)})}),n}var ef=null;function EM(){if(ef===null)try{new FormData(document.createElement("form"),0),ef=!1}catch{ef=!0}return ef}var NM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xg(e){return e!=null&&!NM.has(e)?(hn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kf}"`),null):e}function kM(e,t){let n,a,i,l,u;if(wM(e)){let d=e.getAttribute("action");a=d?ea(d,t):null,n=e.getAttribute("method")||Nf,i=xg(e.getAttribute("enctype"))||kf,l=new FormData(e)}else if(bM(e)||_M(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||d.getAttribute("action");if(a=h?ea(h,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||Nf,i=xg(e.getAttribute("formenctype"))||xg(d.getAttribute("enctype"))||kf,l=new FormData(d,e),!EM()){let{name:m,type:y,value:p}=e;if(y==="image"){let b=m?`${m}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else m&&l.append(m,p)}}else{if(vh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Nf,a=null,i=kf,u=e}return l&&i==="text/plain"&&(u=l,l=void 0),{action:a,method:n.toLowerCase(),encType:i,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function sy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function RM(e,t,n,a){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${a}`:i.pathname=`${i.pathname}.${a}`:i.pathname==="/"?i.pathname=`_root.${a}`:t&&ea(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${a}`,i}async function TM(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AM(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function OM(e,t,n){let a=await Promise.all(e.map(async i=>{let l=t.routes[i.route.id];if(l){let u=await TM(l,n);return u.links?u.links():[]}return[]}));return LM(a.flat(1).filter(AM).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function nS(e,t,n,a,i,l){let u=(h,m)=>n[m]?h.route.id!==n[m].route.id:!0,d=(h,m)=>n[m].pathname!==h.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==h.params["*"];return l==="assets"?t.filter((h,m)=>u(h,m)||d(h,m)):l==="data"?t.filter((h,m)=>{let y=a.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(u(h,m)||d(h,m))return!0;if(h.route.shouldRevalidate){let p=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function DM(e,t,{includeHydrateFallback:n}={}){return MM(e.map(a=>{let i=t.routes[a.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function MM(e){return[...new Set(e)]}function PM(e){let t={},n=Object.keys(e).sort();for(let a of n)t[a]=e[a];return t}function LM(e,t){let n=new Set;return new Set(t),e.reduce((a,i)=>{let l=JSON.stringify(PM(i));return n.has(l)||(n.add(l),a.push({key:l,link:i})),a},[])}function H1(){let e=g.useContext(so);return sy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function zM(){let e=g.useContext(Su);return sy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var iy=g.createContext(void 0);iy.displayName="FrameworkContext";function V1(){let e=g.useContext(iy);return sy(e,"You must render this element inside a <HydratedRouter> element"),e}function UM(e,t){let n=g.useContext(iy),[a,i]=g.useState(!1),[l,u]=g.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:m,onMouseLeave:y,onTouchStart:p}=t,b=g.useRef(null);g.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let _=C=>{C.forEach(E=>{u(E.isIntersecting)})},j=new IntersectionObserver(_,{threshold:.5});return b.current&&j.observe(b.current),()=>{j.disconnect()}}},[e]),g.useEffect(()=>{if(a){let _=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(_)}}},[a]);let w=()=>{i(!0)},S=()=>{i(!1),u(!1)};return n?e!=="intent"?[l,b,{}]:[l,b,{onFocus:Rc(d,w),onBlur:Rc(h,S),onMouseEnter:Rc(m,w),onMouseLeave:Rc(y,S),onTouchStart:Rc(p,w)}]:[!1,b,{}]}function Rc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function IM({page:e,...t}){let{router:n}=H1(),a=g.useMemo(()=>Gs(n.routes,e,n.basename),[n.routes,e,n.basename]);return a?g.createElement(FM,{page:e,matches:a,...t}):null}function $M(e){let{manifest:t,routeModules:n}=V1(),[a,i]=g.useState([]);return g.useEffect(()=>{let l=!1;return OM(e,t,n).then(u=>{l||i(u)}),()=>{l=!0}},[e,t,n]),a}function FM({page:e,matches:t,...n}){let a=Fa(),{future:i,manifest:l,routeModules:u}=V1(),{basename:d}=H1(),{loaderData:h,matches:m}=zM(),y=g.useMemo(()=>nS(e,t,m,l,a,"data"),[e,t,m,l,a]),p=g.useMemo(()=>nS(e,t,m,l,a,"assets"),[e,t,m,l,a]),b=g.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let _=new Set,j=!1;if(t.forEach(E=>{let k=l.routes[E.route.id];!k||!k.hasLoader||(!y.some(A=>A.route.id===E.route.id)&&E.route.id in h&&u[E.route.id]?.shouldRevalidate||k.hasClientLoader?j=!0:_.add(E.route.id))}),_.size===0)return[];let C=RM(e,d,i.unstable_trailingSlashAwareDataRequests,"data");return j&&_.size>0&&C.searchParams.set("_routes",t.filter(E=>_.has(E.route.id)).map(E=>E.route.id).join(",")),[C.pathname+C.search]},[d,i.unstable_trailingSlashAwareDataRequests,h,a,l,y,t,e,u]),w=g.useMemo(()=>DM(p,l),[p,l]),S=$M(p);return g.createElement(g.Fragment,null,b.map(_=>g.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),w.map(_=>g.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),S.map(({key:_,link:j})=>g.createElement("link",{key:_,nonce:n.nonce,...j,crossOrigin:j.crossOrigin??n.crossOrigin})))}function BM(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var qM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qM&&(window.__reactRouterVersion="7.13.0")}catch{}function HM(e,t){return gD({basename:t?.basename,getContext:t?.getContext,future:t?.future,history:OO({window:t?.window}),hydrationData:VM(),routes:e,mapRouteProperties:hM,hydrationRouteProperties:mM,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window,unstable_instrumentations:t?.unstable_instrumentations}).initialize()}function VM(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:KM(e.errors)}),e}function KM(e){if(!e)return null;let t=Object.entries(e),n={};for(let[a,i]of t)if(i&&i.__type==="RouteErrorResponse")n[a]=new wu(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let l=window[i.__subType];if(typeof l=="function")try{let u=new l(i.message);u.stack="",n[a]=u}catch{}}if(n[a]==null){let l=new Error(i.message);l.stack="",n[a]=l}}else n[a]=i;return n}var K1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yi=g.forwardRef(function({onClick:t,discover:n="render",prefetch:a="none",relative:i,reloadDocument:l,replace:u,state:d,target:h,to:m,preventScrollReset:y,viewTransition:p,unstable_defaultShouldRevalidate:b,...w},S){let{basename:_,unstable_useTransitions:j}=g.useContext(Lr),C=typeof m=="string"&&K1.test(m),E=C1(m,_);m=E.to;let k=WD(m,{relative:i}),[A,L,P]=UM(a,w),T=QM(m,{replace:u,state:d,target:h,preventScrollReset:y,relative:i,viewTransition:p,unstable_defaultShouldRevalidate:b,unstable_useTransitions:j});function z(V){t&&t(V),V.defaultPrevented||T(V)}let Z=g.createElement("a",{...w,...P,href:E.absoluteURL||k,onClick:E.isExternal||l?t:z,ref:BM(S,L),target:h,"data-discover":!C&&n==="render"?"true":void 0});return A&&!C?g.createElement(g.Fragment,null,Z,g.createElement(IM,{page:k})):Z});Yi.displayName="Link";var WM=g.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:a="",end:i=!1,style:l,to:u,viewTransition:d,children:h,...m},y){let p=ju(u,{relative:m.relative}),b=Fa(),w=g.useContext(Su),{navigator:S,basename:_}=g.useContext(Lr),j=w!=null&&tP(p)&&d===!0,C=S.encodeLocation?S.encodeLocation(p).pathname:p.pathname,E=b.pathname,k=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(E=E.toLowerCase(),k=k?k.toLowerCase():null,C=C.toLowerCase()),k&&_&&(k=ea(k,_)||k);const A=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let L=E===C||!i&&E.startsWith(C)&&E.charAt(A)==="/",P=k!=null&&(k===C||!i&&k.startsWith(C)&&k.charAt(C.length)==="/"),T={isActive:L,isPending:P,isTransitioning:j},z=L?t:void 0,Z;typeof a=="function"?Z=a(T):Z=[a,L?"active":null,P?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(T):l;return g.createElement(Yi,{...m,"aria-current":z,className:Z,ref:y,style:V,to:u,viewTransition:d},typeof h=="function"?h(T):h)});WM.displayName="NavLink";var GM=g.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:a,replace:i,state:l,method:u=Nf,action:d,onSubmit:h,relative:m,preventScrollReset:y,viewTransition:p,unstable_defaultShouldRevalidate:b,...w},S)=>{let{unstable_useTransitions:_}=g.useContext(Lr),j=ZM(),C=eP(d,{relative:m}),E=u.toLowerCase()==="get"?"get":"post",k=typeof d=="string"&&K1.test(d),A=L=>{if(h&&h(L),L.defaultPrevented)return;L.preventDefault();let P=L.nativeEvent.submitter,T=P?.getAttribute("formmethod")||u,z=()=>j(P||L.currentTarget,{fetcherKey:t,method:T,navigate:n,replace:i,state:l,relative:m,preventScrollReset:y,viewTransition:p,unstable_defaultShouldRevalidate:b});_&&n!==!1?g.startTransition(()=>z()):z()};return g.createElement("form",{ref:S,method:E,action:C,onSubmit:a?h:A,...w,"data-discover":!k&&e==="render"?"true":void 0})});GM.displayName="Form";function YM(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W1(e){let t=g.useContext(so);return tt(t,YM(e)),t}function QM(e,{target:t,replace:n,state:a,preventScrollReset:i,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:h}={}){let m=wa(),y=Fa(),p=ju(e,{relative:l});return g.useCallback(b=>{if(jM(b,t)){b.preventDefault();let w=n!==void 0?n:za(y)===za(p),S=()=>m(e,{replace:w,state:a,preventScrollReset:i,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d});h?g.startTransition(()=>S()):S()}},[y,m,p,n,a,t,e,i,l,u,d,h])}function oy(e){hn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=g.useRef(av(e)),n=g.useRef(!1),a=Fa(),i=g.useMemo(()=>CM(a.search,n.current?null:t.current),[a.search]),l=wa(),u=g.useCallback((d,h)=>{const m=av(typeof d=="function"?d(new URLSearchParams(i)):d);n.current=!0,l("?"+m,h)},[l,i]);return[i,u]}var XM=0,JM=()=>`__${String(++XM)}__`;function ZM(){let{router:e}=W1("useSubmit"),{basename:t}=g.useContext(Lr),n=oM(),a=e.fetch,i=e.navigate;return g.useCallback(async(l,u={})=>{let{action:d,method:h,encType:m,formData:y,body:p}=kM(l,t);if(u.navigate===!1){let b=u.fetcherKey||JM();await a(b,n,u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:p,formMethod:u.method||h,formEncType:u.encType||m,flushSync:u.flushSync})}else await i(u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:p,formMethod:u.method||h,formEncType:u.encType||m,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[a,i,t,n])}function eP(e,{relative:t}={}){let{basename:n}=g.useContext(Lr),a=g.useContext(ra);tt(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),l={...ju(e||".",{relative:t})},u=Fa();if(e==null){l.search=u.search;let d=new URLSearchParams(l.search),h=d.getAll("index");if(h.some(y=>y==="")){d.delete("index"),h.filter(p=>p).forEach(p=>d.append("index",p));let y=d.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ma([n,l.pathname])),za(l)}function tP(e,{relative:t}={}){let n=g.useContext(ey);tt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=W1("useViewTransitionState"),i=ju(e,{relative:t});if(!n.isTransitioning)return!1;let l=ea(n.currentLocation.pathname,a)||n.currentLocation.pathname,u=ea(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Mf(i.pathname,u)!=null||Mf(i.pathname,l)!=null}var Oa=v1();const G1=bu(Oa);function nP(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const rP=e=>{switch(e){case"success":return iP;case"info":return lP;case"warning":return oP;case"error":return cP;default:return null}},aP=Array(12).fill(0),sP=({visible:e,className:t})=>ce.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ce.createElement("div",{className:"sonner-spinner"},aP.map((n,a)=>ce.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),iP=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),oP=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),lP=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),cP=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),uP=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ce.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ce.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),dP=()=>{const[e,t]=ce.useState(document.hidden);return ce.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let sv=1;class fP{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:a,...i}=t,l=typeof t?.id=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:sv++,u=this.toasts.find(h=>h.id===l),d=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),u?this.toasts=this.toasts.map(h=>h.id===l?(this.publish({...h,...t,id:l,title:a}),{...h,...t,id:l,dismissible:d,title:a}):h):this.addToast({title:a,...i,dismissible:d,id:l}),l},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(a=>a({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let a;n.loading!==void 0&&(a=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let l=a!==void 0,u;const d=i.then(async m=>{if(u=["resolve",m],ce.isValidElement(m))l=!1,this.create({id:a,type:"default",message:m});else if(mP(m)&&!m.ok){l=!1;const p=typeof n.error=="function"?await n.error(`HTTP error! status: ${m.status}`):n.error,b=typeof n.description=="function"?await n.description(`HTTP error! status: ${m.status}`):n.description,S=typeof p=="object"&&!ce.isValidElement(p)?p:{message:p};this.create({id:a,type:"error",description:b,...S})}else if(m instanceof Error){l=!1;const p=typeof n.error=="function"?await n.error(m):n.error,b=typeof n.description=="function"?await n.description(m):n.description,S=typeof p=="object"&&!ce.isValidElement(p)?p:{message:p};this.create({id:a,type:"error",description:b,...S})}else if(n.success!==void 0){l=!1;const p=typeof n.success=="function"?await n.success(m):n.success,b=typeof n.description=="function"?await n.description(m):n.description,S=typeof p=="object"&&!ce.isValidElement(p)?p:{message:p};this.create({id:a,type:"success",description:b,...S})}}).catch(async m=>{if(u=["reject",m],n.error!==void 0){l=!1;const y=typeof n.error=="function"?await n.error(m):n.error,p=typeof n.description=="function"?await n.description(m):n.description,w=typeof y=="object"&&!ce.isValidElement(y)?y:{message:y};this.create({id:a,type:"error",description:p,...w})}}).finally(()=>{l&&(this.dismiss(a),a=void 0),n.finally==null||n.finally.call(n)}),h=()=>new Promise((m,y)=>d.then(()=>u[0]==="reject"?y(u[1]):m(u[1])).catch(y));return typeof a!="string"&&typeof a!="number"?{unwrap:h}:Object.assign(a,{unwrap:h})},this.custom=(t,n)=>{const a=n?.id||sv++;return this.create({jsx:t(a),id:a,...n}),a},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const pr=new fP,hP=(e,t)=>{const n=t?.id||sv++;return pr.addToast({title:e,...t,id:n}),n},mP=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",pP=hP,gP=()=>pr.toasts,vP=()=>pr.getActiveToasts(),me=Object.assign(pP,{success:pr.success,info:pr.info,warning:pr.warning,error:pr.error,custom:pr.custom,message:pr.message,promise:pr.promise,dismiss:pr.dismiss,loading:pr.loading},{getHistory:gP,getToasts:vP});nP("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function tf(e){return e.label!==void 0}const yP=3,xP="24px",bP="16px",rS=4e3,wP=356,_P=14,SP=45,jP=200;function ka(...e){return e.filter(Boolean).join(" ")}function CP(e){const[t,n]=e.split("-"),a=[];return t&&a.push(t),n&&a.push(n),a}const EP=e=>{var t,n,a,i,l,u,d,h,m;const{invert:y,toast:p,unstyled:b,interacting:w,setHeights:S,visibleToasts:_,heights:j,index:C,toasts:E,expanded:k,removeToast:A,defaultRichColors:L,closeButton:P,style:T,cancelButtonStyle:z,actionButtonStyle:Z,className:V="",descriptionClassName:H="",duration:K,position:M,gap:Y,expandByDefault:J,classNames:R,icons:U,closeButtonAriaLabel:F="Close toast"}=e,[X,G]=ce.useState(null),[D,$]=ce.useState(null),[q,ae]=ce.useState(!1),[de,pe]=ce.useState(!1),[ie,ge]=ce.useState(!1),[ke,_e]=ce.useState(!1),[qe,Ne]=ce.useState(!1),[rt,dt]=ce.useState(0),[mn,Mt]=ce.useState(0),En=ce.useRef(p.duration||K||rS),In=ce.useRef(null),Jt=ce.useRef(null),pn=C===0,$n=C+1<=_,Zt=p.type,Zn=p.dismissible!==!1,Pt=p.className||"",xe=p.descriptionClassName||"",Ae=ce.useMemo(()=>j.findIndex(Pe=>Pe.toastId===p.id)||0,[j,p.id]),Je=ce.useMemo(()=>{var Pe;return(Pe=p.closeButton)!=null?Pe:P},[p.closeButton,P]),Ge=ce.useMemo(()=>p.duration||K||rS,[p.duration,K]),Ze=ce.useRef(0),Ht=ce.useRef(0),Gt=ce.useRef(0),Nn=ce.useRef(null),[er,Nt]=M.split("-"),an=ce.useMemo(()=>j.reduce((Pe,ft,bt)=>bt>=Ae?Pe:Pe+ft.height,0),[j,Ae]),Vt=dP(),Ir=p.invert||y,or=Zt==="loading";Ht.current=ce.useMemo(()=>Ae*Y+an,[Ae,an]),ce.useEffect(()=>{En.current=Ge},[Ge]),ce.useEffect(()=>{ae(!0)},[]),ce.useEffect(()=>{const Pe=Jt.current;if(Pe){const ft=Pe.getBoundingClientRect().height;return Mt(ft),S(bt=>[{toastId:p.id,height:ft,position:p.position},...bt]),()=>S(bt=>bt.filter(ht=>ht.toastId!==p.id))}},[S,p.id]),ce.useLayoutEffect(()=>{if(!q)return;const Pe=Jt.current,ft=Pe.style.height;Pe.style.height="auto";const bt=Pe.getBoundingClientRect().height;Pe.style.height=ft,Mt(bt),S(ht=>ht.find(jt=>jt.toastId===p.id)?ht.map(jt=>jt.toastId===p.id?{...jt,height:bt}:jt):[{toastId:p.id,height:bt,position:p.position},...ht])},[q,p.title,p.description,S,p.id,p.jsx,p.action,p.cancel]);const kn=ce.useCallback(()=>{pe(!0),dt(Ht.current),S(Pe=>Pe.filter(ft=>ft.toastId!==p.id)),setTimeout(()=>{A(p)},jP)},[p,A,S,Ht]);ce.useEffect(()=>{if(p.promise&&Zt==="loading"||p.duration===1/0||p.type==="loading")return;let Pe;return k||w||Vt?(()=>{if(Gt.current<Ze.current){const ht=new Date().getTime()-Ze.current;En.current=En.current-ht}Gt.current=new Date().getTime()})():En.current!==1/0&&(Ze.current=new Date().getTime(),Pe=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),kn()},En.current)),()=>clearTimeout(Pe)},[k,w,p,Zt,Vt,kn]),ce.useEffect(()=>{p.delete&&(kn(),p.onDismiss==null||p.onDismiss.call(p,p))},[kn,p.delete]);function tr(){var Pe;if(U?.loading){var ft;return ce.createElement("div",{className:ka(R?.loader,p==null||(ft=p.classNames)==null?void 0:ft.loader,"sonner-loader"),"data-visible":Zt==="loading"},U.loading)}return ce.createElement(sP,{className:ka(R?.loader,p==null||(Pe=p.classNames)==null?void 0:Pe.loader),visible:Zt==="loading"})}const aa=p.icon||U?.[Zt]||rP(Zt);var Lt,Kt;return ce.createElement("li",{tabIndex:0,ref:Jt,className:ka(V,Pt,R?.toast,p==null||(t=p.classNames)==null?void 0:t.toast,R?.default,R?.[Zt],p==null||(n=p.classNames)==null?void 0:n[Zt]),"data-sonner-toast":"","data-rich-colors":(Lt=p.richColors)!=null?Lt:L,"data-styled":!(p.jsx||p.unstyled||b),"data-mounted":q,"data-promise":!!p.promise,"data-swiped":qe,"data-removed":de,"data-visible":$n,"data-y-position":er,"data-x-position":Nt,"data-index":C,"data-front":pn,"data-swiping":ie,"data-dismissible":Zn,"data-type":Zt,"data-invert":Ir,"data-swipe-out":ke,"data-swipe-direction":D,"data-expanded":!!(k||J&&q),"data-testid":p.testId,style:{"--index":C,"--toasts-before":C,"--z-index":E.length-C,"--offset":`${de?rt:Ht.current}px`,"--initial-height":J?"auto":`${mn}px`,...T,...p.style},onDragEnd:()=>{ge(!1),G(null),Nn.current=null},onPointerDown:Pe=>{Pe.button!==2&&(or||!Zn||(In.current=new Date,dt(Ht.current),Pe.target.setPointerCapture(Pe.pointerId),Pe.target.tagName!=="BUTTON"&&(ge(!0),Nn.current={x:Pe.clientX,y:Pe.clientY})))},onPointerUp:()=>{var Pe,ft,bt;if(ke||!Zn)return;Nn.current=null;const ht=Number(((Pe=Jt.current)==null?void 0:Pe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),en=Number(((ft=Jt.current)==null?void 0:ft.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),jt=new Date().getTime()-((bt=In.current)==null?void 0:bt.getTime()),wt=X==="x"?ht:en,Pn=Math.abs(wt)/jt;if(Math.abs(wt)>=SP||Pn>.11){dt(Ht.current),p.onDismiss==null||p.onDismiss.call(p,p),$(X==="x"?ht>0?"right":"left":en>0?"down":"up"),kn(),_e(!0);return}else{var I,Q;(I=Jt.current)==null||I.style.setProperty("--swipe-amount-x","0px"),(Q=Jt.current)==null||Q.style.setProperty("--swipe-amount-y","0px")}Ne(!1),ge(!1),G(null)},onPointerMove:Pe=>{var ft,bt,ht;if(!Nn.current||!Zn||((ft=window.getSelection())==null?void 0:ft.toString().length)>0)return;const jt=Pe.clientY-Nn.current.y,wt=Pe.clientX-Nn.current.x;var Pn;const I=(Pn=e.swipeDirections)!=null?Pn:CP(M);!X&&(Math.abs(wt)>1||Math.abs(jt)>1)&&G(Math.abs(wt)>Math.abs(jt)?"x":"y");let Q={x:0,y:0};const re=he=>1/(1.5+Math.abs(he)/20);if(X==="y"){if(I.includes("top")||I.includes("bottom"))if(I.includes("top")&&jt<0||I.includes("bottom")&&jt>0)Q.y=jt;else{const he=jt*re(jt);Q.y=Math.abs(he)<Math.abs(jt)?he:jt}}else if(X==="x"&&(I.includes("left")||I.includes("right")))if(I.includes("left")&&wt<0||I.includes("right")&&wt>0)Q.x=wt;else{const he=wt*re(wt);Q.x=Math.abs(he)<Math.abs(wt)?he:wt}(Math.abs(Q.x)>0||Math.abs(Q.y)>0)&&Ne(!0),(bt=Jt.current)==null||bt.style.setProperty("--swipe-amount-x",`${Q.x}px`),(ht=Jt.current)==null||ht.style.setProperty("--swipe-amount-y",`${Q.y}px`)}},Je&&!p.jsx&&Zt!=="loading"?ce.createElement("button",{"aria-label":F,"data-disabled":or,"data-close-button":!0,onClick:or||!Zn?()=>{}:()=>{kn(),p.onDismiss==null||p.onDismiss.call(p,p)},className:ka(R?.closeButton,p==null||(a=p.classNames)==null?void 0:a.closeButton)},(Kt=U?.close)!=null?Kt:uP):null,(Zt||p.icon||p.promise)&&p.icon!==null&&(U?.[Zt]!==null||p.icon)?ce.createElement("div",{"data-icon":"",className:ka(R?.icon,p==null||(i=p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||tr():null,p.type!=="loading"?aa:null):null,ce.createElement("div",{"data-content":"",className:ka(R?.content,p==null||(l=p.classNames)==null?void 0:l.content)},ce.createElement("div",{"data-title":"",className:ka(R?.title,p==null||(u=p.classNames)==null?void 0:u.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?ce.createElement("div",{"data-description":"",className:ka(H,xe,R?.description,p==null||(d=p.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),ce.isValidElement(p.cancel)?p.cancel:p.cancel&&tf(p.cancel)?ce.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||z,onClick:Pe=>{tf(p.cancel)&&Zn&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,Pe),kn())},className:ka(R?.cancelButton,p==null||(h=p.classNames)==null?void 0:h.cancelButton)},p.cancel.label):null,ce.isValidElement(p.action)?p.action:p.action&&tf(p.action)?ce.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||Z,onClick:Pe=>{tf(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,Pe),!Pe.defaultPrevented&&kn())},className:ka(R?.actionButton,p==null||(m=p.classNames)==null?void 0:m.actionButton)},p.action.label):null)};function aS(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function NP(e,t){const n={};return[e,t].forEach((a,i)=>{const l=i===1,u=l?"--mobile-offset":"--offset",d=l?bP:xP;function h(m){["top","right","bottom","left"].forEach(y=>{n[`${u}-${y}`]=typeof m=="number"?`${m}px`:m})}typeof a=="number"||typeof a=="string"?h(a):typeof a=="object"?["top","right","bottom","left"].forEach(m=>{a[m]===void 0?n[`${u}-${m}`]=d:n[`${u}-${m}`]=typeof a[m]=="number"?`${a[m]}px`:a[m]}):h(d)}),n}const kP=ce.forwardRef(function(t,n){const{id:a,invert:i,position:l="bottom-right",hotkey:u=["altKey","KeyT"],expand:d,closeButton:h,className:m,offset:y,mobileOffset:p,theme:b="light",richColors:w,duration:S,style:_,visibleToasts:j=yP,toastOptions:C,dir:E=aS(),gap:k=_P,icons:A,containerAriaLabel:L="Notifications"}=t,[P,T]=ce.useState([]),z=ce.useMemo(()=>a?P.filter(q=>q.toasterId===a):P.filter(q=>!q.toasterId),[P,a]),Z=ce.useMemo(()=>Array.from(new Set([l].concat(z.filter(q=>q.position).map(q=>q.position)))),[z,l]),[V,H]=ce.useState([]),[K,M]=ce.useState(!1),[Y,J]=ce.useState(!1),[R,U]=ce.useState(b!=="system"?b:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=ce.useRef(null),X=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),G=ce.useRef(null),D=ce.useRef(!1),$=ce.useCallback(q=>{T(ae=>{var de;return(de=ae.find(pe=>pe.id===q.id))!=null&&de.delete||pr.dismiss(q.id),ae.filter(({id:pe})=>pe!==q.id)})},[]);return ce.useEffect(()=>pr.subscribe(q=>{if(q.dismiss){requestAnimationFrame(()=>{T(ae=>ae.map(de=>de.id===q.id?{...de,delete:!0}:de))});return}setTimeout(()=>{G1.flushSync(()=>{T(ae=>{const de=ae.findIndex(pe=>pe.id===q.id);return de!==-1?[...ae.slice(0,de),{...ae[de],...q},...ae.slice(de+1)]:[q,...ae]})})})}),[P]),ce.useEffect(()=>{if(b!=="system"){U(b);return}if(b==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;const q=window.matchMedia("(prefers-color-scheme: dark)");try{q.addEventListener("change",({matches:ae})=>{U(ae?"dark":"light")})}catch{q.addListener(({matches:de})=>{try{U(de?"dark":"light")}catch(pe){console.error(pe)}})}},[b]),ce.useEffect(()=>{P.length<=1&&M(!1)},[P]),ce.useEffect(()=>{const q=ae=>{var de;if(u.every(ge=>ae[ge]||ae.code===ge)){var ie;M(!0),(ie=F.current)==null||ie.focus()}ae.code==="Escape"&&(document.activeElement===F.current||(de=F.current)!=null&&de.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[u]),ce.useEffect(()=>{if(F.current)return()=>{G.current&&(G.current.focus({preventScroll:!0}),G.current=null,D.current=!1)}},[F.current]),ce.createElement("section",{ref:n,"aria-label":`${L} ${X}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},Z.map((q,ae)=>{var de;const[pe,ie]=q.split("-");return z.length?ce.createElement("ol",{key:q,dir:E==="auto"?aS():E,tabIndex:-1,ref:F,className:m,"data-sonner-toaster":!0,"data-sonner-theme":R,"data-y-position":pe,"data-x-position":ie,style:{"--front-toast-height":`${((de=V[0])==null?void 0:de.height)||0}px`,"--width":`${wP}px`,"--gap":`${k}px`,..._,...NP(y,p)},onBlur:ge=>{D.current&&!ge.currentTarget.contains(ge.relatedTarget)&&(D.current=!1,G.current&&(G.current.focus({preventScroll:!0}),G.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||D.current||(D.current=!0,G.current=ge.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{Y||M(!1)},onDragEnd:()=>M(!1),onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||J(!0)},onPointerUp:()=>J(!1)},z.filter(ge=>!ge.position&&ae===0||ge.position===q).map((ge,ke)=>{var _e,qe;return ce.createElement(EP,{key:ge.id,icons:A,index:ke,toast:ge,defaultRichColors:w,duration:(_e=C?.duration)!=null?_e:S,className:C?.className,descriptionClassName:C?.descriptionClassName,invert:i,visibleToasts:j,closeButton:(qe=C?.closeButton)!=null?qe:h,interacting:Y,position:q,style:C?.style,unstyled:C?.unstyled,classNames:C?.classNames,cancelButtonStyle:C?.cancelButtonStyle,actionButtonStyle:C?.actionButtonStyle,closeButtonAriaLabel:C?.closeButtonAriaLabel,removeToast:$,toasts:z.filter(Ne=>Ne.position==ge.position),heights:V.filter(Ne=>Ne.position==ge.position),setHeights:H,expandByDefault:d,gap:k,expanded:K,swipeDirections:t.swipeDirections})})):null}))});var Cl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},RP={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},TP=class{#e=RP;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},qi=new TP;function AP(e){setTimeout(e,0)}var Xi=typeof window>"u"||"Deno"in globalThis;function rr(){}function OP(e,t){return typeof e=="function"?e(t):e}function iv(e){return typeof e=="number"&&e>=0&&e!==1/0}function Y1(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Zs(e,t){return typeof e=="function"?e(t):e}function Xr(e,t){return typeof e=="function"?e(t):e}function sS(e,t){const{type:n="all",exact:a,fetchStatus:i,predicate:l,queryKey:u,stale:d}=e;if(u){if(a){if(t.queryHash!==ly(u,t.options))return!1}else if(!tu(t.queryKey,u))return!1}if(n!=="all"){const h=t.isActive();if(n==="active"&&!h||n==="inactive"&&h)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||i&&i!==t.state.fetchStatus||l&&!l(t))}function iS(e,t){const{exact:n,status:a,predicate:i,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(n){if(Ji(t.options.mutationKey)!==Ji(l))return!1}else if(!tu(t.options.mutationKey,l))return!1}return!(a&&t.state.status!==a||i&&!i(t))}function ly(e,t){return(t?.queryKeyHashFn||Ji)(e)}function Ji(e){return JSON.stringify(e,(t,n)=>ov(n)?Object.keys(n).sort().reduce((a,i)=>(a[i]=n[i],a),{}):n)}function tu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>tu(e[n],t[n])):!1}var DP=Object.prototype.hasOwnProperty;function Q1(e,t,n=0){if(e===t)return e;if(n>500)return t;const a=oS(e)&&oS(t);if(!a&&!(ov(e)&&ov(t)))return t;const l=(a?e:Object.keys(e)).length,u=a?t:Object.keys(t),d=u.length,h=a?new Array(d):{};let m=0;for(let y=0;y<d;y++){const p=a?y:u[y],b=e[p],w=t[p];if(b===w){h[p]=b,(a?y<l:DP.call(e,p))&&m++;continue}if(b===null||w===null||typeof b!="object"||typeof w!="object"){h[p]=w;continue}const S=Q1(b,w,n+1);h[p]=S,S===b&&m++}return l===d&&m===l?e:h}function Pf(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function oS(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ov(e){if(!lS(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!lS(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function lS(e){return Object.prototype.toString.call(e)==="[object Object]"}function MP(e){return new Promise(t=>{qi.setTimeout(t,e)})}function lv(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Q1(e,t):t}function PP(e,t,n=0){const a=[...e,t];return n&&a.length>n?a.slice(1):a}function LP(e,t,n=0){const a=[t,...e];return n&&a.length>n?a.slice(0,-1):a}var cy=Symbol();function X1(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===cy?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function uy(e,t){return typeof e=="function"?e(...t):!!e}function zP(e,t,n){let a=!1,i;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(i??=t(),a||(a=!0,i.aborted?n():i.addEventListener("abort",n,{once:!0})),i)}),e}var UP=class extends Cl{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Xi&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},dy=new UP;function cv(){let e,t;const n=new Promise((i,l)=>{e=i,t=l});n.status="pending",n.catch(()=>{});function a(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{a({status:"fulfilled",value:i}),e(i)},n.reject=i=>{a({status:"rejected",reason:i}),t(i)},n}var IP=AP;function $P(){let e=[],t=0,n=d=>{d()},a=d=>{d()},i=IP;const l=d=>{t?e.push(d):i(()=>{n(d)})},u=()=>{const d=e;e=[],d.length&&i(()=>{a(()=>{d.forEach(h=>{n(h)})})})};return{batch:d=>{let h;t++;try{h=d()}finally{t--,t||u()}return h},batchCalls:d=>(...h)=>{l(()=>{d(...h)})},schedule:l,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{a=d},setScheduler:d=>{i=d}}}var Mn=$P(),FP=class extends Cl{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Xi&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},Lf=new FP;function BP(e){return Math.min(1e3*2**e,3e4)}function J1(e){return(e??"online")==="online"?Lf.isOnline():!0}var uv=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Z1(e){let t=!1,n=0,a;const i=cv(),l=()=>i.status!=="pending",u=_=>{if(!l()){const j=new uv(_);b(j),e.onCancel?.(j)}},d=()=>{t=!0},h=()=>{t=!1},m=()=>dy.isFocused()&&(e.networkMode==="always"||Lf.isOnline())&&e.canRun(),y=()=>J1(e.networkMode)&&e.canRun(),p=_=>{l()||(a?.(),i.resolve(_))},b=_=>{l()||(a?.(),i.reject(_))},w=()=>new Promise(_=>{a=j=>{(l()||m())&&_(j)},e.onPause?.()}).then(()=>{a=void 0,l()||e.onContinue?.()}),S=()=>{if(l())return;let _;const j=n===0?e.initialPromise:void 0;try{_=j??e.fn()}catch(C){_=Promise.reject(C)}Promise.resolve(_).then(p).catch(C=>{if(l())return;const E=e.retry??(Xi?0:3),k=e.retryDelay??BP,A=typeof k=="function"?k(n,C):k,L=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,C);if(t||!L){b(C);return}n++,e.onFail?.(n,C),MP(A).then(()=>m()?void 0:w()).then(()=>{t?b(C):S()})})};return{promise:i,status:()=>i.status,cancel:u,continue:()=>(a?.(),i),cancelRetry:d,continueRetry:h,canStart:y,start:()=>(y()?S():w().then(S),i)}}var eC=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),iv(this.gcTime)&&(this.#e=qi.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Xi?1/0:300*1e3))}clearGcTimeout(){this.#e&&(qi.clearTimeout(this.#e),this.#e=void 0)}},qP=class extends eC{#e;#t;#n;#a;#r;#i;#o;constructor(e){super(),this.#o=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#n=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=uS(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=uS(this.options);t.data!==void 0&&(this.setState(cS(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=lv(this.state.data,e,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(rr).catch(rr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Xr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===cy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Zs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Y1(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const n=new AbortController,a=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},i=()=>{const d=X1(this.options,t),m=(()=>{const y={client:this.#a,queryKey:this.queryKey,meta:this.meta};return a(y),y})();return this.#o=!1,this.options.persister?this.options.persister(d,m,this):d(m)},u=(()=>{const d={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:i};return a(d),d})();this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#s({type:"fetch",meta:u.fetchOptions?.meta}),this.#r=Z1({initialPromise:t?.initialPromise,fn:u.fetchFn,onCancel:d=>{d instanceof uv&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(d,h)=>{this.#s({type:"failed",failureCount:d,error:h})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const d=await this.#r.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof uv){if(d.silent)return this.#r.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#s({type:"error",error:d}),this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...tC(n.data,this.options),fetchMeta:e.meta??null};case"success":const a={...n,...cS(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?a:void 0,a;case"error":const i=e.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),Mn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function tC(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:J1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function cS(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function uS(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,a=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var HP=class extends Cl{constructor(e,t){super(),this.options=t,this.#e=e,this.#s=null,this.#o=cv(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#a=void 0;#r;#i;#o;#s;#p;#f;#h;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),dS(this.#t,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return dv(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return dv(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Xr(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),t._defaulted&&!Pf(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const a=this.hasListeners();a&&fS(this.#t,n,this.options,t)&&this.#d(),this.updateResult(),a&&(this.#t!==n||Xr(this.options.enabled,this.#t)!==Xr(t.enabled,this.#t)||Zs(this.options.staleTime,this.#t)!==Zs(t.staleTime,this.#t))&&this.#g();const i=this.#v();a&&(this.#t!==n||Xr(this.options.enabled,this.#t)!==Xr(t.enabled,this.#t)||i!==this.#l)&&this.#y(i)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return KP(this,n)&&(this.#a=n,this.#i=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(n,a)=>(this.trackProp(a),t?.(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#d(e){this.#_();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(rr)),t}#g(){this.#b();const e=Zs(this.options.staleTime,this.#t);if(Xi||this.#a.isStale||!iv(e))return;const n=Y1(this.#a.dataUpdatedAt,e)+1;this.#c=qi.setTimeout(()=>{this.#a.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(e){this.#w(),this.#l=e,!(Xi||Xr(this.options.enabled,this.#t)===!1||!iv(this.#l)||this.#l===0)&&(this.#u=qi.setInterval(()=>{(this.options.refetchIntervalInBackground||dy.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#y(this.#v())}#b(){this.#c&&(qi.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(qi.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const n=this.#t,a=this.options,i=this.#a,l=this.#r,u=this.#i,h=e!==n?e.state:this.#n,{state:m}=e;let y={...m},p=!1,b;if(t._optimisticResults){const z=this.hasListeners(),Z=!z&&dS(e,t),V=z&&fS(e,n,t,a);(Z||V)&&(y={...y,...tC(m.data,e.options)}),t._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:w,errorUpdatedAt:S,status:_}=y;b=y.data;let j=!1;if(t.placeholderData!==void 0&&b===void 0&&_==="pending"){let z;i?.isPlaceholderData&&t.placeholderData===u?.placeholderData?(z=i.data,j=!0):z=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,z!==void 0&&(_="success",b=lv(i?.data,z,t),p=!0)}if(t.select&&b!==void 0&&!j)if(i&&b===l?.data&&t.select===this.#p)b=this.#f;else try{this.#p=t.select,b=t.select(b),b=lv(i?.data,b,t),this.#f=b,this.#s=null}catch(z){this.#s=z}this.#s&&(w=this.#s,b=this.#f,S=Date.now(),_="error");const C=y.fetchStatus==="fetching",E=_==="pending",k=_==="error",A=E&&C,L=b!==void 0,T={status:_,fetchStatus:y.fetchStatus,isPending:E,isSuccess:_==="success",isError:k,isInitialLoading:A,isLoading:A,data:b,dataUpdatedAt:y.dataUpdatedAt,error:w,errorUpdatedAt:S,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>h.dataUpdateCount||y.errorUpdateCount>h.errorUpdateCount,isFetching:C,isRefetching:C&&!E,isLoadingError:k&&!L,isPaused:y.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:k&&L,isStale:fy(e,t),refetch:this.refetch,promise:this.#o,isEnabled:Xr(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const z=T.data!==void 0,Z=T.status==="error"&&!z,V=M=>{Z?M.reject(T.error):z&&M.resolve(T.data)},H=()=>{const M=this.#o=T.promise=cv();V(M)},K=this.#o;switch(K.status){case"pending":e.queryHash===n.queryHash&&V(K);break;case"fulfilled":(Z||T.data!==K.value)&&H();break;case"rejected":(!Z||T.error!==K.reason)&&H();break}}return T}updateResult(){const e=this.#a,t=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#i=this.options,this.#r.data!==void 0&&(this.#h=this.#t),Pf(t,e))return;this.#a=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!this.#m.size)return!0;const l=new Set(i??this.#m);return this.options.throwOnError&&l.add("error"),Object.keys(this.#a).some(u=>{const d=u;return this.#a[d]!==e[d]&&l.has(d)})};this.#S({listeners:n()})}#_(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#S(e){Mn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function VP(e,t){return Xr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function dS(e,t){return VP(e,t)||e.state.data!==void 0&&dv(e,t,t.refetchOnMount)}function dv(e,t,n){if(Xr(t.enabled,e)!==!1&&Zs(t.staleTime,e)!=="static"){const a=typeof n=="function"?n(e):n;return a==="always"||a!==!1&&fy(e,t)}return!1}function fS(e,t,n,a){return(e!==t||Xr(a.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&fy(e,n)}function fy(e,t){return Xr(t.enabled,e)!==!1&&e.isStaleByTime(Zs(t.staleTime,e))}function KP(e,t){return!Pf(e.getCurrentResult(),t)}function hS(e){return{onFetch:(t,n)=>{const a=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,l=t.state.data?.pages||[],u=t.state.data?.pageParams||[];let d={pages:[],pageParams:[]},h=0;const m=async()=>{let y=!1;const p=S=>{zP(S,()=>t.signal,()=>y=!0)},b=X1(t.options,t.fetchOptions),w=async(S,_,j)=>{if(y)return Promise.reject();if(_==null&&S.pages.length)return Promise.resolve(S);const E=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:_,direction:j?"backward":"forward",meta:t.options.meta};return p(P),P})(),k=await b(E),{maxPages:A}=t.options,L=j?LP:PP;return{pages:L(S.pages,k,A),pageParams:L(S.pageParams,_,A)}};if(i&&l.length){const S=i==="backward",_=S?WP:mS,j={pages:l,pageParams:u},C=_(a,j);d=await w(j,C,S)}else{const S=e??l.length;do{const _=h===0?u[0]??a.initialPageParam:mS(a,d);if(h>0&&_==null)break;d=await w(d,_),h++}while(h<S)}return d};t.options.persister?t.fetchFn=()=>t.options.persister?.(m,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=m}}}function mS(e,{pages:t,pageParams:n}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,n[a],n):void 0}function WP(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var GP=class extends eC{#e;#t;#n;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||nC(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=Z1({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(l,u)=>{this.#r({type:"failed",failureCount:l,error:u})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const a=this.state.status==="pending",i=!this.#a.canStart();try{if(a)t();else{this.#r({type:"pending",variables:e,isPaused:i}),this.#n.config.onMutate&&await this.#n.config.onMutate(e,this,n);const u=await this.options.onMutate?.(e,n);u!==this.state.context&&this.#r({type:"pending",context:u,variables:e,isPaused:i})}const l=await this.#a.start();return await this.#n.config.onSuccess?.(l,e,this.state.context,this,n),await this.options.onSuccess?.(l,e,this.state.context,n),await this.#n.config.onSettled?.(l,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(l,null,e,this.state.context,n),this.#r({type:"success",data:l}),l}catch(l){try{await this.#n.config.onError?.(l,e,this.state.context,this,n)}catch(u){Promise.reject(u)}try{await this.options.onError?.(l,e,this.state.context,n)}catch(u){Promise.reject(u)}try{await this.#n.config.onSettled?.(void 0,l,this.state.variables,this.state.context,this,n)}catch(u){Promise.reject(u)}try{await this.options.onSettled?.(void 0,l,e,this.state.context,n)}catch(u){Promise.reject(u)}throw this.#r({type:"error",error:l}),l}finally{this.#n.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Mn.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function nC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var YP=class extends Cl{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,n){const a=new GP({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(a),a}add(e){this.#e.add(e);const t=nf(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=nf(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const a=n.indexOf(e);a!==-1&&n.splice(a,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=nf(e);if(typeof t=="string"){const a=this.#t.get(t)?.find(i=>i.state.status==="pending");return!a||a===e}else return!0}runNext(e){const t=nf(e);return typeof t=="string"?this.#t.get(t)?.find(a=>a!==e&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Mn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>iS(t,n))}findAll(e={}){return this.getAll().filter(t=>iS(e,t))}notify(e){Mn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Mn.batch(()=>Promise.all(e.map(t=>t.continue().catch(rr))))}};function nf(e){return e.options.scope?.id}var QP=class extends Cl{#e;#t=void 0;#n;#a;constructor(t,n){super(),this.#e=t,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#e.defaultMutationOptions(t),Pf(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Ji(n.mutationKey)!==Ji(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#r(),this.#i(t)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#i()}mutate(t,n){return this.#a=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(t)}#r(){const t=this.#n?.state??nC();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#i(t){Mn.batch(()=>{if(this.#a&&this.hasListeners()){const n=this.#t.variables,a=this.#t.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(t?.type==="success"){try{this.#a.onSuccess?.(t.data,n,a,i)}catch(l){Promise.reject(l)}try{this.#a.onSettled?.(t.data,null,n,a,i)}catch(l){Promise.reject(l)}}else if(t?.type==="error"){try{this.#a.onError?.(t.error,n,a,i)}catch(l){Promise.reject(l)}try{this.#a.onSettled?.(void 0,t.error,n,a,i)}catch(l){Promise.reject(l)}}}this.listeners.forEach(n=>{n(this.#t)})})}},XP=class extends Cl{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const a=t.queryKey,i=t.queryHash??ly(a,t);let l=this.get(i);return l||(l=new qP({client:e,queryKey:a,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(a)}),this.add(l)),l}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Mn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>sS(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>sS(e,n)):t}notify(e){Mn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Mn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Mn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},JP=class{#e;#t;#n;#a;#r;#i;#o;#s;constructor(e={}){this.#e=e.queryCache||new XP,this.#t=e.mutationCache||new YP,this.#n=e.defaultOptions||{},this.#a=new Map,this.#r=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=dy.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Lf.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),a=n.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Zs(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const a=n.data;return[t,a]})}setQueryData(e,t,n){const a=this.defaultQueryOptions({queryKey:e}),l=this.#e.get(a.queryHash)?.state.data,u=OP(t,l);if(u!==void 0)return this.#e.build(this,a).setData(u,{...n,manual:!0})}setQueriesData(e,t,n){return Mn.batch(()=>this.#e.findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Mn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return Mn.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},a=Mn.batch(()=>this.#e.findAll(e).map(i=>i.cancel(n)));return Promise.all(a).then(rr).catch(rr)}invalidateQueries(e,t={}){return Mn.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},a=Mn.batch(()=>this.#e.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let l=i.fetch(void 0,n);return n.throwOnError||(l=l.catch(rr)),i.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(a).then(rr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(Zs(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(rr).catch(rr)}fetchInfiniteQuery(e){return e.behavior=hS(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(rr).catch(rr)}ensureInfiniteQueryData(e){return e.behavior=hS(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Lf.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#a.set(Ji(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],n={};return t.forEach(a=>{tu(e,a.queryKey)&&Object.assign(n,a.defaultOptions)}),n}setMutationDefaults(e,t){this.#r.set(Ji(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(a=>{tu(e,a.mutationKey)&&Object.assign(n,a.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ly(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===cy&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},rC=g.createContext(void 0),rn=e=>{const t=g.useContext(rC);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},ZP=({client:e,children:t})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(rC.Provider,{value:e,children:t})),aC=g.createContext(!1),e4=()=>g.useContext(aC);aC.Provider;function t4(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var n4=g.createContext(t4()),r4=()=>g.useContext(n4),a4=(e,t,n)=>{const a=n?.state.error&&typeof e.throwOnError=="function"?uy(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||a)&&(t.isReset()||(e.retryOnMount=!1))},s4=e=>{g.useEffect(()=>{e.clearReset()},[e])},i4=({result:e,errorResetBoundary:t,throwOnError:n,query:a,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&(i&&e.data===void 0||uy(n,[e.error,a])),o4=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),a=e.staleTime;e.staleTime=typeof a=="function"?(...i)=>n(a(...i)):n(a),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},l4=(e,t)=>e.isLoading&&e.isFetching&&!t,c4=(e,t)=>e?.suspense&&t.isPending,pS=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function u4(e,t,n){const a=e4(),i=r4(),l=rn(),u=l.defaultQueryOptions(e);l.getDefaultOptions().queries?._experimental_beforeQuery?.(u);const d=l.getQueryCache().get(u.queryHash);u._optimisticResults=a?"isRestoring":"optimistic",o4(u),a4(u,i,d),s4(i);const h=!l.getQueryCache().get(u.queryHash),[m]=g.useState(()=>new t(l,u)),y=m.getOptimisticResult(u),p=!a&&e.subscribed!==!1;if(g.useSyncExternalStore(g.useCallback(b=>{const w=p?m.subscribe(Mn.batchCalls(b)):rr;return m.updateResult(),w},[m,p]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),g.useEffect(()=>{m.setOptions(u)},[u,m]),c4(u,y))throw pS(u,m,i);if(i4({result:y,errorResetBoundary:i,throwOnError:u.throwOnError,query:d,suspense:u.suspense}))throw y.error;return l.getDefaultOptions().queries?._experimental_afterQuery?.(u,y),u.experimental_prefetchInRender&&!Xi&&l4(y,a)&&(h?pS(u,m,i):d?.promise)?.catch(rr).finally(()=>{m.updateResult()}),u.notifyOnChangeProps?y:m.trackResult(y)}function xr(e,t){return u4(e,HP)}function on(e,t){const n=rn(),[a]=g.useState(()=>new QP(n,e));g.useEffect(()=>{a.setOptions(e)},[a,e]);const i=g.useSyncExternalStore(g.useCallback(u=>a.subscribe(Mn.batchCalls(u)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),l=g.useCallback((u,d)=>{a.mutate(u,d).catch(rr)},[a]);if(i.error&&uy(a.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:l,mutateAsync:i.mutate}}var d4=function(){return null},Ta=function(){return Ta=Object.assign||function(t){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},Ta.apply(this,arguments)};function El(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]]);return n}function ui(e,t,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(y){try{m(a.next(y))}catch(p){u(p)}}function h(y){try{m(a.throw(y))}catch(p){u(p)}}function m(y){y.done?l(y.value):i(y.value).then(d,h)}m((a=a.apply(e,t||[])).next())})}function f4(e,t,n){if(n||arguments.length===2)for(var a=0,i=t.length,l;a<i;a++)(l||!(a in t))&&(l||(l=Array.prototype.slice.call(t,0,a)),l[a]=t[a]);return e.concat(l||Array.prototype.slice.call(t))}const h4=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class hy extends Error{constructor(t,n="FunctionsError",a){super(t),this.name=n,this.context=a}}class m4 extends hy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class gS extends hy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class vS extends hy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var fv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(fv||(fv={}));class p4{constructor(t,{headers:n={},customFetch:a,region:i=fv.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=h4(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ui(this,arguments,void 0,function*(n,a={}){var i;let l,u;try{const{headers:d,method:h,body:m,signal:y,timeout:p}=a;let b={},{region:w}=a;w||(w=this.region);const S=new URL(`${this.url}/${n}`);w&&w!=="any"&&(b["x-region"]=w,S.searchParams.set("forceFunctionRegion",w));let _;m&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",_=m):typeof m=="string"?(b["Content-Type"]="text/plain",_=m):typeof FormData<"u"&&m instanceof FormData?_=m:(b["Content-Type"]="application/json",_=JSON.stringify(m)):m&&typeof m!="string"&&!(typeof Blob<"u"&&m instanceof Blob)&&!(m instanceof ArrayBuffer)&&!(typeof FormData<"u"&&m instanceof FormData)?_=JSON.stringify(m):_=m;let j=y;p&&(u=new AbortController,l=setTimeout(()=>u.abort(),p),y?(j=u.signal,y.addEventListener("abort",()=>u.abort())):j=u.signal);const C=yield this.fetch(S.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),d),body:_,signal:j}).catch(L=>{throw new m4(L)}),E=C.headers.get("x-relay-error");if(E&&E==="true")throw new gS(C);if(!C.ok)throw new vS(C);let k=((i=C.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),A;return k==="application/json"?A=yield C.json():k==="application/octet-stream"||k==="application/pdf"?A=yield C.blob():k==="text/event-stream"?A=C:k==="multipart/form-data"?A=yield C.formData():A=yield C.text(),{data:A,error:null,response:C}}catch(d){return{data:null,error:d,response:d instanceof vS||d instanceof gS?d.context:void 0}}finally{l&&clearTimeout(l)}})}}var g4=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},v4=class{constructor(e){var t,n,a;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(a=e.urlLengthLimit)!==null&&a!==void 0?a:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let i=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let u=null,d=null,h=null,m=l.status,y=l.statusText;if(l.ok){var p,b;if(n.method!=="HEAD"){var w;const C=await l.text();C===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((w=n.headers.get("Accept"))===null||w===void 0)&&w.includes("application/vnd.pgrst.plan+text"))?d=C:d=JSON.parse(C))}const _=(p=n.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),j=(b=l.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");_&&j&&j.length>1&&(h=parseInt(j[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var S;const _=await l.text();try{u=JSON.parse(_),Array.isArray(u)&&l.status===404&&(d=[],u=null,m=200,y="OK")}catch{l.status===404&&_===""?(m=204,y="No Content"):u={message:_}}if(u&&n.isMaybeSingle&&(!(u==null||(S=u.details)===null||S===void 0)&&S.includes("0 rows"))&&(u=null,m=200,y="OK"),u&&n.shouldThrowOnError)throw new g4(u)}return{error:u,data:d,count:h,status:m,statusText:y}});return this.shouldThrowOnError||(i=i.catch(l=>{var u;let d="",h="",m="";const y=l?.cause;if(y){var p,b,w,S;const C=(p=y?.message)!==null&&p!==void 0?p:"",E=(b=y?.code)!==null&&b!==void 0?b:"";d=`${(w=l?.name)!==null&&w!==void 0?w:"FetchError"}: ${l?.message}`,d+=`

Caused by: ${(S=y?.name)!==null&&S!==void 0?S:"Error"}: ${C}`,E&&(d+=` (${E})`),y?.stack&&(d+=`
${y.stack}`)}else{var _;d=(_=l?.stack)!==null&&_!==void 0?_:""}const j=this.url.toString().length;return l?.name==="AbortError"||l?.code==="ABORT_ERR"?(m="",h="Request was aborted (timeout or manual cancellation)",j>this.urlLengthLimit&&(h+=`. Note: Your request URL is ${j} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(y?.name==="HeadersOverflowError"||y?.code==="UND_ERR_HEADERS_OVERFLOW")&&(m="",h="HTTP headers exceeded server limits (typically 16KB)",j>this.urlLengthLimit&&(h+=`. Your request URL is ${j} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(u=l?.name)!==null&&u!==void 0?u:"FetchError"}: ${l?.message}`,details:d,hint:h,code:m},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},y4=class extends v4{select(e){let t=!1;const n=(e??"*").split("").map(a=>/\s/.test(a)&&!t?"":(a==='"'&&(t=!t),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const l=i?`${i}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(l,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:l="text"}={}){var u;const d=[e?"analyze":null,t?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${h}"; options=${d};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const yS=new RegExp("[,()]");var nl=class extends y4{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(a=>typeof a=="string"&&yS.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(a=>typeof a=="string"&&yS.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${l}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},x4=class{constructor(e,{headers:t={},schema:n,fetch:a,urlLengthLimit:i=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=a,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:a}=t??{},i=n?"HEAD":"GET";let l=!1;const u=(e??"*").split("").map(m=>/\s/.test(m)&&!l?"":(m==='"'&&(l=!l),m)).join(""),{url:d,headers:h}=this.cloneRequestState();return d.searchParams.set("select",u),a&&h.append("Prefer",`count=${a}`),new nl({method:i,url:d,headers:h,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var a;const i="POST",{url:l,headers:u}=this.cloneRequestState();if(t&&u.append("Prefer",`count=${t}`),n||u.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(d.length>0){const h=[...new Set(d)].map(m=>`"${m}"`);l.searchParams.set("columns",h.join(","))}}return new nl({method:i,url:l,headers:u,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){var l;const u="POST",{url:d,headers:h}=this.cloneRequestState();if(h.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&d.searchParams.set("on_conflict",t),a&&h.append("Prefer",`count=${a}`),i||h.append("Prefer","missing=default"),Array.isArray(e)){const m=e.reduce((y,p)=>y.concat(Object.keys(p)),[]);if(m.length>0){const y=[...new Set(m)].map(p=>`"${p}"`);d.searchParams.set("columns",y.join(","))}}return new nl({method:u,url:d,headers:h,schema:this.schema,body:e,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const a="PATCH",{url:i,headers:l}=this.cloneRequestState();return t&&l.append("Prefer",`count=${t}`),new nl({method:a,url:i,headers:l,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:a,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new nl({method:n,url:a,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function nu(e){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(e)}function b4(e,t){if(nu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(nu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w4(e){var t=b4(e,"string");return nu(t)=="symbol"?t:t+""}function _4(e,t,n){return(t=w4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function rf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xS(Object(n),!0).forEach(function(a){_4(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xS(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}var S4=class sC{constructor(t,{headers:n={},schema:a,fetch:i,timeout:l,urlLengthLimit:u=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=a,this.urlLengthLimit=u;const d=i??globalThis.fetch;l!==void 0&&l>0?this.fetch=(h,m)=>{const y=new AbortController,p=setTimeout(()=>y.abort(),l),b=m?.signal;if(b){if(b.aborted)return clearTimeout(p),d(h,m);const w=()=>{clearTimeout(p),y.abort()};return b.addEventListener("abort",w,{once:!0}),d(h,rf(rf({},m),{},{signal:y.signal})).finally(()=>{clearTimeout(p),b.removeEventListener("abort",w)})}return d(h,rf(rf({},m),{},{signal:y.signal})).finally(()=>clearTimeout(p))}:this.fetch=d}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new x4(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new sC(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:a=!1,get:i=!1,count:l}={}){var u;let d;const h=new URL(`${this.url}/rpc/${t}`);let m;const y=w=>w!==null&&typeof w=="object"&&(!Array.isArray(w)||w.some(y)),p=a&&Object.values(n).some(y);p?(d="POST",m=n):a||i?(d=a?"HEAD":"GET",Object.entries(n).filter(([w,S])=>S!==void 0).map(([w,S])=>[w,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([w,S])=>{h.searchParams.append(w,S)})):(d="POST",m=n);const b=new Headers(this.headers);return p?b.set("Prefer",l?`count=${l},return=minimal`:"return=minimal"):l&&b.set("Prefer",`count=${l}`),new nl({method:d,url:h,headers:b,schema:this.schemaName,body:m,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}};class j4{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const a=n.versions;if(a&&a.node){const i=a.node,l=parseInt(i.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const a=this.getWebSocketConstructor();return new a(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const C4="2.95.1",E4=`realtime-js/${C4}`,N4="1.0.0",iC="2.0.0",bS=iC,hv=1e4,k4=1e3,R4=100;var Ks;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ks||(Ks={}));var An;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(An||(An={}));var ma;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ma||(ma={}));var mv;(function(e){e.websocket="websocket"})(mv||(mv={}));var Ui;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ui||(Ui={}));class T4{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let a=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,a;const i=(a=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,a;const i=(a=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:{},u=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(t,n,a){var i,l;const u=t.topic,d=(i=t.ref)!==null&&i!==void 0?i:"",h=(l=t.join_ref)!==null&&l!==void 0?l:"",m=t.payload.event,y=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(y).length===0?"":JSON.stringify(y);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+d.length+u.length+m.length+p.length,w=new ArrayBuffer(this.HEADER_LENGTH+b);let S=new DataView(w),_=0;S.setUint8(_++,this.KINDS.userBroadcastPush),S.setUint8(_++,h.length),S.setUint8(_++,d.length),S.setUint8(_++,u.length),S.setUint8(_++,m.length),S.setUint8(_++,p.length),S.setUint8(_++,n),Array.from(h,C=>S.setUint8(_++,C.charCodeAt(0))),Array.from(d,C=>S.setUint8(_++,C.charCodeAt(0))),Array.from(u,C=>S.setUint8(_++,C.charCodeAt(0))),Array.from(m,C=>S.setUint8(_++,C.charCodeAt(0))),Array.from(p,C=>S.setUint8(_++,C.charCodeAt(0)));var j=new Uint8Array(w.byteLength+a.byteLength);return j.set(new Uint8Array(w),0),j.set(new Uint8Array(a),w.byteLength),j.buffer}decode(t,n){if(this._isArrayBuffer(t)){let a=this._binaryDecode(t);return n(a)}if(typeof t=="string"){const a=JSON.parse(t),[i,l,u,d,h]=a;return n({join_ref:i,ref:l,topic:u,event:d,payload:h})}return n({})}_binaryDecode(t){const n=new DataView(t),a=n.getUint8(0),i=new TextDecoder;if(a===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,n,i)}_decodeUserBroadcast(t,n,a){const i=n.getUint8(1),l=n.getUint8(2),u=n.getUint8(3),d=n.getUint8(4);let h=this.HEADER_LENGTH+4;const m=a.decode(t.slice(h,h+i));h=h+i;const y=a.decode(t.slice(h,h+l));h=h+l;const p=a.decode(t.slice(h,h+u));h=h+u;const b=t.slice(h,t.byteLength),w=d===this.JSON_ENCODING?JSON.parse(a.decode(b)):b,S={type:this.BROADCAST_EVENT,event:y,payload:w};return u>0&&(S.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([a])=>n.includes(a)))}}class oC{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Wt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Wt||(Wt={}));const wS=(e,t,n={})=>{var a;const i=(a=n.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((l,u)=>(l[u]=A4(u,e,t,i),l),{}):{}},A4=(e,t,n,a)=>{const i=t.find(d=>d.name===e),l=i?.type,u=n[e];return l&&!a.includes(l)?lC(l,u):pv(u)},lC=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return P4(t,n)}switch(e){case Wt.bool:return O4(t);case Wt.float4:case Wt.float8:case Wt.int2:case Wt.int4:case Wt.int8:case Wt.numeric:case Wt.oid:return D4(t);case Wt.json:case Wt.jsonb:return M4(t);case Wt.timestamp:return L4(t);case Wt.abstime:case Wt.date:case Wt.daterange:case Wt.int4range:case Wt.int8range:case Wt.money:case Wt.reltime:case Wt.text:case Wt.time:case Wt.timestamptz:case Wt.timetz:case Wt.tsrange:case Wt.tstzrange:return pv(t);default:return pv(t)}},pv=e=>e,O4=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},D4=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},M4=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},P4=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,a=e[n];if(e[0]==="{"&&a==="}"){let l;const u=e.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(d=>lC(t,d))}return e},L4=e=>typeof e=="string"?e.replace(" ","T"):e,cC=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class bg{constructor(t,n,a={},i=hv){this.channel=t,this.event=n,this.payload=a,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var a;return this._hasReceived(t)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var _S;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(_S||(_S={}));class qc{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},i=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=qc.syncState(this.state,i,l,u),this.pendingDiffs.forEach(h=>{this.state=qc.syncDiff(this.state,h,l,u)}),this.pendingDiffs=[],d()}),this.channel._on(a.diff,{},i=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=qc.syncDiff(this.state,i,l,u),d())}),this.onJoin((i,l,u)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:l,newPresences:u})}),this.onLeave((i,l,u)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,a,i){const l=this.cloneDeep(t),u=this.transformState(n),d={},h={};return this.map(l,(m,y)=>{u[m]||(h[m]=y)}),this.map(u,(m,y)=>{const p=l[m];if(p){const b=y.map(j=>j.presence_ref),w=p.map(j=>j.presence_ref),S=y.filter(j=>w.indexOf(j.presence_ref)<0),_=p.filter(j=>b.indexOf(j.presence_ref)<0);S.length>0&&(d[m]=S),_.length>0&&(h[m]=_)}else d[m]=y}),this.syncDiff(l,{joins:d,leaves:h},a,i)}static syncDiff(t,n,a,i){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),i||(i=()=>{}),this.map(l,(d,h)=>{var m;const y=(m=t[d])!==null&&m!==void 0?m:[];if(t[d]=this.cloneDeep(h),y.length>0){const p=t[d].map(w=>w.presence_ref),b=y.filter(w=>p.indexOf(w.presence_ref)<0);t[d].unshift(...b)}a(d,y,h)}),this.map(u,(d,h)=>{let m=t[d];if(!m)return;const y=h.map(p=>p.presence_ref);m=m.filter(p=>y.indexOf(p.presence_ref)<0),t[d]=m,i(d,m,h),m.length===0&&delete t[d]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(a=>n(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,a)=>{const i=t[a];return"metas"in i?n[a]=i.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[a]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var SS;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(SS||(SS={}));var Hc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Hc||(Hc={}));var ds;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ds||(ds={}));class il{constructor(t,n={config:{}},a){var i,l;if(this.topic=t,this.params=n,this.socket=a,this.bindings={},this.state=An.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new bg(this,ma.join,this.params,this.timeout),this.rejoinTimer=new oC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=An.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=An.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=An.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=An.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=An.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ma.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new qc(this),this.broadcastEndpointURL=cC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var a,i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==An.closed){const{config:{broadcast:u,presence:d,private:h}}=this.params,m=(i=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(w=>w.filter))!==null&&i!==void 0?i:[],y=!!this.bindings[Hc.PRESENCE]&&this.bindings[Hc.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,p={},b={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:y}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(w=>t?.(ds.CHANNEL_ERROR,w)),this._onClose(()=>t?.(ds.CLOSED)),this.updateJoinPayload(Object.assign({config:b},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:w})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){t?.(ds.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,j=(S=_?.length)!==null&&S!==void 0?S:0,C=[];for(let E=0;E<j;E++){const k=_[E],{filter:{event:A,schema:L,table:P,filter:T}}=k,z=w&&w[E];if(z&&z.event===A&&il.isFilterValueEqual(z.schema,L)&&il.isFilterValueEqual(z.table,P)&&il.isFilterValueEqual(z.filter,T))C.push(Object.assign(Object.assign({},k),{id:z.id}));else{this.unsubscribe(),this.state=An.errored,t?.(ds.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(ds.SUBSCRIBED);return}}).receive("error",w=>{this.state=An.errored,t?.(ds.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{t?.(ds.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,a){return this.state===An.joined&&t===Hc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,a)}async httpSend(t,n,a={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(i=a.timeout)!==null&&i!==void 0?i:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const m=await d.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(t,n={}){var a,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=t,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,d,h;const m=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((h=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=An.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ma.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(i=>{a=new bg(this,ma.leave,{},t),a.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=An.closed,this.bindings={}}async _fetchWithTimeout(t,n,a){const i=new AbortController,l=setTimeout(()=>i.abort(),a),u=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(l),u}_push(t,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new bg(this,t,n,a);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>R4){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,a){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,a){var i,l;const u=t.toLocaleLowerCase(),{close:d,error:h,leave:m,join:y}=ma;if(a&&[d,h,m,y].indexOf(u)>=0&&a!==this._joinRef())return;let b=this._onMessage(u,n,a);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(w=>{var S,_,j;return((S=w.filter)===null||S===void 0?void 0:S.event)==="*"||((j=(_=w.filter)===null||_===void 0?void 0:_.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===u}).map(w=>w.callback(b,a)):(l=this.bindings[u])===null||l===void 0||l.filter(w=>{var S,_,j,C,E,k;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in w){const A=w.id,L=(S=w.filter)===null||S===void 0?void 0:S.event;return A&&((_=n.ids)===null||_===void 0?void 0:_.includes(A))&&(L==="*"||L?.toLocaleLowerCase()===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const A=(E=(C=w?.filter)===null||C===void 0?void 0:C.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return A==="*"||A===((k=n?.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===u}).map(w=>{if(typeof b=="object"&&"ids"in b){const S=b.data,{schema:_,table:j,commit_timestamp:C,type:E,errors:k}=S;b=Object.assign(Object.assign({},{schema:_,table:j,commit_timestamp:C,eventType:E,new:{},old:{},errors:k}),this._getPayloadRecords(S))}w.callback(b,a)})}_isClosed(){return this.state===An.closed}_isJoined(){return this.state===An.joined}_isJoining(){return this.state===An.joining}_isLeaving(){return this.state===An.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,a){const i=t.toLocaleLowerCase(),l={type:i,filter:n,callback:a};return this.bindings[i]?this.bindings[i].push(l):this.bindings[i]=[l],this}_off(t,n){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(i=>{var l;return!(((l=i.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===a&&il.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const a in t)if(t[a]!==n[a])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ma.close,{},t)}_onError(t){this._on(ma.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=An.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=wS(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=wS(t.columns,t.old_record)),n}}const wg=()=>{},af={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},z4=[1e3,2e3,5e3,1e4],U4=1e4,I4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $4{constructor(t,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=hv,this.transport=null,this.heartbeatIntervalMs=af.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wg,this.ref=0,this.reconnectTimer=null,this.vsn=bS,this.logger=wg,this.conn=null,this.sendBuffer=[],this.serializer=new T4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...l)=>i(...l):(...l)=>fetch(...l),!(!((a=n?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${mv.websocket}`,this.httpEndpoint=cC(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=j4.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return n==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,a){this.logger(t,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Ks.connecting:return Ui.Connecting;case Ks.open:return Ui.Open;case Ks.closing:return Ui.Closing;default:return Ui.Closed}}isConnected(){return this.connectionState()===Ui.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const a=`realtime:${t}`,i=this.getChannels().find(l=>l.topic===a);if(i)return i;{const l=new il(`realtime:${t}`,n,this);return this.channels.push(l),l}}push(t){const{topic:n,event:a,payload:i,ref:l}=t,u=()=>{this.encode(t,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${n} ${a} (${l})`,i),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(k4,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},af.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const m=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",m)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:a,event:i,payload:l,ref:u}=n,d=u?`(${u})`:"",h=l.status||"";this.log("receive",`${h} ${a} ${i} ${d}`.trim(),l),this.channels.filter(m=>m._isMember(a)).forEach(m=>m._trigger(i,l,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Ks.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ks.open||this.conn.readyState===Ks.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(ma.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const a=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${a}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const a=new Blob([I4],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,a=!1;if(t)n=t,a=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const l={access_token:n,version:E4};n&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push(ma.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new oC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},af.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,a,i,l,u,d,h,m,y,p,b,w;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(a=t?.timeout)!==null&&a!==void 0?a:hv,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:af.HEARTBEAT_INTERVAL,this.worker=(l=t?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=t?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=t?.heartbeatCallback)!==null&&d!==void 0?d:wg,this.vsn=(h=t?.vsn)!==null&&h!==void 0?h:bS,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=t?.reconnectAfterMs)!==null&&m!==void 0?m:(S=>z4[S-1]||U4),this.vsn){case N4:this.encode=(y=t?.encode)!==null&&y!==void 0?y:((S,_)=>_(JSON.stringify(S))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:((S,_)=>_(JSON.parse(S)));break;case iC:this.encode=(b=t?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(w=t?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var ru=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function F4(e,t,n){const a=new URL(t,e);if(n)for(const[i,l]of Object.entries(n))l!==void 0&&a.searchParams.set(i,l);return a.toString()}async function B4(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function q4(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:a,query:i,body:l,headers:u}){const d=F4(e.baseUrl,a,i),h=await B4(e.auth),m=await t(d,{method:n,headers:{...l?{"Content-Type":"application/json"}:{},...h,...u},body:l?JSON.stringify(l):void 0}),y=await m.text(),p=(m.headers.get("content-type")||"").includes("application/json"),b=p&&y?JSON.parse(y):y;if(!m.ok){const w=p?b:void 0,S=w?.error;throw new ru(S?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:S?.type,icebergCode:S?.code,details:w})}return{status:m.status,headers:m.headers,data:b}}}}function sf(e){return e.join("")}var H4=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:sf(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${sf(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${sf(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${sf(e.namespace)}`}),!0}catch(t){if(t instanceof ru&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof ru&&n.status===409)return;throw n}}};function Ho(e){return e.join("")}var V4=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ho(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ho(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ho(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ho(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ho(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ho(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof ru&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof ru&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},K4=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=q4({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new H4(this.client,t),this.tableOps=new V4(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},yh=class extends Error{constructor(e,t="storage",n,a){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=a}};function xh(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var of=class extends yh{constructor(e,t,n,a="storage"){super(e,a,t,n),this.name=a==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},uC=class extends yh{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const W4=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),G4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},gv=e=>{if(Array.isArray(e))return e.map(n=>gv(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,a])=>{const i=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[i]=gv(a)}),t},Y4=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function au(e){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}function Q4(e,t){if(au(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(au(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X4(e){var t=Q4(e,"string");return au(t)=="symbol"?t:t+""}function J4(e,t,n){return(t=X4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jS(Object(n),!0).forEach(function(a){J4(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jS(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}const CS=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Z4=async(e,t,n,a)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e,l=i.status||500;if(typeof i.json=="function")i.json().then(u=>{const d=u?.statusCode||u?.code||l+"";t(new of(CS(u),l,d,a))}).catch(()=>{if(a==="vectors"){const u=l+"";t(new of(i.statusText||`HTTP ${l} error`,l,u,a))}else{const u=l+"";t(new of(i.statusText||`HTTP ${l} error`,l,u,a))}});else{const u=l+"";t(new of(i.statusText||`HTTP ${l} error`,l,u,a))}}else t(new uC(CS(e),e,a))},eL=(e,t,n,a)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||e==="HEAD"||!a?We(We({},i),n):(G4(a)?(i.headers=We({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(a)):i.body=a,t?.duplex&&(i.duplex=t.duplex),We(We({},i),n))};async function Tc(e,t,n,a,i,l,u){return new Promise((d,h)=>{e(n,eL(t,a,i,l)).then(m=>{if(!m.ok)throw m;if(a?.noResolveJson)return m;if(u==="vectors"){const y=m.headers.get("content-type");if(m.headers.get("content-length")==="0"||m.status===204)return{};if(!y||!y.includes("application/json"))return{}}return m.json()}).then(m=>d(m)).catch(m=>Z4(m,h,a,u))})}function dC(e="storage"){return{get:async(t,n,a,i)=>Tc(t,"GET",n,a,i,void 0,e),post:async(t,n,a,i,l)=>Tc(t,"POST",n,i,l,a,e),put:async(t,n,a,i,l)=>Tc(t,"PUT",n,i,l,a,e),head:async(t,n,a,i)=>Tc(t,"HEAD",n,We(We({},a),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,n,a,i,l)=>Tc(t,"DELETE",n,i,l,a,e)}}const tL=dC("storage"),{get:su,post:ha,put:vv,head:nL,remove:my}=tL,Dr=dC("vectors");var Nl=class{constructor(e,t={},n,a="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=W4(n),this.namespace=a}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(xh(n))return{data:null,error:n};throw n}}},rL=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(xh(t))return{data:null,error:t};throw t}}};let fC;fC=Symbol.toStringTag;var aL=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[fC]="BlobDownloadBuilder",this.promise=null}asStream(){return new rL(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(xh(t))return{data:null,error:t};throw t}}};const sL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ES={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var iL=class extends Nl{constructor(e,t={},n,a){super(e,t,a,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,a){var i=this;return i.handleOperation(async()=>{let l;const u=We(We({},ES),a);let d=We(We({},i.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",i.encodeMetadata(h)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),h&&!l.has("metadata")&&l.append("metadata",i.encodeMetadata(h))):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,h&&(d["x-metadata"]=i.toBase64(i.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),a?.headers&&(d=We(We({},d),a.headers));const m=i._removeEmptyFolders(t),y=i._getFinalPath(m),p=await(e=="PUT"?vv:ha)(i.fetch,`${i.url}/object/${y}`,l,We({headers:d},u?.duplex?{duplex:u.duplex}:{}));return{path:m,id:p.Id,fullPath:p.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,a){var i=this;const l=i._removeEmptyFolders(e),u=i._getFinalPath(l),d=new URL(i.url+`/object/upload/sign/${u}`);return d.searchParams.set("token",t),i.handleOperation(async()=>{let h;const m=We({upsert:ES.upsert},a),y=We(We({},i.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",m.cacheControl)):(h=n,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType),{path:l,fullPath:(await vv(i.fetch,d.toString(),h,{headers:y})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(e);const i=We({},n.headers);t?.upsert&&(i["x-upsert"]="true");const l=await ha(n.fetch,`${n.url}/object/upload/sign/${a}`,{},{headers:i}),u=new URL(n.url+l.url),d=u.searchParams.get("token");if(!d)throw new yh("No token returned by API");return{signedUrl:u.toString(),path:e,token:d}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var a=this;return a.handleOperation(async()=>await ha(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:a.headers}))}async copy(e,t,n){var a=this;return a.handleOperation(async()=>({path:(await ha(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:a.headers})).Key}))}async createSignedUrl(e,t,n){var a=this;return a.handleOperation(async()=>{let i=a._getFinalPath(e),l=await ha(a.fetch,`${a.url}/object/sign/${i}`,We({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:a.headers});const u=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${a.url}${l.signedURL}${u}`)}})}async createSignedUrls(e,t,n){var a=this;return a.handleOperation(async()=>{const i=await ha(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:t,paths:e},{headers:a.headers}),l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(u=>We(We({},u),{},{signedUrl:u.signedURL?encodeURI(`${a.url}${u.signedURL}${l}`):null}))})}download(e,t,n){const a=typeof t?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(t?.transform||{}),l=i?`?${i}`:"",u=this._getFinalPath(e),d=()=>su(this.fetch,`${this.url}/${a}/${u}${l}`,{headers:this.headers,noResolveJson:!0},n);return new aL(d,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>gv(await su(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await nL(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(xh(a)&&a instanceof uC){const i=a.originalError;if([400,404].includes(i?.status))return{data:!1,error:a}}throw a}}getPublicUrl(e,t){const n=this._getFinalPath(e),a=[],i=t?.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&a.push(i);const l=typeof t?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(t?.transform||{});u!==""&&a.push(u);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await my(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var a=this;return a.handleOperation(async()=>{const i=We(We(We({},sL),t),{},{prefix:e||""});return await ha(a.fetch,`${a.url}/object/list/${a.bucketId}`,i,{headers:a.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const a=We({},e);return await ha(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,a,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const oL="2.95.1",Cu={"X-Client-Info":`storage-js/${oL}`};var lL=class extends Nl{constructor(e,t={},n,a){const i=new URL(e);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const l=i.href.replace(/\/$/,""),u=We(We({},Cu),t);super(l,u,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await su(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await su(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await ha(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await vv(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await ha(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await my(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},cL=class extends Nl{constructor(e,t={},n){const a=e.replace(/\/$/,""),i=We(We({},Cu),t);super(a,i,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ha(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const a=n.toString(),i=a?`${t.url}/bucket?${a}`:`${t.url}/bucket`;return await su(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await my(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!Y4(e))throw new yh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new K4({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(n,{get(i,l){const u=i[l];return typeof u!="function"?u:async(...d)=>{try{return{data:await u.apply(i,d),error:null}}catch(h){if(a)throw h;return{data:null,error:h}}}}})}},uL=class extends Nl{constructor(e,t={},n){const a=e.replace(/\/$/,""),i=We(We({},Cu),{},{"Content-Type":"application/json"},t);super(a,i,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Dr.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await Dr.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Dr.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await Dr.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},dL=class extends Nl{constructor(e,t={},n){const a=e.replace(/\/$/,""),i=We(We({},Cu),{},{"Content-Type":"application/json"},t);super(a,i,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Dr.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Dr.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Dr.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Dr.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Dr.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},fL=class extends Nl{constructor(e,t={},n){const a=e.replace(/\/$/,""),i=We(We({},Cu),{},{"Content-Type":"application/json"},t);super(a,i,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Dr.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Dr.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Dr.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Dr.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},hL=class extends fL{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new mL(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},mL=class extends uL{constructor(e,t,n,a){super(e,t,a),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,We(We({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,We(We({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new pL(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},pL=class extends dL{constructor(e,t,n,a,i){super(e,t,i),this.vectorBucketName=n,this.indexName=a}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,We(We({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,We(We({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,We(We({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,We(We({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,We(We({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},gL=class extends lL{constructor(e,t={},n,a){super(e,t,n,a)}from(e){return new iL(this.url,this.headers,e,this.fetch)}get vectors(){return new hL(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new cL(this.url+"/iceberg",this.headers,this.fetch)}};const hC="2.95.1",rl=30*1e3,yv=3,_g=yv*rl,vL="http://localhost:9999",yL="supabase.auth.token",xL={"X-Client-Info":`gotrue-js/${hC}`},xv="X-Supabase-Api-Version",mC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},bL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wL=600*1e3;class iu extends Error{constructor(t,n,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function Ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class _L extends iu{constructor(t,n,a){super(t,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function SL(e){return Ue(e)&&e.name==="AuthApiError"}class Ii extends iu{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ys extends iu{constructor(t,n,a,i){super(t,a,i),this.name=n,this.status=a}}class Tr extends ys{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Sg(e){return Ue(e)&&e.name==="AuthSessionMissingError"}class Vo extends ys{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class lf extends ys{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class cf extends ys{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jL(e){return Ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class NS extends ys{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class CL extends ys{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class bv extends ys{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function jg(e){return Ue(e)&&e.name==="AuthRetryableFetchError"}class kS extends ys{constructor(t,n,a){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class wv extends ys{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const zf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),RS=` 	
\r=`.split(""),EL=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<RS.length;t+=1)e[RS[t].charCodeAt(0)]=-2;for(let t=0;t<zf.length;t+=1)e[zf[t].charCodeAt(0)]=t;return e})();function TS(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(zf[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(zf[a]),t.queuedBits-=6}}function pC(e,t,n){const a=EL[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function AS(e){const t=[],n=u=>{t.push(String.fromCodePoint(u))},a={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},l=u=>{RL(u,a,n)};for(let u=0;u<e.length;u+=1)pC(e.charCodeAt(u),i,l);return t.join("")}function NL(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function kL(e,t){for(let n=0;n<e.length;n+=1){let a=e.charCodeAt(n);if(a>55295&&a<=56319){const i=(a-55296)*1024&65535;a=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}NL(a,t)}}function RL(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let a=1;a<6;a+=1)if((e>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ll(e){const t=[],n={queue:0,queuedBits:0},a=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)pC(e.charCodeAt(i),n,a);return new Uint8Array(t)}function TL(e){const t=[];return kL(e,n=>t.push(n)),new Uint8Array(t)}function Hi(e){const t=[],n={queue:0,queuedBits:0},a=i=>{t.push(i)};return e.forEach(i=>TS(i,n,a)),TS(null,n,a),t.join("")}function AL(e){return Math.round(Date.now()/1e3)+e}function OL(){return Symbol("auth-callback")}const Wn=()=>typeof window<"u"&&typeof document<"u",Di={tested:!1,writable:!1},gC=()=>{if(!Wn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Di.tested)return Di.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Di.tested=!0,Di.writable=!0}catch{Di.tested=!0,Di.writable=!1}return Di.writable};function DL(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,l)=>{t[l]=i})}catch{}return n.searchParams.forEach((a,i)=>{t[i]=a}),t}const vC=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ML=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",al=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Mi=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Kn=async(e,t)=>{await e.removeItem(t)};class bh{constructor(){this.promise=new bh.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}bh.promiseConstructor=Promise;function uf(e){const t=e.split(".");if(t.length!==3)throw new wv("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!bL.test(t[a]))throw new wv("JWT not in base64url format");return{header:JSON.parse(AS(t[0])),payload:JSON.parse(AS(t[1])),signature:ll(t[2]),raw:{header:t[0],payload:t[1]}}}async function PL(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function LL(e,t){return new Promise((a,i)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await e(l);if(!t(l,null,u)){a(u);return}}catch(u){if(!t(l,u)){i(u);return}}})()})}function zL(e){return("0"+e.toString(16)).substr(-2)}function UL(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let i="";for(let l=0;l<56;l++)i+=n.charAt(Math.floor(Math.random()*a));return i}return crypto.getRandomValues(t),Array.from(t,zL).join("")}async function IL(e){const n=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(a);return Array.from(i).map(l=>String.fromCharCode(l)).join("")}async function $L(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await IL(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ko(e,t,n=!1){const a=UL();let i=a;n&&(i+="/PASSWORD_RECOVERY"),await al(e,`${t}-code-verifier`,i);const l=await $L(a);return[l,a===l?"plain":"s256"]}const FL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function BL(e){const t=e.headers.get(xv);if(!t||!t.match(FL))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function qL(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function HL(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const VL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Wo(e){if(!VL.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cg(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function KL(e,t){return new Proxy(e,{get:(n,a,i)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const l=a.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,i)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,a,i)}})}function OS(e){return JSON.parse(JSON.stringify(e))}const Li=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),WL=[502,503,504];async function DS(e){var t;if(!ML(e))throw new bv(Li(e),0);if(WL.includes(e.status))throw new bv(Li(e),e.status);let n;try{n=await e.json()}catch(l){throw new Ii(Li(l),l)}let a;const i=BL(e);if(i&&i.getTime()>=mC["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new kS(Li(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Tr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new kS(Li(n),e.status,n.weak_password.reasons);throw new _L(Li(n),e.status||500,a)}const GL=(e,t,n,a)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(a),Object.assign(Object.assign({},i),n))};async function Ve(e,t,n,a){var i;const l=Object.assign({},a?.headers);l[xv]||(l[xv]=mC["2024-01-01"].name),a?.jwt&&(l.Authorization=`Bearer ${a.jwt}`);const u=(i=a?.query)!==null&&i!==void 0?i:{};a?.redirectTo&&(u.redirect_to=a.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await YL(e,t,n+d,{headers:l,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(h):{data:Object.assign({},h),error:null}}async function YL(e,t,n,a,i,l){const u=GL(t,a,i,l);let d;try{d=await e(n,Object.assign({},u))}catch(h){throw console.error(h),new bv(Li(h),0)}if(d.ok||await DS(d),a?.noResolveJson)return d;try{return await d.json()}catch(h){await DS(h)}}function da(e){var t;let n=null;JL(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=AL(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:a},error:null}}function MS(e){const t=da(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Qs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function QL(e){return{data:e,error:null}}function XL(e){const{action_link:t,email_otp:n,hashed_token:a,redirect_to:i,verification_type:l}=e,u=El(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:n,hashed_token:a,redirect_to:i,verification_type:l},h=Object.assign({},u);return{data:{properties:d,user:h},error:null}}function PS(e){return e}function JL(e){return e.access_token&&e.refresh_token&&e.expires_in}const Eg=["global","local","others"];class ZL{constructor({url:t="",headers:n={},fetch:a}){this.url=t,this.headers=n,this.fetch=vC(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Eg[0]){if(Eg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Eg.join(", ")}`);try{return await Ve(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Ue(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,n={}){try{return await Ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Qs})}catch(a){if(Ue(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:n}=t,a=El(t,["options"]),i=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(i.new_email=a?.newEmail,delete i.newEmail),await Ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:XL,redirectTo:n?.redirectTo})}catch(n){if(Ue(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ve(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Qs})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,a,i,l,u,d,h;try{const m={nextPage:null,lastPage:0,total:0},y=await Ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(l=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:PS});if(y.error)throw y.error;const p=await y.json(),b=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(h=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(S.split(";")[1].split("=")[1]);m[`${j}Page`]=_}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},p),m),error:null}}catch(m){if(Ue(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){Wo(t);try{return await Ve(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Qs})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Wo(t);try{return await Ve(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Qs})}catch(a){if(Ue(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,n=!1){Wo(t);try{return await Ve(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Qs})}catch(a){if(Ue(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){Wo(t.userId);try{const{data:n,error:a}=await Ve(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:a}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Wo(t.userId),Wo(t.id);try{return{data:await Ve(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,a,i,l,u,d,h;try{const m={nextPage:null,lastPage:0,total:0},y=await Ve(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(l=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:PS});if(y.error)throw y.error;const p=await y.json(),b=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(h=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(S.split(";")[1].split("=")[1]);m[`${j}Page`]=_}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},p),m),error:null}}catch(m){if(Ue(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(t){try{return await Ve(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Ve(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await Ve(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(Ue(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await Ve(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Ve(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}}function LS(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Go={debug:!!(globalThis&&gC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yC extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class ez extends yC{}async function tz(e,t,n){Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),Go.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async i=>{if(i){Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ez(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Go.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function nz(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function xC(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function rz(e){return parseInt(e,16)}function az(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function sz(e){var t;const{chainId:n,domain:a,expirationTime:i,issuedAt:l=new Date,nonce:u,notBefore:d,requestId:h,resources:m,scheme:y,uri:p,version:b}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const w=xC(e.address),S=y?`${y}://${a}`:a,_=e.statement?`${e.statement}
`:"",j=`${S} wants you to sign in with your Ethereum account:
${w}

${_}`;let C=`URI: ${p}
Version: ${b}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(i&&(C+=`
Expiration Time: ${i.toISOString()}`),d&&(C+=`
Not Before: ${d.toISOString()}`),h&&(C+=`
Request ID: ${h}`),m){let E=`
Resources:`;for(const k of m){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);E+=`
- ${k}`}C+=E}return`${j}
${C}`}class jn extends Error{constructor({message:t,code:n,cause:a,name:i}){var l;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(l=i??(a instanceof Error?a.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class Uf extends jn{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function iz({error:e,options:t}){var n,a,i;const{publicKey:l}=t;if(!l)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new jn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new jn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new jn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new jn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new jn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new jn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new jn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new jn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const u=window.location.hostname;if(bC(u)){if(l.rp.id!==u)return new jn({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new jn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new jn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new jn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new jn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function oz({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new jn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new jn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(bC(a)){if(n.rpId!==a)return new jn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new jn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new jn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new jn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class lz{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const cz=new lz;function uz(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:a}=e,i=El(e,["challenge","user","excludeCredentials"]),l=ll(t).buffer,u=Object.assign(Object.assign({},n),{id:ll(n.id).buffer}),d=Object.assign(Object.assign({},i),{challenge:l,user:u});if(a&&a.length>0){d.excludeCredentials=new Array(a.length);for(let h=0;h<a.length;h++){const m=a[h];d.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:ll(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function dz(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,a=El(e,["challenge","allowCredentials"]),i=ll(t).buffer,l=Object.assign(Object.assign({},a),{challenge:i});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const d=n[u];l.allowCredentials[u]=Object.assign(Object.assign({},d),{id:ll(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function fz(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Hi(new Uint8Array(e.response.attestationObject)),clientDataJSON:Hi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function hz(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,a=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Hi(new Uint8Array(i.authenticatorData)),clientDataJSON:Hi(new Uint8Array(i.clientDataJSON)),signature:Hi(new Uint8Array(i.signature)),userHandle:i.userHandle?Hi(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function bC(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function zS(){var e,t;return!!(Wn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function mz(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Uf("Browser returned unexpected credential type",t)}:{data:null,error:new Uf("Empty credential response",t)}}catch(t){return{data:null,error:iz({error:t,options:e})}}}async function pz(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Uf("Browser returned unexpected credential type",t)}:{data:null,error:new Uf("Empty credential response",t)}}catch(t){return{data:null,error:oz({error:t,options:e})}}}const gz={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},vz={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function If(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),a={};for(const i of e)if(i)for(const l in i){const u=i[l];if(u!==void 0)if(Array.isArray(u))a[l]=u;else if(n(u))a[l]=u;else if(t(u)){const d=a[l];t(d)?a[l]=If(d,u):a[l]=If(u)}else a[l]=u}return a}function yz(e,t){return If(gz,e,t||{})}function xz(e,t){return If(vz,e,t||{})}class bz{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:a,signal:i},l){var u;try{const{data:d,error:h}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!d)return{data:null,error:h};const m=i??cz.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:y}=d.webauthn.credential_options.publicKey;if(!y.name){const p=a;if(p)y.name=`${y.id}:${p}`;else{const w=(await this.client.getUser()).data.user,S=((u=w?.user_metadata)===null||u===void 0?void 0:u.name)||w?.email||w?.id||"User";y.name=`${y.id}:${S}`}}y.displayName||(y.displayName=y.name)}switch(d.webauthn.type){case"create":{const y=yz(d.webauthn.credential_options.publicKey,l?.create),{data:p,error:b}=await mz({publicKey:y,signal:m});return p?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:p}},error:null}:{data:null,error:b}}case"request":{const y=xz(d.webauthn.credential_options.publicKey,l?.request),{data:p,error:b}=await pz(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:y,signal:m}));return p?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:p}},error:null}:{data:null,error:b}}}}catch(d){return Ue(d)?{data:null,error:d}:{data:null,error:new Ii("Unexpected error in challenge",d)}}}async _verify({challengeId:t,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},l){if(!n)return{data:null,error:new iu("rpId is required for WebAuthn authentication")};try{if(!zS())return{data:null,error:new Ii("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:a},signal:i},{request:l});if(!u)return{data:null,error:d};const{webauthn:h}=u;return this._verify({factorId:t,challengeId:u.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:a,credential_response:h.credential_response}})}catch(u){return Ue(u)?{data:null,error:u}:{data:null,error:new Ii("Unexpected error in authenticate",u)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},l){if(!n)return{data:null,error:new iu("rpId is required for WebAuthn registration")};try{if(!zS())return{data:null,error:new Ii("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:t});if(!u)return await this.client.mfa.listFactors().then(y=>{var p;return(p=y.data)===null||p===void 0?void 0:p.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:d};const{data:h,error:m}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:i},{create:l});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:a,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(u){return Ue(u)?{data:null,error:u}:{data:null,error:new Ii("Unexpected error in register",u)}}}}nz();const wz={url:vL,storageKey:yL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function US(e,t,n){return await n()}const Yo={};class ou{get jwks(){var t,n;return(n=(t=Yo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Yo[this.storageKey]=Object.assign(Object.assign({},Yo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Yo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Yo[this.storageKey]=Object.assign(Object.assign({},Yo[this.storageKey]),{cachedAt:t})}constructor(t){var n,a,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},wz),t);if(this.storageKey=l.storageKey,this.instanceID=(n=ou.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ou.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&Wn()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new ZL({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=vC(l.fetch),this.lock=l.lock||US,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,this.lockAcquireTimeout=l.lockAcquireTimeout,l.lock?this.lock=l.lock:this.persistSession&&Wn()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=tz:this.lock=US,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new bz(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:gC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=LS(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=LS(this.memoryStorage)),Wn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u);try{await this._notifyAllSubscribers(u.data.event,u.data.session,!1)}catch(d){this._debug("#broadcastChannel","error",d)}})}this.initialize().catch(u=>{this._debug("#initialize()","error",u)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${hC}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},a="none";if(Wn()&&(n=DL(window.location.href),this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce")),Wn()&&this.detectSessionInUrl&&a!=="none"){const{data:i,error:l}=await this._getSessionFromURL(n,a);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),jL(l)){const h=(t=l.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return{error:l}}const{session:u,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ue(n)?this._returnResult({error:n}):this._returnResult({error:new Ii("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,a,i;try{const l=await Ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:da}),{data:u,error:d}=l;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(Ue(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(t){var n,a,i;try{let l;if("email"in t){const{email:y,password:p,options:b}=t;let w=null,S=null;this.flowType==="pkce"&&([w,S]=await Ko(this.storage,this.storageKey)),l=await Ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:y,password:p,data:(n=b?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:w,code_challenge_method:S},xform:da})}else if("phone"in t){const{phone:y,password:p,options:b}=t;l=await Ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:p,data:(a=b?.data)!==null&&a!==void 0?a:{},channel:(i=b?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:da})}else throw new lf("You must provide either an email or phone number and a password");const{data:u,error:d}=l;if(d||!u)return await Kn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(await Kn(this.storage,`${this.storageKey}-code-verifier`),Ue(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(t){try{let n;if("email"in t){const{email:l,password:u,options:d}=t;n=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:MS})}else if("phone"in t){const{phone:l,password:u,options:d}=t;n=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:MS})}else throw new lf("You must provide either an email or phone number and a password");const{data:a,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!a||!a.session||!a.user){const l=new Vo;return this._returnResult({data:{user:null,session:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:i})}catch(n){if(Ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,a,i,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,a,i,l,u,d,h,m,y,p,b;let w,S;if("message"in t)w=t.message,S=t.signature;else{const{chain:_,wallet:j,statement:C,options:E}=t;let k;if(Wn())if(typeof j=="object")k=j;else{const Z=window;if("ethereum"in Z&&typeof Z.ethereum=="object"&&"request"in Z.ethereum&&typeof Z.ethereum.request=="function")k=Z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=j}const A=new URL((n=E?.url)!==null&&n!==void 0?n:window.location.href),L=await k.request({method:"eth_requestAccounts"}).then(Z=>Z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!L||L.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=xC(L[0]);let T=(a=E?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!T){const Z=await k.request({method:"eth_chainId"});T=rz(Z)}const z={domain:A.host,address:P,statement:C,uri:A.href,version:"1",chainId:T,nonce:(i=E?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(u=(l=E?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=E?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=E?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=E?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(y=E?.signInWithEthereum)===null||y===void 0?void 0:y.resources};w=sz(z),S=await k.request({method:"personal_sign",params:[az(w),P]})}try{const{data:_,error:j}=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:S},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:da});if(j)throw j;if(!_||!_.session||!_.user){const C=new Vo;return this._returnResult({data:{user:null,session:null},error:C})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:j})}catch(_){if(Ue(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(t){var n,a,i,l,u,d,h,m,y,p,b,w;let S,_;if("message"in t)S=t.message,_=t.signature;else{const{chain:j,wallet:C,statement:E,options:k}=t;let A;if(Wn())if(typeof C=="object")A=C;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))A=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=C}const L=new URL((n=k?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in A&&A.signIn){const P=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k?.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),E?{statement:E}:null));let T;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")T=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)T=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)S=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),_=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${L.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(i=(a=k?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((l=k?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((u=k?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((d=k?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((h=k?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((m=k?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((p=(y=k?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||p===void 0)&&p.length?["Resources",...k.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const P=await A.signMessage(new TextEncoder().encode(S),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=P}}try{const{data:j,error:C}=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Hi(_)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:da});if(C)throw C;if(!j||!j.session||!j.user){const E=new Vo;return this._returnResult({data:{user:null,session:null},error:E})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:C})}catch(j){if(Ue(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(t){const n=await Mi(this.storage,`${this.storageKey}-code-verifier`),[a,i]=(n??"").split("/");try{if(!a&&this.flowType==="pkce")throw new CL;const{data:l,error:u}=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:da});if(await Kn(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const d=new Vo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:i??null}),error:u})}catch(l){if(await Kn(this.storage,`${this.storageKey}-code-verifier`),Ue(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(t){try{const{options:n,provider:a,token:i,access_token:l,nonce:u}=t,d=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:i,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:da}),{data:h,error:m}=d;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h||!h.session||!h.user){const y=new Vo;return this._returnResult({data:{user:null,session:null},error:y})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:m})}catch(n){if(Ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,a,i,l,u;try{if("email"in t){const{email:d,options:h}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Ko(this.storage,this.storageKey));const{error:p}=await Ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=h?.data)!==null&&n!==void 0?n:{},create_user:(a=h?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:d,options:h}=t,{data:m,error:y}=await Ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=h?.data)!==null&&i!==void 0?i:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(u=h?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:y})}throw new lf("You must provide either an email or phone number.")}catch(d){if(await Kn(this.storage,`${this.storageKey}-code-verifier`),Ue(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(t){var n,a;try{let i,l;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,l=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:u,error:d}=await Ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:i,xform:da});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,m=u.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(i){if(Ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,a,i,l,u;try{let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Ko(this.storage,this.storageKey));const m=await Ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:QL});return!((l=m.data)===null||l===void 0)&&l.url&&Wn()&&!(!((u=t.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(d){if(await Kn(this.storage,`${this.storageKey}-code-verifier`),Ue(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;if(a)throw a;if(!n)throw new Tr;const{error:i}=await Ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Ue(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:a,type:i,options:l}=t,{error:u}=await Ve(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in t){const{phone:a,type:i,options:l}=t,{data:u,error:d}=await Ve(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new lf("You must provide either an email or phone number and a type")}catch(n){if(Ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Mi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<_g:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const u=await Mi(this.userStorage,this.storageKey+"-user");u?.user?t.user=u.user:t.user=Cg()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};t.user=KL(t.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:l}=await this._callRefreshToken(t.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await Ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Qs}):await this._useSession(async n=>{var a,i,l;const{data:u,error:d}=n;if(d)throw d;return!(!((a=u.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tr}:await Ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0,xform:Qs})})}catch(n){if(Ue(n))return Sg(n)&&(await this._removeSession(),await Kn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async a=>{const{data:i,error:l}=a;if(l)throw l;if(!i.session)throw new Tr;const u=i.session;let d=null,h=null;this.flowType==="pkce"&&t.email!=null&&([d,h]=await Ko(this.storage,this.storageKey));const{data:m,error:y}=await Ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:h}),jwt:u.access_token,xform:Qs});if(y)throw y;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(a){if(await Kn(this.storage,`${this.storageKey}-code-verifier`),Ue(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Tr;const n=Date.now()/1e3;let a=n,i=!0,l=null;const{payload:u}=uf(t.access_token);if(u.exp&&(a=u.exp,i=a<=n),i){const{data:d,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:h}=await this._getUser(t.access_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});l={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(Ue(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var a;if(!t){const{data:u,error:d}=n;if(d)throw d;t=(a=u.session)!==null&&a!==void 0?a:void 0}if(!t?.refresh_token)throw new Tr;const{data:i,error:l}=await this._callRefreshToken(t.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Wn())throw new cf("No browser detected.");if(t.error||t.error_description||t.error_code)throw new cf(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new NS("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new cf("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new NS("No code detected.");const{data:E,error:k}=await this._exchangeCodeForSession(t.code);if(k)throw k;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:i,access_token:l,refresh_token:u,expires_in:d,expires_at:h,token_type:m}=t;if(!l||!d||!u||!m)throw new cf("No session defined in URL");const y=Math.round(Date.now()/1e3),p=parseInt(d);let b=y+p;h&&(b=parseInt(h));const w=b-y;w*1e3<=rl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${p}s`);const S=b-p;y-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,b,y):y-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,b,y);const{data:_,error:j}=await this._getUser(l);if(j)throw j;const C={provider_token:a,provider_refresh_token:i,access_token:l,expires_in:p,expires_at:b,refresh_token:u,token_type:m,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:t.type},error:null})}catch(a){if(Ue(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Mi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:i,error:l}=n;if(l&&!Sg(l))return this._returnResult({error:l});const u=(a=i.session)===null||a===void 0?void 0:a.access_token;if(u){const{error:d}=await this.admin.signOut(u,t);if(d&&!(SL(d)&&(d.status===404||d.status===401||d.status===403)||Sg(d)))return this._returnResult({error:d})}return t!=="others"&&(await this._removeSession(),await Kn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=OL(),a={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async n=>{var a,i;try{const{data:{session:l},error:u}=n;if(u)throw u;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,n={}){let a=null,i=null;this.flowType==="pkce"&&([a,i]=await Ko(this.storage,this.storageKey,!0));try{return await Ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(await Kn(this.storage,`${this.storageKey}-code-verifier`),Ue(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var t;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:a,error:i}=await this._useSession(async l=>{var u,d,h,m,y;const{data:p,error:b}=l;if(b)throw b;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Ve(this.fetch,"GET",w,{headers:this.headers,jwt:(y=(m=p.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(i)throw i;return Wn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:t.provider,url:a?.url},error:null})}catch(a){if(Ue(a))return this._returnResult({data:{provider:t.provider,url:null},error:a});throw a}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var a;try{const{error:i,data:{session:l}}=n;if(i)throw i;const{options:u,provider:d,token:h,access_token:m,nonce:y}=t,p=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=l?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:d,id_token:h,access_token:m,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:da}),{data:b,error:w}=p;return w?this._returnResult({data:{user:null,session:null},error:w}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new Vo}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:w}))}catch(i){if(await Kn(this.storage,`${this.storageKey}-code-verifier`),Ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var a,i;const{data:l,error:u}=n;if(u)throw u;return await Ve(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await LL(async i=>(i>0&&await PL(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:da})),(i,l)=>{const u=200*Math.pow(2,i);return l&&jg(l)&&Date.now()+u-a<rl})}catch(a){if(this._debug(n,"error",a),Ue(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",a),Wn()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const i=await Mi(this.storage,this.storageKey);if(i&&this.userStorage){let u=await Mi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:i.user},await al(this.userStorage,this.storageKey+"-user",u)),i.user=(t=u?.user)!==null&&t!==void 0?t:Cg()}else if(i&&!i.user&&!i.user){const u=await Mi(this.storage,this.storageKey+"-user");u&&u?.user?(i.user=u.user,await Kn(this.storage,this.storageKey+"-user"),await al(this.storage,this.storageKey,i)):i.user=Cg()}if(this._debug(a,"session from storage",i),!this._isValidSession(i)){this._debug(a,"session is not valid"),i!==null&&await this._removeSession();return}const l=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<_g;if(this._debug(a,`session has${l?"":" not"} expired with margin of ${_g}s`),l){if(this.autoRefreshToken&&i.refresh_token){const{error:u}=await this._callRefreshToken(i.refresh_token);u&&(console.error(u),jg(u)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(i.access_token);!d&&u?.user?(i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(a,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(a,"error",i),console.error(i);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var n,a;if(!t)throw new Tr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new bh;const{data:l,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!l.session)throw new Tr;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(i,"error",l),Ue(l)){const u={data:null,error:l};return jg(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(l),l}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,a=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,n)}catch(h){l.push(h)}});if(await Promise.all(u),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Kn(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await al(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const l=OS(i);await al(this.storage,this.storageKey,l)}else{const i=OS(n);await al(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Kn(this.storage,this.storageKey),await Kn(this.storage,this.storageKey+"-code-verifier"),await Kn(this.storage,this.storageKey+"-user"),this.userStorage&&await Kn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Wn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),rl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((a.expires_at*1e3-t)/rl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${rl}ms, refresh threshold is ${yv} ticks`),i<=yv&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof yC)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Wn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,a){const i=[`provider=${encodeURIComponent(n)}`];if(a?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&i.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[l,u]=await Ko(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});i.push(d.toString())}if(a?.queryParams){const l=new URLSearchParams(a.queryParams);i.push(l.toString())}return a?.skipBrowserRedirect&&i.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var a;const{data:i,error:l}=n;return l?this._returnResult({data:null,error:l}):await Ve(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var a,i;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:h,error:m}=await Ve(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return m?this._returnResult({data:null,error:m}):(t.factorType==="totp"&&h.type==="totp"&&(!((i=h?.totp)===null||i===void 0)&&i.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?fz(t.webauthn.credential_response):hz(t.webauthn.credential_response)})}:{code:t.code}),{data:d,error:h}=await Ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:u,headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:h}))})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=await Ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:uz(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:dz(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:a}=await this._challenge({factorId:t.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const i={all:[],phone:[],totp:[],webauthn:[]};for(const l of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(l),l.status==="verified"&&i[l.factor_type].push(l);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,a,i,l;if(t)try{const{payload:w}=uf(t);let S=null;w.aal&&(S=w.aal);let _=S;const{data:{user:j},error:C}=await this.getUser(t);if(C)return this._returnResult({data:null,error:C});((a=(n=j?.factors)===null||n===void 0?void 0:n.filter(A=>A.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(_="aal2");const k=w.amr||[];return{data:{currentLevel:S,nextLevel:_,currentAuthenticationMethods:k},error:null}}catch(w){if(Ue(w))return this._returnResult({data:null,error:w});throw w}const{data:{session:u},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=uf(u.access_token);let m=null;h.aal&&(m=h.aal);let y=m;((l=(i=u.user.factors)===null||i===void 0?void 0:i.filter(w=>w.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(y="aal2");const b=h.amr||[];return{data:{currentLevel:m,nextLevel:y,currentAuthenticationMethods:b},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;return i?this._returnResult({data:null,error:i}):a?await Ve(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Tr})})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:i},error:l}=a;if(l)return this._returnResult({data:null,error:l});if(!i)return this._returnResult({data:null,error:new Tr});const u=await Ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&Wn()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(a){if(Ue(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:i},error:l}=a;if(l)return this._returnResult({data:null,error:l});if(!i)return this._returnResult({data:null,error:new Tr});const u=await Ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&Wn()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(a){if(Ue(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;return a?this._returnResult({data:null,error:a}):n?await Ve(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Tr})})}catch(t){if(Ue(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;return i?this._returnResult({data:null,error:i}):a?(await Ve(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Tr})})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let a=n.keys.find(d=>d.kid===t);if(a)return a;const i=Date.now();if(a=this.jwks.keys.find(d=>d.kid===t),a&&this.jwks_cached_at+wL>i)return a;const{data:l,error:u}=await Ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=i,a=l.keys.find(d=>d.kid===t),!a)?null:a}async getClaims(t,n={}){try{let a=t;if(!a){const{data:w,error:S}=await this.getSession();if(S||!w.session)return this._returnResult({data:null,error:S});a=w.session.access_token}const{header:i,payload:l,signature:u,raw:{header:d,payload:h}}=uf(a);n?.allowExpired||qL(l.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!m){const{error:w}=await this.getUser(a);if(w)throw w;return{data:{claims:l,header:i,signature:u},error:null}}const y=HL(i.alg),p=await crypto.subtle.importKey("jwk",m,y,!0,["verify"]);if(!await crypto.subtle.verify(y,p,u,TL(`${d}.${h}`)))throw new wv("Invalid JWT signature");return{data:{claims:l,header:i,signature:u},error:null}}catch(a){if(Ue(a))return this._returnResult({data:null,error:a});throw a}}}ou.nextInstanceID={};const _z=ou,Sz="2.95.1";let zc="";typeof Deno<"u"?zc="deno":typeof document<"u"?zc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zc="react-native":zc="node";const jz={"X-Client-Info":`supabase-js-${zc}/${Sz}`},Cz={headers:jz},Ez={schema:"public"},Nz={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},kz={};function lu(e){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}function Rz(e,t){if(lu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(lu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tz(e){var t=Rz(e,"string");return lu(t)=="symbol"?t:t+""}function Az(e,t,n){return(t=Tz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IS(Object(n),!0).forEach(function(a){Az(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IS(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}const Oz=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Dz=()=>Headers,Mz=(e,t,n)=>{const a=Oz(n),i=Dz();return async(l,u)=>{var d;const h=(d=await t())!==null&&d!==void 0?d:e;let m=new i(u?.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),a(l,fn(fn({},u),{},{headers:m}))}};function Pz(e){return e.endsWith("/")?e:e+"/"}function Lz(e,t){var n,a;const{db:i,auth:l,realtime:u,global:d}=e,{db:h,auth:m,realtime:y,global:p}=t,b={db:fn(fn({},h),i),auth:fn(fn({},m),l),realtime:fn(fn({},y),u),storage:{},global:fn(fn(fn({},p),d),{},{headers:fn(fn({},(n=p?.headers)!==null&&n!==void 0?n:{}),(a=d?.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?b.accessToken=e.accessToken:delete b.accessToken,b}function zz(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Pz(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Uz=class extends _z{constructor(e){super(e)}},Iz=class{constructor(e,t,n){var a,i;this.supabaseUrl=e,this.supabaseKey=t;const l=zz(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:Ez,realtime:kz,auth:fn(fn({},Nz),{},{storageKey:u}),global:Cz},h=Lz(n??{},d);if(this.storageKey=(a=h.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(y,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=h.auth)!==null&&m!==void 0?m:{},this.headers,h.global.fetch)}this.fetch=Mz(t,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(fn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new S4(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch,timeout:h.db.timeout,urlLengthLimit:h.db.urlLengthLimit}),this.storage=new gL(this.storageUrl.href,this.headers,this.fetch,n?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new p4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:a}=await e.auth.getSession();return(t=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:l,flowType:u,lock:d,debug:h,throwOnError:m},y,p){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Uz({url:this.authUrl.href,headers:fn(fn({},b),y),storageKey:l,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:a,userStorage:i,flowType:u,lock:d,debug:h,throwOnError:m,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new $4(this.realtimeUrl.href,fn(fn({},e),{},{params:fn(fn({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const $z=(e,t,n)=>new Iz(e,t,n);function Fz(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Fz()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Bz="0.5.2";var df={};var $S;function qz(){if($S)return df;$S=1,df.parse=u,df.serialize=m;var e=Object.prototype.toString,t=Object.prototype.hasOwnProperty,n=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,a=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,l=/^[\u0020-\u003A\u003D-\u007E]*$/;function u(w,S){if(typeof w!="string")throw new TypeError("argument str must be a string");var _={},j=w.length;if(j<2)return _;var C=S&&S.decode||y,E=0,k=0,A=0;do{if(k=w.indexOf("=",E),k===-1)break;if(A=w.indexOf(";",E),A===-1)A=j;else if(k>A){E=w.lastIndexOf(";",k-1)+1;continue}var L=d(w,E,k),P=h(w,k,L),T=w.slice(L,P);if(!t.call(_,T)){var z=d(w,k+1,A),Z=h(w,A,z);w.charCodeAt(z)===34&&w.charCodeAt(Z-1)===34&&(z++,Z--);var V=w.slice(z,Z);_[T]=b(V,C)}E=A+1}while(E<j);return _}function d(w,S,_){do{var j=w.charCodeAt(S);if(j!==32&&j!==9)return S}while(++S<_);return _}function h(w,S,_){for(;S>_;){var j=w.charCodeAt(--S);if(j!==32&&j!==9)return S+1}return _}function m(w,S,_){var j=_&&_.encode||encodeURIComponent;if(typeof j!="function")throw new TypeError("option encode is invalid");if(!n.test(w))throw new TypeError("argument name is invalid");var C=j(S);if(!a.test(C))throw new TypeError("argument val is invalid");var E=w+"="+C;if(!_)return E;if(_.maxAge!=null){var k=Math.floor(_.maxAge);if(!isFinite(k))throw new TypeError("option maxAge is invalid");E+="; Max-Age="+k}if(_.domain){if(!i.test(_.domain))throw new TypeError("option domain is invalid");E+="; Domain="+_.domain}if(_.path){if(!l.test(_.path))throw new TypeError("option path is invalid");E+="; Path="+_.path}if(_.expires){var A=_.expires;if(!p(A)||isNaN(A.valueOf()))throw new TypeError("option expires is invalid");E+="; Expires="+A.toUTCString()}if(_.httpOnly&&(E+="; HttpOnly"),_.secure&&(E+="; Secure"),_.partitioned&&(E+="; Partitioned"),_.priority){var L=typeof _.priority=="string"?_.priority.toLowerCase():_.priority;switch(L){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(_.sameSite){var P=typeof _.sameSite=="string"?_.sameSite.toLowerCase():_.sameSite;switch(P){case!0:E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"strict":E+="; SameSite=Strict";break;case"none":E+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return E}function y(w){return w.indexOf("%")!==-1?decodeURIComponent(w):w}function p(w){return e.call(w)==="[object Date]"}function b(w,S){try{return S(w)}catch{return w}}return df}var FS=qz();function Vc(){return typeof window<"u"&&typeof window.document<"u"}const ff={path:"/",sameSite:"lax",httpOnly:!1,maxAge:400*24*60*60},Hz=3180,Vz=/^(.*)[.](0|[1-9][0-9]*)$/;function BS(e,t){if(e===t)return!0;const n=e.match(Vz);return!!(n&&n[1]===t)}function Kz(e,t,n){const a=Hz;let i=encodeURIComponent(t);if(i.length<=a)return[{name:e,value:t}];const l=[];for(;i.length>0;){let u=i.slice(0,a);const d=u.lastIndexOf("%");d>a-3&&(u=u.slice(0,d));let h="";for(;u.length>0;)try{h=decodeURIComponent(u);break}catch(m){if(m instanceof URIError&&u.at(-3)==="%"&&u.length>3)u=u.slice(0,u.length-3);else throw m}l.push(h),i=i.slice(u.length)}return l.map((u,d)=>({name:`${e}.${d}`,value:u}))}async function Wz(e,t){const n=await t(e);if(n)return n;let a=[];for(let i=0;;i++){const l=`${e}.${i}`,u=await t(l);if(!u)break;a.push(u)}return a.length>0?a.join(""):null}const $f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qS=` 	
\r=`.split(""),Gz=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<qS.length;t+=1)e[qS[t].charCodeAt(0)]=-2;for(let t=0;t<$f.length;t+=1)e[$f[t].charCodeAt(0)]=t;return e})();function Yz(e){const t=[];let n=0,a=0;if(Jz(e,l=>{for(n=n<<8|l,a+=8;a>=6;){const u=n>>a-6&63;t.push($f[u]),a-=6}}),a>0)for(n=n<<6-a,a=6;a>=6;){const l=n>>a-6&63;t.push($f[l]),a-=6}return t.join("")}function Qz(e){const t=[],n=u=>{t.push(String.fromCodePoint(u))},a={utf8seq:0,codepoint:0};let i=0,l=0;for(let u=0;u<e.length;u+=1){const d=e.charCodeAt(u),h=Gz[d];if(h>-1)for(i=i<<6|h,l+=6;l>=8;)Zz(i>>l-8&255,a,n),l-=8;else{if(h===-2)continue;throw new Error(`Invalid Base64-URL character "${e.at(u)}" at position ${u}`)}}return t.join("")}function Xz(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Jz(e,t){for(let n=0;n<e.length;n+=1){let a=e.charCodeAt(n);if(a>55295&&a<=56319){const i=(a-55296)*1024&65535;a=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Xz(a,t)}}function Zz(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let a=1;a<6;a+=1)if((e>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}const Ng="base64-";function e3(e,t){const n=e.cookies??null,a=e.cookieEncoding,i={},l={};let u,d;if(n)if("get"in n){const h=async m=>{const y=m.flatMap(b=>[b,...Array.from({length:5}).map((w,S)=>`${b}.${S}`)]),p=[];for(let b=0;b<y.length;b+=1){const w=await n.get(y[b]);!w&&typeof w!="string"||p.push({name:y[b],value:w})}return p};if(u=async m=>await h(m),"set"in n&&"remove"in n)d=async m=>{for(let y=0;y<m.length;y+=1){const{name:p,value:b,options:w}=m[y];b?await n.set(p,b,w):await n.remove(p,w)}};else throw new Error("@supabase/ssr: createBrowserClient requires configuring a getAll and setAll cookie method (deprecated: alternatively both get, set and remove can be used)")}else if("getAll"in n)if(u=async()=>await n.getAll(),"setAll"in n)d=n.setAll;else throw new Error("@supabase/ssr: createBrowserClient requires configuring both getAll and setAll cookie methods (deprecated: alternatively both get, set and remove can be used)");else throw new Error(`@supabase/ssr: createBrowserClient requires configuring getAll and setAll cookie methods (deprecated: alternatively use get, set and remove).${Vc()?" As this is called in a browser runtime, consider removing the cookies option object to use the document.cookie API automatically.":""}`);else if(Vc()){const h=()=>{const m=FS.parse(document.cookie);return Object.keys(m).map(y=>({name:y,value:m[y]}))};u=()=>h(),d=m=>{m.forEach(({name:y,value:p,options:b})=>{document.cookie=FS.serialize(y,p,b)})}}else u=()=>[],d=()=>{throw new Error("@supabase/ssr: createBrowserClient in non-browser runtimes (including Next.js pre-rendering mode) was not initialized cookie options that specify getAll and setAll functions (deprecated: alternatively use get, set and remove), but they were needed")};return{getAll:u,setAll:d,setItems:i,removedItems:l,storage:{isServer:!1,getItem:async h=>{const m=await u([h]),y=await Wz(h,async b=>{const w=m?.find(({name:S})=>S===b)||null;return w?w.value:null});if(!y)return null;let p=y;return y.startsWith(Ng)&&(p=Qz(y.substring(Ng.length))),p},setItem:async(h,m)=>{const p=(await u([h]))?.map(({name:E})=>E)||[],b=new Set(p.filter(E=>BS(E,h)));let w=m;a==="base64url"&&(w=Ng+Yz(m));const S=Kz(h,w);S.forEach(({name:E})=>{b.delete(E)});const _={...ff,...e?.cookieOptions,maxAge:0},j={...ff,...e?.cookieOptions,maxAge:ff.maxAge};delete _.name,delete j.name;const C=[...[...b].map(E=>({name:E,value:"",options:_})),...S.map(({name:E,value:k})=>({name:E,value:k,options:j}))];C.length>0&&await d(C)},removeItem:async h=>{const p=((await u([h]))?.map(({name:w})=>w)||[]).filter(w=>BS(w,h)),b={...ff,...e?.cookieOptions,maxAge:0};delete b.name,p.length>0&&await d(p.map(w=>({name:w,value:"",options:b})))}}}}let kg;function t3(e,t,n){const a=n?.isSingleton===!0||(!n||!("isSingleton"in n))&&Vc();if(a&&kg)return kg;const{storage:i}=e3({...n,cookieEncoding:n?.cookieEncoding??"base64url"}),l=$z(e,t,{...n,global:{...n?.global,headers:{...n?.global?.headers,"X-Client-Info":`supabase-ssr/${Bz}`}},auth:{...n?.auth,...n?.cookieOptions?.name?{storageKey:n.cookieOptions.name}:null,flowType:"pkce",autoRefreshToken:Vc(),detectSessionInUrl:Vc(),persistSession:!0,storage:i}});return a&&(kg=l),l}let Rg=null;const n3=".howard-finance.com";function xn(){return Rg||(Rg=t3("https://psjesaadhiypxbkwundv.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBzamVzYWFkaGl5cHhia3d1bmR2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAzMTI3ODcsImV4cCI6MjA4NTg4ODc4N30.sK-X3RnV5CY9Lhvvmmoi_bfRetfpD8JZ4VdhnoR7y4U",{cookieOptions:{domain:n3,path:"/",sameSite:"lax",secure:!0}})),Rg}const wC=g.createContext({user:null,session:null,loading:!0});function py(){return g.useContext(wC)}const r3=xn();function a3({children:e}){const[t,n]=g.useState(null),[a,i]=g.useState(null),[l,u]=g.useState(!0);return g.useEffect(()=>{const{data:{subscription:d}}=r3.auth.onAuthStateChange((m,y)=>{i(y),n(y?.user??null),u(!1)}),h=setTimeout(()=>u(!1),5e3);return()=>{clearTimeout(h),d.unsubscribe()}},[]),o.jsx(wC.Provider,{value:{user:t,session:a,loading:l},children:e})}function s3({children:e}){const[t]=g.useState(()=>new JP({defaultOptions:{queries:{staleTime:3e4,gcTime:3e5,retry:1,refetchOnWindowFocus:!0,refetchOnReconnect:!0,refetchOnMount:!0},mutations:{onSuccess:()=>{}}}}));return o.jsxs(ZP,{client:t,children:[o.jsx(a3,{children:e}),o.jsx(d4,{initialIsOpen:!1})]})}function HS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ba(...e){return t=>{let n=!1;const a=e.map(i=>{const l=HS(i,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let i=0;i<a.length;i++){const l=a[i];typeof l=="function"?l():HS(e[i],null)}}}}function it(...e){return g.useCallback(Ba(...e),e)}var i3=Symbol.for("react.lazy"),Ff=hh[" use ".trim().toString()];function o3(e){return typeof e=="object"&&e!==null&&"then"in e}function _C(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===i3&&"_payload"in e&&o3(e._payload)}function wh(e){const t=c3(e),n=g.forwardRef((a,i)=>{let{children:l,...u}=a;_C(l)&&typeof Ff=="function"&&(l=Ff(l._payload));const d=g.Children.toArray(l),h=d.find(d3);if(h){const m=h.props.children,y=d.map(p=>p===h?g.Children.count(m)>1?g.Children.only(null):g.isValidElement(m)?m.props.children:null:p);return o.jsx(t,{...u,ref:i,children:g.isValidElement(m)?g.cloneElement(m,void 0,y):null})}return o.jsx(t,{...u,ref:i,children:l})});return n.displayName=`${e}.Slot`,n}var l3=wh("Slot");function c3(e){const t=g.forwardRef((n,a)=>{let{children:i,...l}=n;if(_C(i)&&typeof Ff=="function"&&(i=Ff(i._payload)),g.isValidElement(i)){const u=h3(i),d=f3(l,i.props);return i.type!==g.Fragment&&(d.ref=a?Ba(a,u):u),g.cloneElement(i,d)}return g.Children.count(i)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var u3=Symbol("radix.slottable");function d3(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===u3}function f3(e,t){const n={...t};for(const a in t){const i=e[a],l=t[a];/^on[A-Z]/.test(a)?i&&l?n[a]=(...d)=>{const h=l(...d);return i(...d),h}:i&&(n[a]=i):a==="style"?n[a]={...i,...l}:a==="className"&&(n[a]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function h3(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function SC(e){var t,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=SC(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function jC(){for(var e,t,n=0,a="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=SC(e))&&(a&&(a+=" "),a+=t);return a}const VS=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,KS=jC,gy=(e,t)=>n=>{var a;if(t?.variants==null)return KS(e,n?.class,n?.className);const{variants:i,defaultVariants:l}=t,u=Object.keys(i).map(m=>{const y=n?.[m],p=l?.[m];if(y===null)return null;const b=VS(y)||VS(p);return i[m][b]}),d=n&&Object.entries(n).reduce((m,y)=>{let[p,b]=y;return b===void 0||(m[p]=b),m},{}),h=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((m,y)=>{let{class:p,className:b,...w}=y;return Object.entries(w).every(S=>{let[_,j]=S;return Array.isArray(j)?j.includes({...l,...d}[_]):{...l,...d}[_]===j})?[...m,p,b]:m},[]);return KS(e,u,h,n?.class,n?.className)},m3=(e,t)=>{const n=new Array(e.length+t.length);for(let a=0;a<e.length;a++)n[a]=e[a];for(let a=0;a<t.length;a++)n[e.length+a]=t[a];return n},p3=(e,t)=>({classGroupId:e,validator:t}),CC=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),Bf="-",WS=[],g3="arbitrary..",v3=e=>{const t=x3(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return y3(u);const d=u.split(Bf),h=d[0]===""&&d.length>1?1:0;return EC(d,h,t)},getConflictingClassGroupIds:(u,d)=>{if(d){const h=a[u],m=n[u];return h?m?m3(m,h):h:m||WS}return n[u]||WS}}},EC=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const i=e[t],l=n.nextPart.get(i);if(l){const m=EC(e,t+1,l);if(m)return m}const u=n.validators;if(u===null)return;const d=t===0?e.join(Bf):e.slice(t).join(Bf),h=u.length;for(let m=0;m<h;m++){const y=u[m];if(y.validator(d))return y.classGroupId}},y3=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),a=t.slice(0,n);return a?g3+a:void 0})(),x3=e=>{const{theme:t,classGroups:n}=e;return b3(n,t)},b3=(e,t)=>{const n=CC();for(const a in e){const i=e[a];vy(i,n,a,t)}return n},vy=(e,t,n,a)=>{const i=e.length;for(let l=0;l<i;l++){const u=e[l];w3(u,t,n,a)}},w3=(e,t,n,a)=>{if(typeof e=="string"){_3(e,t,n);return}if(typeof e=="function"){S3(e,t,n,a);return}j3(e,t,n,a)},_3=(e,t,n)=>{const a=e===""?t:NC(t,e);a.classGroupId=n},S3=(e,t,n,a)=>{if(C3(e)){vy(e(a),t,n,a);return}t.validators===null&&(t.validators=[]),t.validators.push(p3(n,e))},j3=(e,t,n,a)=>{const i=Object.entries(e),l=i.length;for(let u=0;u<l;u++){const[d,h]=i[u];vy(h,NC(t,d),n,a)}},NC=(e,t)=>{let n=e;const a=t.split(Bf),i=a.length;for(let l=0;l<i;l++){const u=a[l];let d=n.nextPart.get(u);d||(d=CC(),n.nextPart.set(u,d)),n=d}return n},C3=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,E3=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),a=Object.create(null);const i=(l,u)=>{n[l]=u,t++,t>e&&(t=0,a=n,n=Object.create(null))};return{get(l){let u=n[l];if(u!==void 0)return u;if((u=a[l])!==void 0)return i(l,u),u},set(l,u){l in n?n[l]=u:i(l,u)}}},_v="!",GS=":",N3=[],YS=(e,t,n,a,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:a,isExternal:i}),k3=e=>{const{prefix:t,experimentalParseClassName:n}=e;let a=i=>{const l=[];let u=0,d=0,h=0,m;const y=i.length;for(let _=0;_<y;_++){const j=i[_];if(u===0&&d===0){if(j===GS){l.push(i.slice(h,_)),h=_+1;continue}if(j==="/"){m=_;continue}}j==="["?u++:j==="]"?u--:j==="("?d++:j===")"&&d--}const p=l.length===0?i:i.slice(h);let b=p,w=!1;p.endsWith(_v)?(b=p.slice(0,-1),w=!0):p.startsWith(_v)&&(b=p.slice(1),w=!0);const S=m&&m>h?m-h:void 0;return YS(l,w,b,S)};if(t){const i=t+GS,l=a;a=u=>u.startsWith(i)?l(u.slice(i.length)):YS(N3,!1,u,void 0,!0)}if(n){const i=a;a=l=>n({className:l,parseClassName:i})}return a},R3=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,a)=>{t.set(n,1e6+a)}),n=>{const a=[];let i=[];for(let l=0;l<n.length;l++){const u=n[l],d=u[0]==="[",h=t.has(u);d||h?(i.length>0&&(i.sort(),a.push(...i),i=[]),a.push(u)):i.push(u)}return i.length>0&&(i.sort(),a.push(...i)),a}},T3=e=>({cache:E3(e.cacheSize),parseClassName:k3(e),sortModifiers:R3(e),...v3(e)}),A3=/\s+/,O3=(e,t)=>{const{parseClassName:n,getClassGroupId:a,getConflictingClassGroupIds:i,sortModifiers:l}=t,u=[],d=e.trim().split(A3);let h="";for(let m=d.length-1;m>=0;m-=1){const y=d[m],{isExternal:p,modifiers:b,hasImportantModifier:w,baseClassName:S,maybePostfixModifierPosition:_}=n(y);if(p){h=y+(h.length>0?" "+h:h);continue}let j=!!_,C=a(j?S.substring(0,_):S);if(!C){if(!j){h=y+(h.length>0?" "+h:h);continue}if(C=a(S),!C){h=y+(h.length>0?" "+h:h);continue}j=!1}const E=b.length===0?"":b.length===1?b[0]:l(b).join(":"),k=w?E+_v:E,A=k+C;if(u.indexOf(A)>-1)continue;u.push(A);const L=i(C,j);for(let P=0;P<L.length;++P){const T=L[P];u.push(k+T)}h=y+(h.length>0?" "+h:h)}return h},D3=(...e)=>{let t=0,n,a,i="";for(;t<e.length;)(n=e[t++])&&(a=kC(n))&&(i&&(i+=" "),i+=a);return i},kC=e=>{if(typeof e=="string")return e;let t,n="";for(let a=0;a<e.length;a++)e[a]&&(t=kC(e[a]))&&(n&&(n+=" "),n+=t);return n},M3=(e,...t)=>{let n,a,i,l;const u=h=>{const m=t.reduce((y,p)=>p(y),e());return n=T3(m),a=n.cache.get,i=n.cache.set,l=d,d(h)},d=h=>{const m=a(h);if(m)return m;const y=O3(h,n);return i(h,y),y};return l=u,(...h)=>l(D3(...h))},P3=[],Tn=e=>{const t=n=>n[e]||P3;return t.isThemeGetter=!0,t},RC=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,TC=/^\((?:(\w[\w-]*):)?(.+)\)$/i,L3=/^\d+\/\d+$/,z3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,U3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,I3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,$3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,F3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qo=e=>L3.test(e),et=e=>!!e&&!Number.isNaN(Number(e)),qs=e=>!!e&&Number.isInteger(Number(e)),Tg=e=>e.endsWith("%")&&et(e.slice(0,-1)),cs=e=>z3.test(e),B3=()=>!0,q3=e=>U3.test(e)&&!I3.test(e),AC=()=>!1,H3=e=>$3.test(e),V3=e=>F3.test(e),K3=e=>!Oe(e)&&!De(e),W3=e=>kl(e,MC,AC),Oe=e=>RC.test(e),Pi=e=>kl(e,PC,q3),Ag=e=>kl(e,J3,et),QS=e=>kl(e,OC,AC),G3=e=>kl(e,DC,V3),hf=e=>kl(e,LC,H3),De=e=>TC.test(e),Ac=e=>Rl(e,PC),Y3=e=>Rl(e,Z3),XS=e=>Rl(e,OC),Q3=e=>Rl(e,MC),X3=e=>Rl(e,DC),mf=e=>Rl(e,LC,!0),kl=(e,t,n)=>{const a=RC.exec(e);return a?a[1]?t(a[1]):n(a[2]):!1},Rl=(e,t,n=!1)=>{const a=TC.exec(e);return a?a[1]?t(a[1]):n:!1},OC=e=>e==="position"||e==="percentage",DC=e=>e==="image"||e==="url",MC=e=>e==="length"||e==="size"||e==="bg-size",PC=e=>e==="length",J3=e=>e==="number",Z3=e=>e==="family-name",LC=e=>e==="shadow",eU=()=>{const e=Tn("color"),t=Tn("font"),n=Tn("text"),a=Tn("font-weight"),i=Tn("tracking"),l=Tn("leading"),u=Tn("breakpoint"),d=Tn("container"),h=Tn("spacing"),m=Tn("radius"),y=Tn("shadow"),p=Tn("inset-shadow"),b=Tn("text-shadow"),w=Tn("drop-shadow"),S=Tn("blur"),_=Tn("perspective"),j=Tn("aspect"),C=Tn("ease"),E=Tn("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],L=()=>[...A(),De,Oe],P=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],z=()=>[De,Oe,h],Z=()=>[Qo,"full","auto",...z()],V=()=>[qs,"none","subgrid",De,Oe],H=()=>["auto",{span:["full",qs,De,Oe]},qs,De,Oe],K=()=>[qs,"auto",De,Oe],M=()=>["auto","min","max","fr",De,Oe],Y=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],J=()=>["start","end","center","stretch","center-safe","end-safe"],R=()=>["auto",...z()],U=()=>[Qo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...z()],F=()=>[e,De,Oe],X=()=>[...A(),XS,QS,{position:[De,Oe]}],G=()=>["no-repeat",{repeat:["","x","y","space","round"]}],D=()=>["auto","cover","contain",Q3,W3,{size:[De,Oe]}],$=()=>[Tg,Ac,Pi],q=()=>["","none","full",m,De,Oe],ae=()=>["",et,Ac,Pi],de=()=>["solid","dashed","dotted","double"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>[et,Tg,XS,QS],ge=()=>["","none",S,De,Oe],ke=()=>["none",et,De,Oe],_e=()=>["none",et,De,Oe],qe=()=>[et,De,Oe],Ne=()=>[Qo,"full",...z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[cs],breakpoint:[cs],color:[B3],container:[cs],"drop-shadow":[cs],ease:["in","out","in-out"],font:[K3],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[cs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[cs],shadow:[cs],spacing:["px",et],text:[cs],"text-shadow":[cs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Qo,Oe,De,j]}],container:["container"],columns:[{columns:[et,Oe,De,d]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:L()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Z()}],"inset-x":[{"inset-x":Z()}],"inset-y":[{"inset-y":Z()}],start:[{start:Z()}],end:[{end:Z()}],top:[{top:Z()}],right:[{right:Z()}],bottom:[{bottom:Z()}],left:[{left:Z()}],visibility:["visible","invisible","collapse"],z:[{z:[qs,"auto",De,Oe]}],basis:[{basis:[Qo,"full","auto",d,...z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[et,Qo,"auto","initial","none",Oe]}],grow:[{grow:["",et,De,Oe]}],shrink:[{shrink:["",et,De,Oe]}],order:[{order:[qs,"first","last","none",De,Oe]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:H()}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:H()}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":M()}],"auto-rows":[{"auto-rows":M()}],gap:[{gap:z()}],"gap-x":[{"gap-x":z()}],"gap-y":[{"gap-y":z()}],"justify-content":[{justify:[...Y(),"normal"]}],"justify-items":[{"justify-items":[...J(),"normal"]}],"justify-self":[{"justify-self":["auto",...J()]}],"align-content":[{content:["normal",...Y()]}],"align-items":[{items:[...J(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...J(),{baseline:["","last"]}]}],"place-content":[{"place-content":Y()}],"place-items":[{"place-items":[...J(),"baseline"]}],"place-self":[{"place-self":["auto",...J()]}],p:[{p:z()}],px:[{px:z()}],py:[{py:z()}],ps:[{ps:z()}],pe:[{pe:z()}],pt:[{pt:z()}],pr:[{pr:z()}],pb:[{pb:z()}],pl:[{pl:z()}],m:[{m:R()}],mx:[{mx:R()}],my:[{my:R()}],ms:[{ms:R()}],me:[{me:R()}],mt:[{mt:R()}],mr:[{mr:R()}],mb:[{mb:R()}],ml:[{ml:R()}],"space-x":[{"space-x":z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":z()}],"space-y-reverse":["space-y-reverse"],size:[{size:U()}],w:[{w:[d,"screen",...U()]}],"min-w":[{"min-w":[d,"screen","none",...U()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...U()]}],h:[{h:["screen","lh",...U()]}],"min-h":[{"min-h":["screen","lh","none",...U()]}],"max-h":[{"max-h":["screen","lh",...U()]}],"font-size":[{text:["base",n,Ac,Pi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,De,Ag]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Tg,Oe]}],"font-family":[{font:[Y3,Oe,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,De,Oe]}],"line-clamp":[{"line-clamp":[et,"none",De,Ag]}],leading:[{leading:[l,...z()]}],"list-image":[{"list-image":["none",De,Oe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",De,Oe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...de(),"wavy"]}],"text-decoration-thickness":[{decoration:[et,"from-font","auto",De,Pi]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[et,"auto",De,Oe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",De,Oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",De,Oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:X()}],"bg-repeat":[{bg:G()}],"bg-size":[{bg:D()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},qs,De,Oe],radial:["",De,Oe],conic:[qs,De,Oe]},X3,G3]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:$()}],"gradient-via-pos":[{via:$()}],"gradient-to-pos":[{to:$()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:q()}],"rounded-s":[{"rounded-s":q()}],"rounded-e":[{"rounded-e":q()}],"rounded-t":[{"rounded-t":q()}],"rounded-r":[{"rounded-r":q()}],"rounded-b":[{"rounded-b":q()}],"rounded-l":[{"rounded-l":q()}],"rounded-ss":[{"rounded-ss":q()}],"rounded-se":[{"rounded-se":q()}],"rounded-ee":[{"rounded-ee":q()}],"rounded-es":[{"rounded-es":q()}],"rounded-tl":[{"rounded-tl":q()}],"rounded-tr":[{"rounded-tr":q()}],"rounded-br":[{"rounded-br":q()}],"rounded-bl":[{"rounded-bl":q()}],"border-w":[{border:ae()}],"border-w-x":[{"border-x":ae()}],"border-w-y":[{"border-y":ae()}],"border-w-s":[{"border-s":ae()}],"border-w-e":[{"border-e":ae()}],"border-w-t":[{"border-t":ae()}],"border-w-r":[{"border-r":ae()}],"border-w-b":[{"border-b":ae()}],"border-w-l":[{"border-l":ae()}],"divide-x":[{"divide-x":ae()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ae()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...de(),"hidden","none"]}],"divide-style":[{divide:[...de(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...de(),"none","hidden"]}],"outline-offset":[{"outline-offset":[et,De,Oe]}],"outline-w":[{outline:["",et,Ac,Pi]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",y,mf,hf]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",p,mf,hf]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[et,Pi]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":ae()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",b,mf,hf]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[et,De,Oe]}],"mix-blend":[{"mix-blend":[...pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[et]}],"mask-image-linear-from-pos":[{"mask-linear-from":ie()}],"mask-image-linear-to-pos":[{"mask-linear-to":ie()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":ie()}],"mask-image-t-to-pos":[{"mask-t-to":ie()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":ie()}],"mask-image-r-to-pos":[{"mask-r-to":ie()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":ie()}],"mask-image-b-to-pos":[{"mask-b-to":ie()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":ie()}],"mask-image-l-to-pos":[{"mask-l-to":ie()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":ie()}],"mask-image-x-to-pos":[{"mask-x-to":ie()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":ie()}],"mask-image-y-to-pos":[{"mask-y-to":ie()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[De,Oe]}],"mask-image-radial-from-pos":[{"mask-radial-from":ie()}],"mask-image-radial-to-pos":[{"mask-radial-to":ie()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":A()}],"mask-image-conic-pos":[{"mask-conic":[et]}],"mask-image-conic-from-pos":[{"mask-conic-from":ie()}],"mask-image-conic-to-pos":[{"mask-conic-to":ie()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:X()}],"mask-repeat":[{mask:G()}],"mask-size":[{mask:D()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",De,Oe]}],filter:[{filter:["","none",De,Oe]}],blur:[{blur:ge()}],brightness:[{brightness:[et,De,Oe]}],contrast:[{contrast:[et,De,Oe]}],"drop-shadow":[{"drop-shadow":["","none",w,mf,hf]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",et,De,Oe]}],"hue-rotate":[{"hue-rotate":[et,De,Oe]}],invert:[{invert:["",et,De,Oe]}],saturate:[{saturate:[et,De,Oe]}],sepia:[{sepia:["",et,De,Oe]}],"backdrop-filter":[{"backdrop-filter":["","none",De,Oe]}],"backdrop-blur":[{"backdrop-blur":ge()}],"backdrop-brightness":[{"backdrop-brightness":[et,De,Oe]}],"backdrop-contrast":[{"backdrop-contrast":[et,De,Oe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",et,De,Oe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[et,De,Oe]}],"backdrop-invert":[{"backdrop-invert":["",et,De,Oe]}],"backdrop-opacity":[{"backdrop-opacity":[et,De,Oe]}],"backdrop-saturate":[{"backdrop-saturate":[et,De,Oe]}],"backdrop-sepia":[{"backdrop-sepia":["",et,De,Oe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":z()}],"border-spacing-x":[{"border-spacing-x":z()}],"border-spacing-y":[{"border-spacing-y":z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",De,Oe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[et,"initial",De,Oe]}],ease:[{ease:["linear","initial",C,De,Oe]}],delay:[{delay:[et,De,Oe]}],animate:[{animate:["none",E,De,Oe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,De,Oe]}],"perspective-origin":[{"perspective-origin":L()}],rotate:[{rotate:ke()}],"rotate-x":[{"rotate-x":ke()}],"rotate-y":[{"rotate-y":ke()}],"rotate-z":[{"rotate-z":ke()}],scale:[{scale:_e()}],"scale-x":[{"scale-x":_e()}],"scale-y":[{"scale-y":_e()}],"scale-z":[{"scale-z":_e()}],"scale-3d":["scale-3d"],skew:[{skew:qe()}],"skew-x":[{"skew-x":qe()}],"skew-y":[{"skew-y":qe()}],transform:[{transform:[De,Oe,"","none","gpu","cpu"]}],"transform-origin":[{origin:L()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ne()}],"translate-x":[{"translate-x":Ne()}],"translate-y":[{"translate-y":Ne()}],"translate-z":[{"translate-z":Ne()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",De,Oe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",De,Oe]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[et,Ac,Pi,Ag]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},tU=M3(eU);function Ce(...e){return tU(jC(e))}const yy=gy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-howard-evergreen focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-howard-evergreen text-howard-parchment shadow-md hover:bg-howard-forest hover:shadow-lg active:scale-[0.98]",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90 active:scale-[0.98]",outline:"border-2 border-howard-evergreen bg-background text-howard-evergreen shadow-sm hover:bg-howard-evergreen hover:text-howard-parchment active:scale-[0.98]",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80 active:scale-[0.98]",ghost:"hover:bg-howard-evergreen/10 hover:text-howard-evergreen",link:"text-howard-evergreen underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ve=g.forwardRef(({className:e,variant:t,size:n,asChild:a=!1,...i},l)=>{const u=a?l3:"button";return o.jsx(u,{className:Ce(yy({variant:t,size:n,className:e})),ref:l,...i})});ve.displayName="Button";class nU extends g.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("Error boundary caught:",t,n)}render(){return this.state.hasError?o.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background p-4",children:o.jsxs("div",{className:"max-w-md w-full bg-card rounded-lg shadow-lg p-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4 text-foreground",children:"Something went wrong"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:this.state.error?.message||"An unexpected error occurred"}),o.jsx(ve,{onClick:()=>this.setState({hasError:!1,error:null}),className:"w-full",children:"Try again"})]})}):this.props.children}}function rU(){return o.jsx(nU,{children:o.jsxs(s3,{children:[o.jsx(kP,{position:"top-right",toastOptions:{style:{background:"#EDEAE4",color:"#111110",border:"1px solid #D4D0C8"}}}),o.jsx(ay,{})]})})}const aU=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zC=(...e)=>e.filter((t,n,a)=>!!t&&a.indexOf(t)===n).join(" ");var sU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const iU=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:i="",children:l,iconNode:u,...d},h)=>g.createElement("svg",{ref:h,...sU,width:t,height:t,stroke:e,strokeWidth:a?Number(n)*24/Number(t):n,className:zC("lucide",i),...d},[...u.map(([m,y])=>g.createElement(m,y)),...Array.isArray(l)?l:[l]]));const Fe=(e,t)=>{const n=g.forwardRef(({className:a,...i},l)=>g.createElement(iU,{ref:l,iconNode:t,className:zC(`lucide-${aU(e)}`,a),...i}));return n.displayName=`${e}`,n};const oU=Fe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);const Sv=Fe("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);const UC=Fe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const lU=Fe("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);const cU=Fe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);const uU=Fe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const IC=Fe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);const Jn=Fe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const xy=Fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Ua=Fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const ni=Fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const dU=Fe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const by=Fe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const jv=Fe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const fU=Fe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const Uc=Fe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);const wy=Fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Kc=Fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const hU=Fe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);const $C=Fe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const gl=Fe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const qf=Fe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Cv=Fe("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);const Ev=Fe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);const JS=Fe("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);const mU=Fe("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);const pU=Fe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const gU=Fe("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);const Bt=Fe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const Wc=Fe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const vU=Fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const FC=Fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const yU=Fe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const BC=Fe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);const xU=Fe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const qC=Fe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const Ia=Fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const bU=Fe("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);const wU=Fe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const io=Fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const HC=Fe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const _U=Fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const _h=Fe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const SU=Fe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const _y=Fe("SquareCheckBig",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);const jU=Fe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);const Qi=Fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const CU=Fe("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);const Zi=Fe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const VC=Fe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const KC=Fe("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);const ps=Fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const vl=Fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const EU=Fe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);const ri=Fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),NU={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};function yl({size:e="md",className:t,text:n}){return o.jsxs("div",{className:Ce("flex flex-col items-center justify-center gap-3",t),children:[o.jsx(Bt,{className:Ce(NU[e],"animate-spin text-primary")}),n&&o.jsx("p",{className:"text-sm text-muted-foreground",children:n})]})}function kU(){const{user:e,loading:t}=py();return t?o.jsx("div",{className:"flex items-center justify-center h-screen bg-background",children:o.jsx(yl,{size:"lg"})}):e?o.jsx(Bc,{to:"/dashboard",replace:!0}):o.jsx(ay,{})}const ZS=xn();async function RU(e){const[t,n]=await Promise.all([ZS.from("profiles").select("id, role, full_name, email, avatar_url, is_onboarded, org_id, dashboard_iframe_url, organizations(name)").eq("id",e).single(),ZS.from("user_organizations").select("org_id, is_primary, organization:organizations(id, name, slug)").eq("user_id",e)]),a=t.data??null,i=(n.data||[]).map(l=>({orgId:l.org_id,orgName:l.organization?.name||"Unknown",orgSlug:l.organization?.slug||"",isPrimary:l.is_primary}));return{profile:a,userOrgs:i}}function qa(){const{user:e}=py(),t=rn(),{data:n,isLoading:a,error:i}=xr({queryKey:["profile",e?.id],queryFn:()=>RU(e.id),enabled:!!e,staleTime:120*1e3,gcTime:600*1e3}),l=async()=>{await t.invalidateQueries({queryKey:["profile",e?.id]})};return{profile:n?.profile??null,userOrgs:n?.userOrgs??[],isLoading:!!e&&a,error:i,refreshProfile:l}}function TU(e,t=[]){let n=[];function a(l,u){const d=g.createContext(u);d.displayName=l+"Context";const h=n.length;n=[...n,u];const m=p=>{const{scope:b,children:w,...S}=p,_=b?.[e]?.[h]||d,j=g.useMemo(()=>S,Object.values(S));return o.jsx(_.Provider,{value:j,children:w})};m.displayName=l+"Provider";function y(p,b){const w=b?.[e]?.[h]||d,S=g.useContext(w);if(S)return S;if(u!==void 0)return u;throw new Error(`\`${p}\` must be used within \`${l}\``)}return[m,y]}const i=()=>{const l=n.map(u=>g.createContext(u));return function(d){const h=d?.[e]||l;return g.useMemo(()=>({[`__scope${e}`]:{...d,[e]:h}}),[d,h])}};return i.scopeName=e,[a,AU(i,...t)]}function AU(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const a=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const u=a.reduce((d,{useScope:h,scopeName:m})=>{const p=h(l)[`__scope${m}`];return{...d,...p}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}function ga(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...n)=>t.current?.(...n),[])}var Cn=globalThis?.document?g.useLayoutEffect:()=>{},OU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Sy=OU.reduce((e,t)=>{const n=wh(`Primitive.${t}`),a=g.forwardRef((i,l)=>{const{asChild:u,...d}=i,h=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(h,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),Og={exports:{}},Dg={};var ej;function DU(){if(ej)return Dg;ej=1;var e=fh();function t(p,b){return p===b&&(p!==0||1/p===1/b)||p!==p&&b!==b}var n=typeof Object.is=="function"?Object.is:t,a=e.useState,i=e.useEffect,l=e.useLayoutEffect,u=e.useDebugValue;function d(p,b){var w=b(),S=a({inst:{value:w,getSnapshot:b}}),_=S[0].inst,j=S[1];return l(function(){_.value=w,_.getSnapshot=b,h(_)&&j({inst:_})},[p,w,b]),i(function(){return h(_)&&j({inst:_}),p(function(){h(_)&&j({inst:_})})},[p]),u(w),w}function h(p){var b=p.getSnapshot;p=p.value;try{var w=b();return!n(p,w)}catch{return!0}}function m(p,b){return b()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return Dg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:y,Dg}var tj;function MU(){return tj||(tj=1,Og.exports=DU()),Og.exports}var PU=MU();function LU(){return PU.useSyncExternalStore(zU,()=>!0,()=>!1)}function zU(){return()=>{}}var jy="Avatar",[UU]=TU(jy),[IU,WC]=UU(jy),GC=g.forwardRef((e,t)=>{const{__scopeAvatar:n,...a}=e,[i,l]=g.useState("idle");return o.jsx(IU,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:l,children:o.jsx(Sy.span,{...a,ref:t})})});GC.displayName=jy;var YC="AvatarImage",QC=g.forwardRef((e,t)=>{const{__scopeAvatar:n,src:a,onLoadingStatusChange:i=()=>{},...l}=e,u=WC(YC,n),d=$U(a,l),h=ga(m=>{i(m),u.onImageLoadingStatusChange(m)});return Cn(()=>{d!=="idle"&&h(d)},[d,h]),d==="loaded"?o.jsx(Sy.img,{...l,ref:t,src:a}):null});QC.displayName=YC;var XC="AvatarFallback",JC=g.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:a,...i}=e,l=WC(XC,n),[u,d]=g.useState(a===void 0);return g.useEffect(()=>{if(a!==void 0){const h=window.setTimeout(()=>d(!0),a);return()=>window.clearTimeout(h)}},[a]),u&&l.imageLoadingStatus!=="loaded"?o.jsx(Sy.span,{...i,ref:t}):null});JC.displayName=XC;function nj(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function $U(e,{referrerPolicy:t,crossOrigin:n}){const a=LU(),i=g.useRef(null),l=a?(i.current||(i.current=new window.Image),i.current):null,[u,d]=g.useState(()=>nj(l,e));return Cn(()=>{d(nj(l,e))},[l,e]),Cn(()=>{const h=p=>()=>{d(p)};if(!l)return;const m=h("loaded"),y=h("error");return l.addEventListener("load",m),l.addEventListener("error",y),t&&(l.referrerPolicy=t),typeof n=="string"&&(l.crossOrigin=n),()=>{l.removeEventListener("load",m),l.removeEventListener("error",y)}},[l,n,t]),u}var ZC=GC,eE=QC,tE=JC;const nE=g.forwardRef(({className:e,...t},n)=>o.jsx(ZC,{ref:n,className:Ce("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));nE.displayName=ZC.displayName;const rE=g.forwardRef(({className:e,...t},n)=>o.jsx(eE,{ref:n,className:Ce("aspect-square h-full w-full",e),...t}));rE.displayName=eE.displayName;const aE=g.forwardRef(({className:e,...t},n)=>o.jsx(tE,{ref:n,className:Ce("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));aE.displayName=tE.displayName;function FU(e){const t=e.trim().split(" ");return t.length>=2?`${t[0][0]}${t[t.length-1][0]}`.toUpperCase():e.slice(0,2).toUpperCase()}const BU={xs:"h-6 w-6 text-[10px]",sm:"h-8 w-8 text-xs",md:"h-10 w-10 text-sm",lg:"h-12 w-12 text-base",xl:"h-16 w-16 text-xl"},rj={admin:"bg-howard-ink text-howard-parchment",manager:"bg-howard-ink text-howard-parchment",user:"bg-howard-slate text-howard-parchment",client:"bg-howard-slate text-howard-parchment",client_no_access:"bg-muted text-muted-foreground",default:"bg-primary text-primary-foreground"};function gr({name:e,email:t,size:n="md",role:a,src:i,className:l}){const u=a?rj[a]:rj.default;return o.jsxs(nE,{className:Ce(BU[n],"flex-shrink-0",l),title:t||e,children:[i&&o.jsx(rE,{src:i,alt:e}),o.jsx(aE,{className:Ce(u,"font-semibold"),children:FU(e)})]})}function Ee(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function qU(e,t){const n=g.createContext(t),a=l=>{const{children:u,...d}=l,h=g.useMemo(()=>d,Object.values(d));return o.jsx(n.Provider,{value:h,children:u})};a.displayName=e+"Provider";function i(l){const u=g.useContext(n);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[a,i]}function br(e,t=[]){let n=[];function a(l,u){const d=g.createContext(u),h=n.length;n=[...n,u];const m=p=>{const{scope:b,children:w,...S}=p,_=b?.[e]?.[h]||d,j=g.useMemo(()=>S,Object.values(S));return o.jsx(_.Provider,{value:j,children:w})};m.displayName=l+"Provider";function y(p,b){const w=b?.[e]?.[h]||d,S=g.useContext(w);if(S)return S;if(u!==void 0)return u;throw new Error(`\`${p}\` must be used within \`${l}\``)}return[m,y]}const i=()=>{const l=n.map(u=>g.createContext(u));return function(d){const h=d?.[e]||l;return g.useMemo(()=>({[`__scope${e}`]:{...d,[e]:h}}),[d,h])}};return i.scopeName=e,[a,HU(i,...t)]}function HU(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const a=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const u=a.reduce((d,{useScope:h,scopeName:m})=>{const p=h(l)[`__scope${m}`];return{...d,...p}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}var VU=hh[" useInsertionEffect ".trim().toString()]||Cn;function ta({prop:e,defaultProp:t,onChange:n=()=>{},caller:a}){const[i,l,u]=KU({defaultProp:t,onChange:n}),d=e!==void 0,h=d?e:i;{const y=g.useRef(e!==void 0);g.useEffect(()=>{const p=y.current;p!==d&&console.warn(`${a} is changing from ${p?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=d},[d,a])}const m=g.useCallback(y=>{if(d){const p=WU(y)?y(e):y;p!==e&&u.current?.(p)}else l(y)},[d,e,l,u]);return[h,m]}function KU({defaultProp:e,onChange:t}){const[n,a]=g.useState(e),i=g.useRef(n),l=g.useRef(t);return VU(()=>{l.current=t},[t]),g.useEffect(()=>{i.current!==n&&(l.current?.(n),i.current=n)},[n,i]),[n,a,l]}function WU(e){return typeof e=="function"}function GU(e){const t=YU(e),n=g.forwardRef((a,i)=>{const{children:l,...u}=a,d=g.Children.toArray(l),h=d.find(XU);if(h){const m=h.props.children,y=d.map(p=>p===h?g.Children.count(m)>1?g.Children.only(null):g.isValidElement(m)?m.props.children:null:p);return o.jsx(t,{...u,ref:i,children:g.isValidElement(m)?g.cloneElement(m,void 0,y):null})}return o.jsx(t,{...u,ref:i,children:l})});return n.displayName=`${e}.Slot`,n}function YU(e){const t=g.forwardRef((n,a)=>{const{children:i,...l}=n;if(g.isValidElement(i)){const u=ZU(i),d=JU(l,i.props);return i.type!==g.Fragment&&(d.ref=a?Ba(a,u):u),g.cloneElement(i,d)}return g.Children.count(i)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var QU=Symbol("radix.slottable");function XU(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===QU}function JU(e,t){const n={...t};for(const a in t){const i=e[a],l=t[a];/^on[A-Z]/.test(a)?i&&l?n[a]=(...d)=>{const h=l(...d);return i(...d),h}:i&&(n[a]=i):a==="style"?n[a]={...i,...l}:a==="className"&&(n[a]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function ZU(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var eI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ke=eI.reduce((e,t)=>{const n=GU(`Primitive.${t}`),a=g.forwardRef((i,l)=>{const{asChild:u,...d}=i,h=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(h,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function sE(e,t){e&&Oa.flushSync(()=>e.dispatchEvent(t))}function aj(e){const t=tI(e),n=g.forwardRef((a,i)=>{const{children:l,...u}=a,d=g.Children.toArray(l),h=d.find(rI);if(h){const m=h.props.children,y=d.map(p=>p===h?g.Children.count(m)>1?g.Children.only(null):g.isValidElement(m)?m.props.children:null:p);return o.jsx(t,{...u,ref:i,children:g.isValidElement(m)?g.cloneElement(m,void 0,y):null})}return o.jsx(t,{...u,ref:i,children:l})});return n.displayName=`${e}.Slot`,n}function tI(e){const t=g.forwardRef((n,a)=>{const{children:i,...l}=n;if(g.isValidElement(i)){const u=sI(i),d=aI(l,i.props);return i.type!==g.Fragment&&(d.ref=a?Ba(a,u):u),g.cloneElement(i,d)}return g.Children.count(i)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var nI=Symbol("radix.slottable");function rI(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===nI}function aI(e,t){const n={...t};for(const a in t){const i=e[a],l=t[a];/^on[A-Z]/.test(a)?i&&l?n[a]=(...d)=>{const h=l(...d);return i(...d),h}:i&&(n[a]=i):a==="style"?n[a]={...i,...l}:a==="className"&&(n[a]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function sI(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Sh(e){const t=e+"CollectionProvider",[n,a]=br(t),[i,l]=n(t,{collectionRef:{current:null},itemMap:new Map}),u=_=>{const{scope:j,children:C}=_,E=ce.useRef(null),k=ce.useRef(new Map).current;return o.jsx(i,{scope:j,itemMap:k,collectionRef:E,children:C})};u.displayName=t;const d=e+"CollectionSlot",h=aj(d),m=ce.forwardRef((_,j)=>{const{scope:C,children:E}=_,k=l(d,C),A=it(j,k.collectionRef);return o.jsx(h,{ref:A,children:E})});m.displayName=d;const y=e+"CollectionItemSlot",p="data-radix-collection-item",b=aj(y),w=ce.forwardRef((_,j)=>{const{scope:C,children:E,...k}=_,A=ce.useRef(null),L=it(j,A),P=l(y,C);return ce.useEffect(()=>(P.itemMap.set(A,{ref:A,...k}),()=>{P.itemMap.delete(A)})),o.jsx(b,{[p]:"",ref:L,children:E})});w.displayName=y;function S(_){const j=l(e+"CollectionConsumer",_);return ce.useCallback(()=>{const E=j.collectionRef.current;if(!E)return[];const k=Array.from(E.querySelectorAll(`[${p}]`));return Array.from(j.itemMap.values()).sort((P,T)=>k.indexOf(P.ref.current)-k.indexOf(T.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:u,Slot:m,ItemSlot:w},S,a]}var iI=g.createContext(void 0);function Eu(e){const t=g.useContext(iI);return e||t||"ltr"}function oI(e,t=globalThis?.document){const n=ga(e);g.useEffect(()=>{const a=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[n,t])}var lI="DismissableLayer",Nv="dismissableLayer.update",cI="dismissableLayer.pointerDownOutside",uI="dismissableLayer.focusOutside",sj,iE=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Nu=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:u,onDismiss:d,...h}=e,m=g.useContext(iE),[y,p]=g.useState(null),b=y?.ownerDocument??globalThis?.document,[,w]=g.useState({}),S=it(t,T=>p(T)),_=Array.from(m.layers),[j]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),C=_.indexOf(j),E=y?_.indexOf(y):-1,k=m.layersWithOutsidePointerEventsDisabled.size>0,A=E>=C,L=hI(T=>{const z=T.target,Z=[...m.branches].some(V=>V.contains(z));!A||Z||(i?.(T),u?.(T),T.defaultPrevented||d?.())},b),P=mI(T=>{const z=T.target;[...m.branches].some(V=>V.contains(z))||(l?.(T),u?.(T),T.defaultPrevented||d?.())},b);return oI(T=>{E===m.layers.size-1&&(a?.(T),!T.defaultPrevented&&d&&(T.preventDefault(),d()))},b),g.useEffect(()=>{if(y)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(sj=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(y)),m.layers.add(y),ij(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=sj)}},[y,b,n,m]),g.useEffect(()=>()=>{y&&(m.layers.delete(y),m.layersWithOutsidePointerEventsDisabled.delete(y),ij())},[y,m]),g.useEffect(()=>{const T=()=>w({});return document.addEventListener(Nv,T),()=>document.removeEventListener(Nv,T)},[]),o.jsx(Ke.div,{...h,ref:S,style:{pointerEvents:k?A?"auto":"none":void 0,...e.style},onFocusCapture:Ee(e.onFocusCapture,P.onFocusCapture),onBlurCapture:Ee(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Ee(e.onPointerDownCapture,L.onPointerDownCapture)})});Nu.displayName=lI;var dI="DismissableLayerBranch",fI=g.forwardRef((e,t)=>{const n=g.useContext(iE),a=g.useRef(null),i=it(t,a);return g.useEffect(()=>{const l=a.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),o.jsx(Ke.div,{...e,ref:i})});fI.displayName=dI;function hI(e,t=globalThis?.document){const n=ga(e),a=g.useRef(!1),i=g.useRef(()=>{});return g.useEffect(()=>{const l=d=>{if(d.target&&!a.current){let h=function(){oE(cI,n,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=h,t.addEventListener("click",i.current,{once:!0})):h()}else t.removeEventListener("click",i.current);a.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",l),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>a.current=!0}}function mI(e,t=globalThis?.document){const n=ga(e),a=g.useRef(!1);return g.useEffect(()=>{const i=l=>{l.target&&!a.current&&oE(uI,n,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function ij(){const e=new CustomEvent(Nv);document.dispatchEvent(e)}function oE(e,t,n,{discrete:a}){const i=n.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),a?sE(i,l):i.dispatchEvent(l)}var Mg=0;function jh(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??oj()),document.body.insertAdjacentElement("beforeend",e[1]??oj()),Mg++,()=>{Mg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Mg--}},[])}function oj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Pg="focusScope.autoFocusOnMount",Lg="focusScope.autoFocusOnUnmount",lj={bubbles:!1,cancelable:!0},pI="FocusScope",ku=g.forwardRef((e,t)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...u}=e,[d,h]=g.useState(null),m=ga(i),y=ga(l),p=g.useRef(null),b=it(t,_=>h(_)),w=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(a){let _=function(k){if(w.paused||!d)return;const A=k.target;d.contains(A)?p.current=A:Vs(p.current,{select:!0})},j=function(k){if(w.paused||!d)return;const A=k.relatedTarget;A!==null&&(d.contains(A)||Vs(p.current,{select:!0}))},C=function(k){if(document.activeElement===document.body)for(const L of k)L.removedNodes.length>0&&Vs(d)};document.addEventListener("focusin",_),document.addEventListener("focusout",j);const E=new MutationObserver(C);return d&&E.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",j),E.disconnect()}}},[a,d,w.paused]),g.useEffect(()=>{if(d){uj.add(w);const _=document.activeElement;if(!d.contains(_)){const C=new CustomEvent(Pg,lj);d.addEventListener(Pg,m),d.dispatchEvent(C),C.defaultPrevented||(gI(wI(lE(d)),{select:!0}),document.activeElement===_&&Vs(d))}return()=>{d.removeEventListener(Pg,m),setTimeout(()=>{const C=new CustomEvent(Lg,lj);d.addEventListener(Lg,y),d.dispatchEvent(C),C.defaultPrevented||Vs(_??document.body,{select:!0}),d.removeEventListener(Lg,y),uj.remove(w)},0)}}},[d,m,y,w]);const S=g.useCallback(_=>{if(!n&&!a||w.paused)return;const j=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,C=document.activeElement;if(j&&C){const E=_.currentTarget,[k,A]=vI(E);k&&A?!_.shiftKey&&C===A?(_.preventDefault(),n&&Vs(k,{select:!0})):_.shiftKey&&C===k&&(_.preventDefault(),n&&Vs(A,{select:!0})):C===E&&_.preventDefault()}},[n,a,w.paused]);return o.jsx(Ke.div,{tabIndex:-1,...u,ref:b,onKeyDown:S})});ku.displayName=pI;function gI(e,{select:t=!1}={}){const n=document.activeElement;for(const a of e)if(Vs(a,{select:t}),document.activeElement!==n)return}function vI(e){const t=lE(e),n=cj(t,e),a=cj(t.reverse(),e);return[n,a]}function lE(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const i=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||i?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function cj(e,t){for(const n of e)if(!yI(n,{upTo:t}))return n}function yI(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function xI(e){return e instanceof HTMLInputElement&&"select"in e}function Vs(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&xI(e)&&t&&e.select()}}var uj=bI();function bI(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=dj(e,t),e.unshift(t)},remove(t){e=dj(e,t),e[0]?.resume()}}}function dj(e,t){const n=[...e],a=n.indexOf(t);return a!==-1&&n.splice(a,1),n}function wI(e){return e.filter(t=>t.tagName!=="A")}var _I=hh[" useId ".trim().toString()]||(()=>{}),SI=0;function Mr(e){const[t,n]=g.useState(_I());return Cn(()=>{n(a=>a??String(SI++))},[e]),t?`radix-${t}`:""}const jI=["top","right","bottom","left"],ai=Math.min,Or=Math.max,Hf=Math.round,pf=Math.floor,Pa=e=>({x:e,y:e}),CI={left:"right",right:"left",bottom:"top",top:"bottom"},EI={start:"end",end:"start"};function kv(e,t,n){return Or(e,ai(t,n))}function gs(e,t){return typeof e=="function"?e(t):e}function vs(e){return e.split("-")[0]}function Tl(e){return e.split("-")[1]}function Cy(e){return e==="x"?"y":"x"}function Ey(e){return e==="y"?"height":"width"}const NI=new Set(["top","bottom"]);function Da(e){return NI.has(vs(e))?"y":"x"}function Ny(e){return Cy(Da(e))}function kI(e,t,n){n===void 0&&(n=!1);const a=Tl(e),i=Ny(e),l=Ey(i);let u=i==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(u=Vf(u)),[u,Vf(u)]}function RI(e){const t=Vf(e);return[Rv(e),t,Rv(t)]}function Rv(e){return e.replace(/start|end/g,t=>EI[t])}const fj=["left","right"],hj=["right","left"],TI=["top","bottom"],AI=["bottom","top"];function OI(e,t,n){switch(e){case"top":case"bottom":return n?t?hj:fj:t?fj:hj;case"left":case"right":return t?TI:AI;default:return[]}}function DI(e,t,n,a){const i=Tl(e);let l=OI(vs(e),n==="start",a);return i&&(l=l.map(u=>u+"-"+i),t&&(l=l.concat(l.map(Rv)))),l}function Vf(e){return e.replace(/left|right|bottom|top/g,t=>CI[t])}function MI(e){return{top:0,right:0,bottom:0,left:0,...e}}function cE(e){return typeof e!="number"?MI(e):{top:e,right:e,bottom:e,left:e}}function Kf(e){const{x:t,y:n,width:a,height:i}=e;return{width:a,height:i,top:n,left:t,right:t+a,bottom:n+i,x:t,y:n}}function mj(e,t,n){let{reference:a,floating:i}=e;const l=Da(t),u=Ny(t),d=Ey(u),h=vs(t),m=l==="y",y=a.x+a.width/2-i.width/2,p=a.y+a.height/2-i.height/2,b=a[d]/2-i[d]/2;let w;switch(h){case"top":w={x:y,y:a.y-i.height};break;case"bottom":w={x:y,y:a.y+a.height};break;case"right":w={x:a.x+a.width,y:p};break;case"left":w={x:a.x-i.width,y:p};break;default:w={x:a.x,y:a.y}}switch(Tl(t)){case"start":w[u]-=b*(n&&m?-1:1);break;case"end":w[u]+=b*(n&&m?-1:1);break}return w}async function PI(e,t){var n;t===void 0&&(t={});const{x:a,y:i,platform:l,rects:u,elements:d,strategy:h}=e,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:p="floating",altBoundary:b=!1,padding:w=0}=gs(t,e),S=cE(w),j=d[b?p==="floating"?"reference":"floating":p],C=Kf(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(j)))==null||n?j:j.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:m,rootBoundary:y,strategy:h})),E=p==="floating"?{x:a,y:i,width:u.floating.width,height:u.floating.height}:u.reference,k=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),A=await(l.isElement==null?void 0:l.isElement(k))?await(l.getScale==null?void 0:l.getScale(k))||{x:1,y:1}:{x:1,y:1},L=Kf(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:E,offsetParent:k,strategy:h}):E);return{top:(C.top-L.top+S.top)/A.y,bottom:(L.bottom-C.bottom+S.bottom)/A.y,left:(C.left-L.left+S.left)/A.x,right:(L.right-C.right+S.right)/A.x}}const LI=async(e,t,n)=>{const{placement:a="bottom",strategy:i="absolute",middleware:l=[],platform:u}=n,d=l.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(t));let m=await u.getElementRects({reference:e,floating:t,strategy:i}),{x:y,y:p}=mj(m,a,h),b=a,w={},S=0;for(let j=0;j<d.length;j++){var _;const{name:C,fn:E}=d[j],{x:k,y:A,data:L,reset:P}=await E({x:y,y:p,initialPlacement:a,placement:b,strategy:i,middlewareData:w,rects:m,platform:{...u,detectOverflow:(_=u.detectOverflow)!=null?_:PI},elements:{reference:e,floating:t}});y=k??y,p=A??p,w={...w,[C]:{...w[C],...L}},P&&S<=50&&(S++,typeof P=="object"&&(P.placement&&(b=P.placement),P.rects&&(m=P.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:i}):P.rects),{x:y,y:p}=mj(m,b,h)),j=-1)}return{x:y,y:p,placement:b,strategy:i,middlewareData:w}},zI=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:a,placement:i,rects:l,platform:u,elements:d,middlewareData:h}=t,{element:m,padding:y=0}=gs(e,t)||{};if(m==null)return{};const p=cE(y),b={x:n,y:a},w=Ny(i),S=Ey(w),_=await u.getDimensions(m),j=w==="y",C=j?"top":"left",E=j?"bottom":"right",k=j?"clientHeight":"clientWidth",A=l.reference[S]+l.reference[w]-b[w]-l.floating[S],L=b[w]-l.reference[w],P=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let T=P?P[k]:0;(!T||!await(u.isElement==null?void 0:u.isElement(P)))&&(T=d.floating[k]||l.floating[S]);const z=A/2-L/2,Z=T/2-_[S]/2-1,V=ai(p[C],Z),H=ai(p[E],Z),K=V,M=T-_[S]-H,Y=T/2-_[S]/2+z,J=kv(K,Y,M),R=!h.arrow&&Tl(i)!=null&&Y!==J&&l.reference[S]/2-(Y<K?V:H)-_[S]/2<0,U=R?Y<K?Y-K:Y-M:0;return{[w]:b[w]+U,data:{[w]:J,centerOffset:Y-J-U,...R&&{alignmentOffset:U}},reset:R}}}),UI=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,a;const{placement:i,middlewareData:l,rects:u,initialPlacement:d,platform:h,elements:m}=t,{mainAxis:y=!0,crossAxis:p=!0,fallbackPlacements:b,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:_=!0,...j}=gs(e,t);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const C=vs(i),E=Da(d),k=vs(d)===d,A=await(h.isRTL==null?void 0:h.isRTL(m.floating)),L=b||(k||!_?[Vf(d)]:RI(d)),P=S!=="none";!b&&P&&L.push(...DI(d,_,S,A));const T=[d,...L],z=await h.detectOverflow(t,j),Z=[];let V=((a=l.flip)==null?void 0:a.overflows)||[];if(y&&Z.push(z[C]),p){const Y=kI(i,u,A);Z.push(z[Y[0]],z[Y[1]])}if(V=[...V,{placement:i,overflows:Z}],!Z.every(Y=>Y<=0)){var H,K;const Y=(((H=l.flip)==null?void 0:H.index)||0)+1,J=T[Y];if(J&&(!(p==="alignment"?E!==Da(J):!1)||V.every(F=>Da(F.placement)===E?F.overflows[0]>0:!0)))return{data:{index:Y,overflows:V},reset:{placement:J}};let R=(K=V.filter(U=>U.overflows[0]<=0).sort((U,F)=>U.overflows[1]-F.overflows[1])[0])==null?void 0:K.placement;if(!R)switch(w){case"bestFit":{var M;const U=(M=V.filter(F=>{if(P){const X=Da(F.placement);return X===E||X==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(X=>X>0).reduce((X,G)=>X+G,0)]).sort((F,X)=>F[1]-X[1])[0])==null?void 0:M[0];U&&(R=U);break}case"initialPlacement":R=d;break}if(i!==R)return{reset:{placement:R}}}return{}}}};function pj(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function gj(e){return jI.some(t=>e[t]>=0)}const II=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:a}=t,{strategy:i="referenceHidden",...l}=gs(e,t);switch(i){case"referenceHidden":{const u=await a.detectOverflow(t,{...l,elementContext:"reference"}),d=pj(u,n.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:gj(d)}}}case"escaped":{const u=await a.detectOverflow(t,{...l,altBoundary:!0}),d=pj(u,n.floating);return{data:{escapedOffsets:d,escaped:gj(d)}}}default:return{}}}}},uE=new Set(["left","top"]);async function $I(e,t){const{placement:n,platform:a,elements:i}=e,l=await(a.isRTL==null?void 0:a.isRTL(i.floating)),u=vs(n),d=Tl(n),h=Da(n)==="y",m=uE.has(u)?-1:1,y=l&&h?-1:1,p=gs(t,e);let{mainAxis:b,crossAxis:w,alignmentAxis:S}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return d&&typeof S=="number"&&(w=d==="end"?S*-1:S),h?{x:w*y,y:b*m}:{x:b*m,y:w*y}}const FI=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,a;const{x:i,y:l,placement:u,middlewareData:d}=t,h=await $I(t,e);return u===((n=d.offset)==null?void 0:n.placement)&&(a=d.arrow)!=null&&a.alignmentOffset?{}:{x:i+h.x,y:l+h.y,data:{...h,placement:u}}}}},BI=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:a,placement:i,platform:l}=t,{mainAxis:u=!0,crossAxis:d=!1,limiter:h={fn:C=>{let{x:E,y:k}=C;return{x:E,y:k}}},...m}=gs(e,t),y={x:n,y:a},p=await l.detectOverflow(t,m),b=Da(vs(i)),w=Cy(b);let S=y[w],_=y[b];if(u){const C=w==="y"?"top":"left",E=w==="y"?"bottom":"right",k=S+p[C],A=S-p[E];S=kv(k,S,A)}if(d){const C=b==="y"?"top":"left",E=b==="y"?"bottom":"right",k=_+p[C],A=_-p[E];_=kv(k,_,A)}const j=h.fn({...t,[w]:S,[b]:_});return{...j,data:{x:j.x-n,y:j.y-a,enabled:{[w]:u,[b]:d}}}}}},qI=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:a,placement:i,rects:l,middlewareData:u}=t,{offset:d=0,mainAxis:h=!0,crossAxis:m=!0}=gs(e,t),y={x:n,y:a},p=Da(i),b=Cy(p);let w=y[b],S=y[p];const _=gs(d,t),j=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(h){const k=b==="y"?"height":"width",A=l.reference[b]-l.floating[k]+j.mainAxis,L=l.reference[b]+l.reference[k]-j.mainAxis;w<A?w=A:w>L&&(w=L)}if(m){var C,E;const k=b==="y"?"width":"height",A=uE.has(vs(i)),L=l.reference[p]-l.floating[k]+(A&&((C=u.offset)==null?void 0:C[p])||0)+(A?0:j.crossAxis),P=l.reference[p]+l.reference[k]+(A?0:((E=u.offset)==null?void 0:E[p])||0)-(A?j.crossAxis:0);S<L?S=L:S>P&&(S=P)}return{[b]:w,[p]:S}}}},HI=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,a;const{placement:i,rects:l,platform:u,elements:d}=t,{apply:h=()=>{},...m}=gs(e,t),y=await u.detectOverflow(t,m),p=vs(i),b=Tl(i),w=Da(i)==="y",{width:S,height:_}=l.floating;let j,C;p==="top"||p==="bottom"?(j=p,C=b===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(C=p,j=b==="end"?"top":"bottom");const E=_-y.top-y.bottom,k=S-y.left-y.right,A=ai(_-y[j],E),L=ai(S-y[C],k),P=!t.middlewareData.shift;let T=A,z=L;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(z=k),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(T=E),P&&!b){const V=Or(y.left,0),H=Or(y.right,0),K=Or(y.top,0),M=Or(y.bottom,0);w?z=S-2*(V!==0||H!==0?V+H:Or(y.left,y.right)):T=_-2*(K!==0||M!==0?K+M:Or(y.top,y.bottom))}await h({...t,availableWidth:z,availableHeight:T});const Z=await u.getDimensions(d.floating);return S!==Z.width||_!==Z.height?{reset:{rects:!0}}:{}}}};function Ch(){return typeof window<"u"}function Al(e){return dE(e)?(e.nodeName||"").toLowerCase():"#document"}function Pr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ha(e){var t;return(t=(dE(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function dE(e){return Ch()?e instanceof Node||e instanceof Pr(e).Node:!1}function va(e){return Ch()?e instanceof Element||e instanceof Pr(e).Element:!1}function $a(e){return Ch()?e instanceof HTMLElement||e instanceof Pr(e).HTMLElement:!1}function vj(e){return!Ch()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Pr(e).ShadowRoot}const VI=new Set(["inline","contents"]);function Ru(e){const{overflow:t,overflowX:n,overflowY:a,display:i}=ya(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+n)&&!VI.has(i)}const KI=new Set(["table","td","th"]);function WI(e){return KI.has(Al(e))}const GI=[":popover-open",":modal"];function Eh(e){return GI.some(t=>{try{return e.matches(t)}catch{return!1}})}const YI=["transform","translate","scale","rotate","perspective"],QI=["transform","translate","scale","rotate","perspective","filter"],XI=["paint","layout","strict","content"];function ky(e){const t=Ry(),n=va(e)?ya(e):e;return YI.some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||QI.some(a=>(n.willChange||"").includes(a))||XI.some(a=>(n.contain||"").includes(a))}function JI(e){let t=si(e);for(;$a(t)&&!xl(t);){if(ky(t))return t;if(Eh(t))return null;t=si(t)}return null}function Ry(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ZI=new Set(["html","body","#document"]);function xl(e){return ZI.has(Al(e))}function ya(e){return Pr(e).getComputedStyle(e)}function Nh(e){return va(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function si(e){if(Al(e)==="html")return e;const t=e.assignedSlot||e.parentNode||vj(e)&&e.host||Ha(e);return vj(t)?t.host:t}function fE(e){const t=si(e);return xl(t)?e.ownerDocument?e.ownerDocument.body:e.body:$a(t)&&Ru(t)?t:fE(t)}function cu(e,t,n){var a;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=fE(e),l=i===((a=e.ownerDocument)==null?void 0:a.body),u=Pr(i);if(l){const d=Tv(u);return t.concat(u,u.visualViewport||[],Ru(i)?i:[],d&&n?cu(d):[])}return t.concat(i,cu(i,[],n))}function Tv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function hE(e){const t=ya(e);let n=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const i=$a(e),l=i?e.offsetWidth:n,u=i?e.offsetHeight:a,d=Hf(n)!==l||Hf(a)!==u;return d&&(n=l,a=u),{width:n,height:a,$:d}}function Ty(e){return va(e)?e:e.contextElement}function cl(e){const t=Ty(e);if(!$a(t))return Pa(1);const n=t.getBoundingClientRect(),{width:a,height:i,$:l}=hE(t);let u=(l?Hf(n.width):n.width)/a,d=(l?Hf(n.height):n.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const e5=Pa(0);function mE(e){const t=Pr(e);return!Ry()||!t.visualViewport?e5:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function t5(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Pr(e)?!1:t}function eo(e,t,n,a){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),l=Ty(e);let u=Pa(1);t&&(a?va(a)&&(u=cl(a)):u=cl(e));const d=t5(l,n,a)?mE(l):Pa(0);let h=(i.left+d.x)/u.x,m=(i.top+d.y)/u.y,y=i.width/u.x,p=i.height/u.y;if(l){const b=Pr(l),w=a&&va(a)?Pr(a):a;let S=b,_=Tv(S);for(;_&&a&&w!==S;){const j=cl(_),C=_.getBoundingClientRect(),E=ya(_),k=C.left+(_.clientLeft+parseFloat(E.paddingLeft))*j.x,A=C.top+(_.clientTop+parseFloat(E.paddingTop))*j.y;h*=j.x,m*=j.y,y*=j.x,p*=j.y,h+=k,m+=A,S=Pr(_),_=Tv(S)}}return Kf({width:y,height:p,x:h,y:m})}function kh(e,t){const n=Nh(e).scrollLeft;return t?t.left+n:eo(Ha(e)).left+n}function pE(e,t){const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-kh(e,n),i=n.top+t.scrollTop;return{x:a,y:i}}function n5(e){let{elements:t,rect:n,offsetParent:a,strategy:i}=e;const l=i==="fixed",u=Ha(a),d=t?Eh(t.floating):!1;if(a===u||d&&l)return n;let h={scrollLeft:0,scrollTop:0},m=Pa(1);const y=Pa(0),p=$a(a);if((p||!p&&!l)&&((Al(a)!=="body"||Ru(u))&&(h=Nh(a)),$a(a))){const w=eo(a);m=cl(a),y.x=w.x+a.clientLeft,y.y=w.y+a.clientTop}const b=u&&!p&&!l?pE(u,h):Pa(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-h.scrollLeft*m.x+y.x+b.x,y:n.y*m.y-h.scrollTop*m.y+y.y+b.y}}function r5(e){return Array.from(e.getClientRects())}function a5(e){const t=Ha(e),n=Nh(e),a=e.ownerDocument.body,i=Or(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),l=Or(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let u=-n.scrollLeft+kh(e);const d=-n.scrollTop;return ya(a).direction==="rtl"&&(u+=Or(t.clientWidth,a.clientWidth)-i),{width:i,height:l,x:u,y:d}}const yj=25;function s5(e,t){const n=Pr(e),a=Ha(e),i=n.visualViewport;let l=a.clientWidth,u=a.clientHeight,d=0,h=0;if(i){l=i.width,u=i.height;const y=Ry();(!y||y&&t==="fixed")&&(d=i.offsetLeft,h=i.offsetTop)}const m=kh(a);if(m<=0){const y=a.ownerDocument,p=y.body,b=getComputedStyle(p),w=y.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,S=Math.abs(a.clientWidth-p.clientWidth-w);S<=yj&&(l-=S)}else m<=yj&&(l+=m);return{width:l,height:u,x:d,y:h}}const i5=new Set(["absolute","fixed"]);function o5(e,t){const n=eo(e,!0,t==="fixed"),a=n.top+e.clientTop,i=n.left+e.clientLeft,l=$a(e)?cl(e):Pa(1),u=e.clientWidth*l.x,d=e.clientHeight*l.y,h=i*l.x,m=a*l.y;return{width:u,height:d,x:h,y:m}}function xj(e,t,n){let a;if(t==="viewport")a=s5(e,n);else if(t==="document")a=a5(Ha(e));else if(va(t))a=o5(t,n);else{const i=mE(e);a={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Kf(a)}function gE(e,t){const n=si(e);return n===t||!va(n)||xl(n)?!1:ya(n).position==="fixed"||gE(n,t)}function l5(e,t){const n=t.get(e);if(n)return n;let a=cu(e,[],!1).filter(d=>va(d)&&Al(d)!=="body"),i=null;const l=ya(e).position==="fixed";let u=l?si(e):e;for(;va(u)&&!xl(u);){const d=ya(u),h=ky(u);!h&&d.position==="fixed"&&(i=null),(l?!h&&!i:!h&&d.position==="static"&&!!i&&i5.has(i.position)||Ru(u)&&!h&&gE(e,u))?a=a.filter(y=>y!==u):i=d,u=si(u)}return t.set(e,a),a}function c5(e){let{element:t,boundary:n,rootBoundary:a,strategy:i}=e;const u=[...n==="clippingAncestors"?Eh(t)?[]:l5(t,this._c):[].concat(n),a],d=u[0],h=u.reduce((m,y)=>{const p=xj(t,y,i);return m.top=Or(p.top,m.top),m.right=ai(p.right,m.right),m.bottom=ai(p.bottom,m.bottom),m.left=Or(p.left,m.left),m},xj(t,d,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function u5(e){const{width:t,height:n}=hE(e);return{width:t,height:n}}function d5(e,t,n){const a=$a(t),i=Ha(t),l=n==="fixed",u=eo(e,!0,l,t);let d={scrollLeft:0,scrollTop:0};const h=Pa(0);function m(){h.x=kh(i)}if(a||!a&&!l)if((Al(t)!=="body"||Ru(i))&&(d=Nh(t)),a){const w=eo(t,!0,l,t);h.x=w.x+t.clientLeft,h.y=w.y+t.clientTop}else i&&m();l&&!a&&i&&m();const y=i&&!a&&!l?pE(i,d):Pa(0),p=u.left+d.scrollLeft-h.x-y.x,b=u.top+d.scrollTop-h.y-y.y;return{x:p,y:b,width:u.width,height:u.height}}function zg(e){return ya(e).position==="static"}function bj(e,t){if(!$a(e)||ya(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ha(e)===n&&(n=n.ownerDocument.body),n}function vE(e,t){const n=Pr(e);if(Eh(e))return n;if(!$a(e)){let i=si(e);for(;i&&!xl(i);){if(va(i)&&!zg(i))return i;i=si(i)}return n}let a=bj(e,t);for(;a&&WI(a)&&zg(a);)a=bj(a,t);return a&&xl(a)&&zg(a)&&!ky(a)?n:a||JI(e)||n}const f5=async function(e){const t=this.getOffsetParent||vE,n=this.getDimensions,a=await n(e.floating);return{reference:d5(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function h5(e){return ya(e).direction==="rtl"}const m5={convertOffsetParentRelativeRectToViewportRelativeRect:n5,getDocumentElement:Ha,getClippingRect:c5,getOffsetParent:vE,getElementRects:f5,getClientRects:r5,getDimensions:u5,getScale:cl,isElement:va,isRTL:h5};function yE(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function p5(e,t){let n=null,a;const i=Ha(e);function l(){var d;clearTimeout(a),(d=n)==null||d.disconnect(),n=null}function u(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),l();const m=e.getBoundingClientRect(),{left:y,top:p,width:b,height:w}=m;if(d||t(),!b||!w)return;const S=pf(p),_=pf(i.clientWidth-(y+b)),j=pf(i.clientHeight-(p+w)),C=pf(y),k={rootMargin:-S+"px "+-_+"px "+-j+"px "+-C+"px",threshold:Or(0,ai(1,h))||1};let A=!0;function L(P){const T=P[0].intersectionRatio;if(T!==h){if(!A)return u();T?u(!1,T):a=setTimeout(()=>{u(!1,1e-7)},1e3)}T===1&&!yE(m,e.getBoundingClientRect())&&u(),A=!1}try{n=new IntersectionObserver(L,{...k,root:i.ownerDocument})}catch{n=new IntersectionObserver(L,k)}n.observe(e)}return u(!0),l}function g5(e,t,n,a){a===void 0&&(a={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=a,m=Ty(e),y=i||l?[...m?cu(m):[],...cu(t)]:[];y.forEach(C=>{i&&C.addEventListener("scroll",n,{passive:!0}),l&&C.addEventListener("resize",n)});const p=m&&d?p5(m,n):null;let b=-1,w=null;u&&(w=new ResizeObserver(C=>{let[E]=C;E&&E.target===m&&w&&(w.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var k;(k=w)==null||k.observe(t)})),n()}),m&&!h&&w.observe(m),w.observe(t));let S,_=h?eo(e):null;h&&j();function j(){const C=eo(e);_&&!yE(_,C)&&n(),_=C,S=requestAnimationFrame(j)}return n(),()=>{var C;y.forEach(E=>{i&&E.removeEventListener("scroll",n),l&&E.removeEventListener("resize",n)}),p?.(),(C=w)==null||C.disconnect(),w=null,h&&cancelAnimationFrame(S)}}const v5=FI,y5=BI,x5=UI,b5=HI,w5=II,wj=zI,_5=qI,S5=(e,t,n)=>{const a=new Map,i={platform:m5,...n},l={...i.platform,_c:a};return LI(e,t,{...i,platform:l})};var j5=typeof document<"u",C5=function(){},Rf=j5?g.useLayoutEffect:C5;function Wf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,a,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(a=n;a--!==0;)if(!Wf(e[a],t[a]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(t,i[a]))return!1;for(a=n;a--!==0;){const l=i[a];if(!(l==="_owner"&&e.$$typeof)&&!Wf(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function xE(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function _j(e,t){const n=xE(e);return Math.round(t*n)/n}function Ug(e){const t=g.useRef(e);return Rf(()=>{t.current=e}),t}function E5(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:a=[],platform:i,elements:{reference:l,floating:u}={},transform:d=!0,whileElementsMounted:h,open:m}=e,[y,p]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,w]=g.useState(a);Wf(b,a)||w(a);const[S,_]=g.useState(null),[j,C]=g.useState(null),E=g.useCallback(F=>{F!==P.current&&(P.current=F,_(F))},[]),k=g.useCallback(F=>{F!==T.current&&(T.current=F,C(F))},[]),A=l||S,L=u||j,P=g.useRef(null),T=g.useRef(null),z=g.useRef(y),Z=h!=null,V=Ug(h),H=Ug(i),K=Ug(m),M=g.useCallback(()=>{if(!P.current||!T.current)return;const F={placement:t,strategy:n,middleware:b};H.current&&(F.platform=H.current),S5(P.current,T.current,F).then(X=>{const G={...X,isPositioned:K.current!==!1};Y.current&&!Wf(z.current,G)&&(z.current=G,Oa.flushSync(()=>{p(G)}))})},[b,t,n,H,K]);Rf(()=>{m===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,p(F=>({...F,isPositioned:!1})))},[m]);const Y=g.useRef(!1);Rf(()=>(Y.current=!0,()=>{Y.current=!1}),[]),Rf(()=>{if(A&&(P.current=A),L&&(T.current=L),A&&L){if(V.current)return V.current(A,L,M);M()}},[A,L,M,V,Z]);const J=g.useMemo(()=>({reference:P,floating:T,setReference:E,setFloating:k}),[E,k]),R=g.useMemo(()=>({reference:A,floating:L}),[A,L]),U=g.useMemo(()=>{const F={position:n,left:0,top:0};if(!R.floating)return F;const X=_j(R.floating,y.x),G=_j(R.floating,y.y);return d?{...F,transform:"translate("+X+"px, "+G+"px)",...xE(R.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:X,top:G}},[n,d,R.floating,y.x,y.y]);return g.useMemo(()=>({...y,update:M,refs:J,elements:R,floatingStyles:U}),[y,M,J,R,U])}const N5=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:a,padding:i}=typeof e=="function"?e(n):e;return a&&t(a)?a.current!=null?wj({element:a.current,padding:i}).fn(n):{}:a?wj({element:a,padding:i}).fn(n):{}}}},k5=(e,t)=>({...v5(e),options:[e,t]}),R5=(e,t)=>({...y5(e),options:[e,t]}),T5=(e,t)=>({..._5(e),options:[e,t]}),A5=(e,t)=>({...x5(e),options:[e,t]}),O5=(e,t)=>({...b5(e),options:[e,t]}),D5=(e,t)=>({...w5(e),options:[e,t]}),M5=(e,t)=>({...N5(e),options:[e,t]});var P5="Arrow",bE=g.forwardRef((e,t)=>{const{children:n,width:a=10,height:i=5,...l}=e;return o.jsx(Ke.svg,{...l,ref:t,width:a,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});bE.displayName=P5;var L5=bE;function Ay(e){const[t,n]=g.useState(void 0);return Cn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let u,d;if("borderBoxSize"in l){const h=l.borderBoxSize,m=Array.isArray(h)?h[0]:h;u=m.inlineSize,d=m.blockSize}else u=e.offsetWidth,d=e.offsetHeight;n({width:u,height:d})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else n(void 0)},[e]),t}var Oy="Popper",[wE,Ol]=br(Oy),[z5,_E]=wE(Oy),SE=e=>{const{__scopePopper:t,children:n}=e,[a,i]=g.useState(null);return o.jsx(z5,{scope:t,anchor:a,onAnchorChange:i,children:n})};SE.displayName=Oy;var jE="PopperAnchor",CE=g.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:a,...i}=e,l=_E(jE,n),u=g.useRef(null),d=it(t,u),h=g.useRef(null);return g.useEffect(()=>{const m=h.current;h.current=a?.current||u.current,m!==h.current&&l.onAnchorChange(h.current)}),a?null:o.jsx(Ke.div,{...i,ref:d})});CE.displayName=jE;var Dy="PopperContent",[U5,I5]=wE(Dy),EE=g.forwardRef((e,t)=>{const{__scopePopper:n,side:a="bottom",sideOffset:i=0,align:l="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:m=[],collisionPadding:y=0,sticky:p="partial",hideWhenDetached:b=!1,updatePositionStrategy:w="optimized",onPlaced:S,..._}=e,j=_E(Dy,n),[C,E]=g.useState(null),k=it(t,ie=>E(ie)),[A,L]=g.useState(null),P=Ay(A),T=P?.width??0,z=P?.height??0,Z=a+(l!=="center"?"-"+l:""),V=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},H=Array.isArray(m)?m:[m],K=H.length>0,M={padding:V,boundary:H.filter(F5),altBoundary:K},{refs:Y,floatingStyles:J,placement:R,isPositioned:U,middlewareData:F}=E5({strategy:"fixed",placement:Z,whileElementsMounted:(...ie)=>g5(...ie,{animationFrame:w==="always"}),elements:{reference:j.anchor},middleware:[k5({mainAxis:i+z,alignmentAxis:u}),h&&R5({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?T5():void 0,...M}),h&&A5({...M}),O5({...M,apply:({elements:ie,rects:ge,availableWidth:ke,availableHeight:_e})=>{const{width:qe,height:Ne}=ge.reference,rt=ie.floating.style;rt.setProperty("--radix-popper-available-width",`${ke}px`),rt.setProperty("--radix-popper-available-height",`${_e}px`),rt.setProperty("--radix-popper-anchor-width",`${qe}px`),rt.setProperty("--radix-popper-anchor-height",`${Ne}px`)}}),A&&M5({element:A,padding:d}),B5({arrowWidth:T,arrowHeight:z}),b&&D5({strategy:"referenceHidden",...M})]}),[X,G]=RE(R),D=ga(S);Cn(()=>{U&&D?.()},[U,D]);const $=F.arrow?.x,q=F.arrow?.y,ae=F.arrow?.centerOffset!==0,[de,pe]=g.useState();return Cn(()=>{C&&pe(window.getComputedStyle(C).zIndex)},[C]),o.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:U?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:de,"--radix-popper-transform-origin":[F.transformOrigin?.x,F.transformOrigin?.y].join(" "),...F.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(U5,{scope:n,placedSide:X,onArrowChange:L,arrowX:$,arrowY:q,shouldHideArrow:ae,children:o.jsx(Ke.div,{"data-side":X,"data-align":G,..._,ref:k,style:{..._.style,animation:U?void 0:"none"}})})})});EE.displayName=Dy;var NE="PopperArrow",$5={top:"bottom",right:"left",bottom:"top",left:"right"},kE=g.forwardRef(function(t,n){const{__scopePopper:a,...i}=t,l=I5(NE,a),u=$5[l.placedSide];return o.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:o.jsx(L5,{...i,ref:n,style:{...i.style,display:"block"}})})});kE.displayName=NE;function F5(e){return e!==null}var B5=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:a,middlewareData:i}=t,u=i.arrow?.centerOffset!==0,d=u?0:e.arrowWidth,h=u?0:e.arrowHeight,[m,y]=RE(n),p={start:"0%",center:"50%",end:"100%"}[y],b=(i.arrow?.x??0)+d/2,w=(i.arrow?.y??0)+h/2;let S="",_="";return m==="bottom"?(S=u?p:`${b}px`,_=`${-h}px`):m==="top"?(S=u?p:`${b}px`,_=`${a.floating.height+h}px`):m==="right"?(S=`${-h}px`,_=u?p:`${w}px`):m==="left"&&(S=`${a.floating.width+h}px`,_=u?p:`${w}px`),{data:{x:S,y:_}}}});function RE(e){const[t,n="center"]=e.split("-");return[t,n]}var My=SE,Rh=CE,Py=EE,Ly=kE,q5="Portal",Tu=g.forwardRef((e,t)=>{const{container:n,...a}=e,[i,l]=g.useState(!1);Cn(()=>l(!0),[]);const u=n||i&&globalThis?.document?.body;return u?G1.createPortal(o.jsx(Ke.div,{...a,ref:t}),u):null});Tu.displayName=q5;function H5(e,t){return g.useReducer((n,a)=>t[n][a]??n,e)}var zr=e=>{const{present:t,children:n}=e,a=V5(t),i=typeof n=="function"?n({present:a.isPresent}):g.Children.only(n),l=it(a.ref,K5(i));return typeof n=="function"||a.isPresent?g.cloneElement(i,{ref:l}):null};zr.displayName="Presence";function V5(e){const[t,n]=g.useState(),a=g.useRef(null),i=g.useRef(e),l=g.useRef("none"),u=e?"mounted":"unmounted",[d,h]=H5(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const m=gf(a.current);l.current=d==="mounted"?m:"none"},[d]),Cn(()=>{const m=a.current,y=i.current;if(y!==e){const b=l.current,w=gf(m);e?h("MOUNT"):w==="none"||m?.display==="none"?h("UNMOUNT"):h(y&&b!==w?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,h]),Cn(()=>{if(t){let m;const y=t.ownerDocument.defaultView??window,p=w=>{const _=gf(a.current).includes(CSS.escape(w.animationName));if(w.target===t&&_&&(h("ANIMATION_END"),!i.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",m=y.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},b=w=>{w.target===t&&(l.current=gf(a.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{y.clearTimeout(m),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:g.useCallback(m=>{a.current=m?getComputedStyle(m):null,n(m)},[])}}function gf(e){return e?.animationName||"none"}function K5(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Ig="rovingFocusGroup.onEntryFocus",W5={bubbles:!1,cancelable:!0},Au="RovingFocusGroup",[Av,TE,G5]=Sh(Au),[Y5,Th]=br(Au,[G5]),[Q5,X5]=Y5(Au),AE=g.forwardRef((e,t)=>o.jsx(Av.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Av.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(J5,{...e,ref:t})})}));AE.displayName=Au;var J5=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:i=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:h,onEntryFocus:m,preventScrollOnEntryFocus:y=!1,...p}=e,b=g.useRef(null),w=it(t,b),S=Eu(l),[_,j]=ta({prop:u,defaultProp:d??null,onChange:h,caller:Au}),[C,E]=g.useState(!1),k=ga(m),A=TE(n),L=g.useRef(!1),[P,T]=g.useState(0);return g.useEffect(()=>{const z=b.current;if(z)return z.addEventListener(Ig,k),()=>z.removeEventListener(Ig,k)},[k]),o.jsx(Q5,{scope:n,orientation:a,dir:S,loop:i,currentTabStopId:_,onItemFocus:g.useCallback(z=>j(z),[j]),onItemShiftTab:g.useCallback(()=>E(!0),[]),onFocusableItemAdd:g.useCallback(()=>T(z=>z+1),[]),onFocusableItemRemove:g.useCallback(()=>T(z=>z-1),[]),children:o.jsx(Ke.div,{tabIndex:C||P===0?-1:0,"data-orientation":a,...p,ref:w,style:{outline:"none",...e.style},onMouseDown:Ee(e.onMouseDown,()=>{L.current=!0}),onFocus:Ee(e.onFocus,z=>{const Z=!L.current;if(z.target===z.currentTarget&&Z&&!C){const V=new CustomEvent(Ig,W5);if(z.currentTarget.dispatchEvent(V),!V.defaultPrevented){const H=A().filter(R=>R.focusable),K=H.find(R=>R.active),M=H.find(R=>R.id===_),J=[K,M,...H].filter(Boolean).map(R=>R.ref.current);ME(J,y)}}L.current=!1}),onBlur:Ee(e.onBlur,()=>E(!1))})})}),OE="RovingFocusGroupItem",DE=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:i=!1,tabStopId:l,children:u,...d}=e,h=Mr(),m=l||h,y=X5(OE,n),p=y.currentTabStopId===m,b=TE(n),{onFocusableItemAdd:w,onFocusableItemRemove:S,currentTabStopId:_}=y;return g.useEffect(()=>{if(a)return w(),()=>S()},[a,w,S]),o.jsx(Av.ItemSlot,{scope:n,id:m,focusable:a,active:i,children:o.jsx(Ke.span,{tabIndex:p?0:-1,"data-orientation":y.orientation,...d,ref:t,onMouseDown:Ee(e.onMouseDown,j=>{a?y.onItemFocus(m):j.preventDefault()}),onFocus:Ee(e.onFocus,()=>y.onItemFocus(m)),onKeyDown:Ee(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){y.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const C=t$(j,y.orientation,y.dir);if(C!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let k=b().filter(A=>A.focusable).map(A=>A.ref.current);if(C==="last")k.reverse();else if(C==="prev"||C==="next"){C==="prev"&&k.reverse();const A=k.indexOf(j.currentTarget);k=y.loop?n$(k,A+1):k.slice(A+1)}setTimeout(()=>ME(k))}}),children:typeof u=="function"?u({isCurrentTabStop:p,hasTabStop:_!=null}):u})})});DE.displayName=OE;var Z5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function e$(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function t$(e,t,n){const a=e$(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return Z5[a]}function ME(e,t=!1){const n=document.activeElement;for(const a of e)if(a===n||(a.focus({preventScroll:t}),document.activeElement!==n))return}function n$(e,t){return e.map((n,a)=>e[(t+a)%e.length])}var PE=AE,LE=DE;function r$(e){const t=a$(e),n=g.forwardRef((a,i)=>{const{children:l,...u}=a,d=g.Children.toArray(l),h=d.find(i$);if(h){const m=h.props.children,y=d.map(p=>p===h?g.Children.count(m)>1?g.Children.only(null):g.isValidElement(m)?m.props.children:null:p);return o.jsx(t,{...u,ref:i,children:g.isValidElement(m)?g.cloneElement(m,void 0,y):null})}return o.jsx(t,{...u,ref:i,children:l})});return n.displayName=`${e}.Slot`,n}function a$(e){const t=g.forwardRef((n,a)=>{const{children:i,...l}=n;if(g.isValidElement(i)){const u=l$(i),d=o$(l,i.props);return i.type!==g.Fragment&&(d.ref=a?Ba(a,u):u),g.cloneElement(i,d)}return g.Children.count(i)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var s$=Symbol("radix.slottable");function i$(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===s$}function o$(e,t){const n={...t};for(const a in t){const i=e[a],l=t[a];/^on[A-Z]/.test(a)?i&&l?n[a]=(...d)=>{const h=l(...d);return i(...d),h}:i&&(n[a]=i):a==="style"?n[a]={...i,...l}:a==="className"&&(n[a]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function l$(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var c$=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Xo=new WeakMap,vf=new WeakMap,yf={},$g=0,zE=function(e){return e&&(e.host||zE(e.parentNode))},u$=function(e,t){return t.map(function(n){if(e.contains(n))return n;var a=zE(n);return a&&e.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},d$=function(e,t,n,a){var i=u$(t,Array.isArray(e)?e:[e]);yf[n]||(yf[n]=new WeakMap);var l=yf[n],u=[],d=new Set,h=new Set(i),m=function(p){!p||d.has(p)||(d.add(p),m(p.parentNode))};i.forEach(m);var y=function(p){!p||h.has(p)||Array.prototype.forEach.call(p.children,function(b){if(d.has(b))y(b);else try{var w=b.getAttribute(a),S=w!==null&&w!=="false",_=(Xo.get(b)||0)+1,j=(l.get(b)||0)+1;Xo.set(b,_),l.set(b,j),u.push(b),_===1&&S&&vf.set(b,!0),j===1&&b.setAttribute(n,"true"),S||b.setAttribute(a,"true")}catch(C){console.error("aria-hidden: cannot operate on ",b,C)}})};return y(t),d.clear(),$g++,function(){u.forEach(function(p){var b=Xo.get(p)-1,w=l.get(p)-1;Xo.set(p,b),l.set(p,w),b||(vf.has(p)||p.removeAttribute(a),vf.delete(p)),w||p.removeAttribute(n)}),$g--,$g||(Xo=new WeakMap,Xo=new WeakMap,vf=new WeakMap,yf={})}},Ah=function(e,t,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),i=c$(e);return i?(a.push.apply(a,Array.from(i.querySelectorAll("[aria-live], script"))),d$(a,i,n,"aria-hidden")):function(){return null}},Tf="right-scroll-bar-position",Af="width-before-scroll-bar",f$="with-scroll-bars-hidden",h$="--removed-body-scroll-bar-size";function Fg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function m$(e,t){var n=g.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(a){var i=n.value;i!==a&&(n.value=a,n.callback(a,i))}}}})[0];return n.callback=t,n.facade}var p$=typeof window<"u"?g.useLayoutEffect:g.useEffect,Sj=new WeakMap;function g$(e,t){var n=m$(null,function(a){return e.forEach(function(i){return Fg(i,a)})});return p$(function(){var a=Sj.get(n);if(a){var i=new Set(a),l=new Set(e),u=n.current;i.forEach(function(d){l.has(d)||Fg(d,null)}),l.forEach(function(d){i.has(d)||Fg(d,u)})}Sj.set(n,e)},[e]),n}function v$(e){return e}function y$(e,t){t===void 0&&(t=v$);var n=[],a=!1,i={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(l){var u=t(l,a);return n.push(u),function(){n=n.filter(function(d){return d!==u})}},assignSyncMedium:function(l){for(a=!0;n.length;){var u=n;n=[],u.forEach(l)}n={push:function(d){return l(d)},filter:function(){return n}}},assignMedium:function(l){a=!0;var u=[];if(n.length){var d=n;n=[],d.forEach(l),u=n}var h=function(){var y=u;u=[],y.forEach(l)},m=function(){return Promise.resolve().then(h)};m(),n={push:function(y){u.push(y),m()},filter:function(y){return u=u.filter(y),n}}}};return i}function x$(e){e===void 0&&(e={});var t=y$(null);return t.options=Ta({async:!0,ssr:!1},e),t}var UE=function(e){var t=e.sideCar,n=El(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return g.createElement(a,Ta({},n))};UE.isSideCarExport=!0;function b$(e,t){return e.useMedium(t),UE}var IE=x$(),Bg=function(){},Oh=g.forwardRef(function(e,t){var n=g.useRef(null),a=g.useState({onScrollCapture:Bg,onWheelCapture:Bg,onTouchMoveCapture:Bg}),i=a[0],l=a[1],u=e.forwardProps,d=e.children,h=e.className,m=e.removeScrollBar,y=e.enabled,p=e.shards,b=e.sideCar,w=e.noRelative,S=e.noIsolation,_=e.inert,j=e.allowPinchZoom,C=e.as,E=C===void 0?"div":C,k=e.gapMode,A=El(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=b,P=g$([n,t]),T=Ta(Ta({},A),i);return g.createElement(g.Fragment,null,y&&g.createElement(L,{sideCar:IE,removeScrollBar:m,shards:p,noRelative:w,noIsolation:S,inert:_,setCallbacks:l,allowPinchZoom:!!j,lockRef:n,gapMode:k}),u?g.cloneElement(g.Children.only(d),Ta(Ta({},T),{ref:P})):g.createElement(E,Ta({},T,{className:h,ref:P}),d))});Oh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Oh.classNames={fullWidth:Af,zeroRight:Tf};var w$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _$(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=w$();return t&&e.setAttribute("nonce",t),e}function S$(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function j$(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var C$=function(){var e=0,t=null;return{add:function(n){e==0&&(t=_$())&&(S$(t,n),j$(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},E$=function(){var e=C$();return function(t,n){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},$E=function(){var e=E$(),t=function(n){var a=n.styles,i=n.dynamic;return e(a,i),null};return t},N$={left:0,top:0,right:0,gap:0},qg=function(e){return parseInt(e||"",10)||0},k$=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[qg(n),qg(a),qg(i)]},R$=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return N$;var t=k$(e),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-n+t[2]-t[0])}},T$=$E(),ul="data-scroll-locked",A$=function(e,t,n,a){var i=e.left,l=e.top,u=e.right,d=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(f$,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(d,"px ").concat(a,`;
  }
  body[`).concat(ul,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Tf,` {
    right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(Af,` {
    margin-right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(Tf," .").concat(Tf,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Af," .").concat(Af,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(ul,`] {
    `).concat(h$,": ").concat(d,`px;
  }
`)},jj=function(){var e=parseInt(document.body.getAttribute(ul)||"0",10);return isFinite(e)?e:0},O$=function(){g.useEffect(function(){return document.body.setAttribute(ul,(jj()+1).toString()),function(){var e=jj()-1;e<=0?document.body.removeAttribute(ul):document.body.setAttribute(ul,e.toString())}},[])},D$=function(e){var t=e.noRelative,n=e.noImportant,a=e.gapMode,i=a===void 0?"margin":a;O$();var l=g.useMemo(function(){return R$(i)},[i]);return g.createElement(T$,{styles:A$(l,!t,i,n?"":"!important")})},Ov=!1;if(typeof window<"u")try{var xf=Object.defineProperty({},"passive",{get:function(){return Ov=!0,!0}});window.addEventListener("test",xf,xf),window.removeEventListener("test",xf,xf)}catch{Ov=!1}var Jo=Ov?{passive:!1}:!1,M$=function(e){return e.tagName==="TEXTAREA"},FE=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!M$(e)&&n[t]==="visible")},P$=function(e){return FE(e,"overflowY")},L$=function(e){return FE(e,"overflowX")},Cj=function(e,t){var n=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var i=BE(e,a);if(i){var l=qE(e,a),u=l[1],d=l[2];if(u>d)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},z$=function(e){var t=e.scrollTop,n=e.scrollHeight,a=e.clientHeight;return[t,n,a]},U$=function(e){var t=e.scrollLeft,n=e.scrollWidth,a=e.clientWidth;return[t,n,a]},BE=function(e,t){return e==="v"?P$(t):L$(t)},qE=function(e,t){return e==="v"?z$(t):U$(t)},I$=function(e,t){return e==="h"&&t==="rtl"?-1:1},$$=function(e,t,n,a,i){var l=I$(e,window.getComputedStyle(t).direction),u=l*a,d=n.target,h=t.contains(d),m=!1,y=u>0,p=0,b=0;do{if(!d)break;var w=qE(e,d),S=w[0],_=w[1],j=w[2],C=_-j-l*S;(S||C)&&BE(e,d)&&(p+=C,b+=S);var E=d.parentNode;d=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!h&&d!==document.body||h&&(t.contains(d)||t===d));return(y&&Math.abs(p)<1||!y&&Math.abs(b)<1)&&(m=!0),m},bf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ej=function(e){return[e.deltaX,e.deltaY]},Nj=function(e){return e&&"current"in e?e.current:e},F$=function(e,t){return e[0]===t[0]&&e[1]===t[1]},B$=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},q$=0,Zo=[];function H$(e){var t=g.useRef([]),n=g.useRef([0,0]),a=g.useRef(),i=g.useState(q$++)[0],l=g.useState($E)[0],u=g.useRef(e);g.useEffect(function(){u.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var _=f4([e.lockRef.current],(e.shards||[]).map(Nj),!0).filter(Boolean);return _.forEach(function(j){return j.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var d=g.useCallback(function(_,j){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!u.current.allowPinchZoom;var C=bf(_),E=n.current,k="deltaX"in _?_.deltaX:E[0]-C[0],A="deltaY"in _?_.deltaY:E[1]-C[1],L,P=_.target,T=Math.abs(k)>Math.abs(A)?"h":"v";if("touches"in _&&T==="h"&&P.type==="range")return!1;var z=window.getSelection(),Z=z&&z.anchorNode,V=Z?Z===P||Z.contains(P):!1;if(V)return!1;var H=Cj(T,P);if(!H)return!0;if(H?L=T:(L=T==="v"?"h":"v",H=Cj(T,P)),!H)return!1;if(!a.current&&"changedTouches"in _&&(k||A)&&(a.current=L),!L)return!0;var K=a.current||L;return $$(K,j,_,K==="h"?k:A)},[]),h=g.useCallback(function(_){var j=_;if(!(!Zo.length||Zo[Zo.length-1]!==l)){var C="deltaY"in j?Ej(j):bf(j),E=t.current.filter(function(L){return L.name===j.type&&(L.target===j.target||j.target===L.shadowParent)&&F$(L.delta,C)})[0];if(E&&E.should){j.cancelable&&j.preventDefault();return}if(!E){var k=(u.current.shards||[]).map(Nj).filter(Boolean).filter(function(L){return L.contains(j.target)}),A=k.length>0?d(j,k[0]):!u.current.noIsolation;A&&j.cancelable&&j.preventDefault()}}},[]),m=g.useCallback(function(_,j,C,E){var k={name:_,delta:j,target:C,should:E,shadowParent:V$(C)};t.current.push(k),setTimeout(function(){t.current=t.current.filter(function(A){return A!==k})},1)},[]),y=g.useCallback(function(_){n.current=bf(_),a.current=void 0},[]),p=g.useCallback(function(_){m(_.type,Ej(_),_.target,d(_,e.lockRef.current))},[]),b=g.useCallback(function(_){m(_.type,bf(_),_.target,d(_,e.lockRef.current))},[]);g.useEffect(function(){return Zo.push(l),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:b}),document.addEventListener("wheel",h,Jo),document.addEventListener("touchmove",h,Jo),document.addEventListener("touchstart",y,Jo),function(){Zo=Zo.filter(function(_){return _!==l}),document.removeEventListener("wheel",h,Jo),document.removeEventListener("touchmove",h,Jo),document.removeEventListener("touchstart",y,Jo)}},[]);var w=e.removeScrollBar,S=e.inert;return g.createElement(g.Fragment,null,S?g.createElement(l,{styles:B$(i)}):null,w?g.createElement(D$,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function V$(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const K$=b$(IE,H$);var Ou=g.forwardRef(function(e,t){return g.createElement(Oh,Ta({},e,{ref:t,sideCar:K$}))});Ou.classNames=Oh.classNames;var Dv=["Enter"," "],W$=["ArrowDown","PageUp","Home"],HE=["ArrowUp","PageDown","End"],G$=[...W$,...HE],Y$={ltr:[...Dv,"ArrowRight"],rtl:[...Dv,"ArrowLeft"]},Q$={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Du="Menu",[uu,X$,J$]=Sh(Du),[oo,VE]=br(Du,[J$,Ol,Th]),Dh=Ol(),KE=Th(),[Z$,lo]=oo(Du),[e6,Mu]=oo(Du),WE=e=>{const{__scopeMenu:t,open:n=!1,children:a,dir:i,onOpenChange:l,modal:u=!0}=e,d=Dh(t),[h,m]=g.useState(null),y=g.useRef(!1),p=ga(l),b=Eu(i);return g.useEffect(()=>{const w=()=>{y.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>y.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),o.jsx(My,{...d,children:o.jsx(Z$,{scope:t,open:n,onOpenChange:p,content:h,onContentChange:m,children:o.jsx(e6,{scope:t,onClose:g.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:y,dir:b,modal:u,children:a})})})};WE.displayName=Du;var t6="MenuAnchor",zy=g.forwardRef((e,t)=>{const{__scopeMenu:n,...a}=e,i=Dh(n);return o.jsx(Rh,{...i,...a,ref:t})});zy.displayName=t6;var Uy="MenuPortal",[n6,GE]=oo(Uy,{forceMount:void 0}),YE=e=>{const{__scopeMenu:t,forceMount:n,children:a,container:i}=e,l=lo(Uy,t);return o.jsx(n6,{scope:t,forceMount:n,children:o.jsx(zr,{present:n||l.open,children:o.jsx(Tu,{asChild:!0,container:i,children:a})})})};YE.displayName=Uy;var Zr="MenuContent",[r6,Iy]=oo(Zr),QE=g.forwardRef((e,t)=>{const n=GE(Zr,e.__scopeMenu),{forceMount:a=n.forceMount,...i}=e,l=lo(Zr,e.__scopeMenu),u=Mu(Zr,e.__scopeMenu);return o.jsx(uu.Provider,{scope:e.__scopeMenu,children:o.jsx(zr,{present:a||l.open,children:o.jsx(uu.Slot,{scope:e.__scopeMenu,children:u.modal?o.jsx(a6,{...i,ref:t}):o.jsx(s6,{...i,ref:t})})})})}),a6=g.forwardRef((e,t)=>{const n=lo(Zr,e.__scopeMenu),a=g.useRef(null),i=it(t,a);return g.useEffect(()=>{const l=a.current;if(l)return Ah(l)},[]),o.jsx($y,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ee(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),s6=g.forwardRef((e,t)=>{const n=lo(Zr,e.__scopeMenu);return o.jsx($y,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),i6=r$("MenuContent.ScrollLock"),$y=g.forwardRef((e,t)=>{const{__scopeMenu:n,loop:a=!1,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:u,disableOutsidePointerEvents:d,onEntryFocus:h,onEscapeKeyDown:m,onPointerDownOutside:y,onFocusOutside:p,onInteractOutside:b,onDismiss:w,disableOutsideScroll:S,..._}=e,j=lo(Zr,n),C=Mu(Zr,n),E=Dh(n),k=KE(n),A=X$(n),[L,P]=g.useState(null),T=g.useRef(null),z=it(t,T,j.onContentChange),Z=g.useRef(0),V=g.useRef(""),H=g.useRef(0),K=g.useRef(null),M=g.useRef("right"),Y=g.useRef(0),J=S?Ou:g.Fragment,R=S?{as:i6,allowPinchZoom:!0}:void 0,U=X=>{const G=V.current+X,D=A().filter(ie=>!ie.disabled),$=document.activeElement,q=D.find(ie=>ie.ref.current===$)?.textValue,ae=D.map(ie=>ie.textValue),de=y6(ae,G,q),pe=D.find(ie=>ie.textValue===de)?.ref.current;(function ie(ge){V.current=ge,window.clearTimeout(Z.current),ge!==""&&(Z.current=window.setTimeout(()=>ie(""),1e3))})(G),pe&&setTimeout(()=>pe.focus())};g.useEffect(()=>()=>window.clearTimeout(Z.current),[]),jh();const F=g.useCallback(X=>M.current===K.current?.side&&b6(X,K.current?.area),[]);return o.jsx(r6,{scope:n,searchRef:V,onItemEnter:g.useCallback(X=>{F(X)&&X.preventDefault()},[F]),onItemLeave:g.useCallback(X=>{F(X)||(T.current?.focus(),P(null))},[F]),onTriggerLeave:g.useCallback(X=>{F(X)&&X.preventDefault()},[F]),pointerGraceTimerRef:H,onPointerGraceIntentChange:g.useCallback(X=>{K.current=X},[]),children:o.jsx(J,{...R,children:o.jsx(ku,{asChild:!0,trapped:i,onMountAutoFocus:Ee(l,X=>{X.preventDefault(),T.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:o.jsx(Nu,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:m,onPointerDownOutside:y,onFocusOutside:p,onInteractOutside:b,onDismiss:w,children:o.jsx(PE,{asChild:!0,...k,dir:C.dir,orientation:"vertical",loop:a,currentTabStopId:L,onCurrentTabStopIdChange:P,onEntryFocus:Ee(h,X=>{C.isUsingKeyboardRef.current||X.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(Py,{role:"menu","aria-orientation":"vertical","data-state":fN(j.open),"data-radix-menu-content":"",dir:C.dir,...E,..._,ref:z,style:{outline:"none",..._.style},onKeyDown:Ee(_.onKeyDown,X=>{const D=X.target.closest("[data-radix-menu-content]")===X.currentTarget,$=X.ctrlKey||X.altKey||X.metaKey,q=X.key.length===1;D&&(X.key==="Tab"&&X.preventDefault(),!$&&q&&U(X.key));const ae=T.current;if(X.target!==ae||!G$.includes(X.key))return;X.preventDefault();const pe=A().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);HE.includes(X.key)&&pe.reverse(),g6(pe)}),onBlur:Ee(e.onBlur,X=>{X.currentTarget.contains(X.target)||(window.clearTimeout(Z.current),V.current="")}),onPointerMove:Ee(e.onPointerMove,du(X=>{const G=X.target,D=Y.current!==X.clientX;if(X.currentTarget.contains(G)&&D){const $=X.clientX>Y.current?"right":"left";M.current=$,Y.current=X.clientX}}))})})})})})})});QE.displayName=Zr;var o6="MenuGroup",Fy=g.forwardRef((e,t)=>{const{__scopeMenu:n,...a}=e;return o.jsx(Ke.div,{role:"group",...a,ref:t})});Fy.displayName=o6;var l6="MenuLabel",XE=g.forwardRef((e,t)=>{const{__scopeMenu:n,...a}=e;return o.jsx(Ke.div,{...a,ref:t})});XE.displayName=l6;var Gf="MenuItem",kj="menu.itemSelect",Mh=g.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:a,...i}=e,l=g.useRef(null),u=Mu(Gf,e.__scopeMenu),d=Iy(Gf,e.__scopeMenu),h=it(t,l),m=g.useRef(!1),y=()=>{const p=l.current;if(!n&&p){const b=new CustomEvent(kj,{bubbles:!0,cancelable:!0});p.addEventListener(kj,w=>a?.(w),{once:!0}),sE(p,b),b.defaultPrevented?m.current=!1:u.onClose()}};return o.jsx(JE,{...i,ref:h,disabled:n,onClick:Ee(e.onClick,y),onPointerDown:p=>{e.onPointerDown?.(p),m.current=!0},onPointerUp:Ee(e.onPointerUp,p=>{m.current||p.currentTarget?.click()}),onKeyDown:Ee(e.onKeyDown,p=>{const b=d.searchRef.current!=="";n||b&&p.key===" "||Dv.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});Mh.displayName=Gf;var JE=g.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:a=!1,textValue:i,...l}=e,u=Iy(Gf,n),d=KE(n),h=g.useRef(null),m=it(t,h),[y,p]=g.useState(!1),[b,w]=g.useState("");return g.useEffect(()=>{const S=h.current;S&&w((S.textContent??"").trim())},[l.children]),o.jsx(uu.ItemSlot,{scope:n,disabled:a,textValue:i??b,children:o.jsx(LE,{asChild:!0,...d,focusable:!a,children:o.jsx(Ke.div,{role:"menuitem","data-highlighted":y?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...l,ref:m,onPointerMove:Ee(e.onPointerMove,du(S=>{a?u.onItemLeave(S):(u.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ee(e.onPointerLeave,du(S=>u.onItemLeave(S))),onFocus:Ee(e.onFocus,()=>p(!0)),onBlur:Ee(e.onBlur,()=>p(!1))})})})}),c6="MenuCheckboxItem",ZE=g.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:a,...i}=e;return o.jsx(aN,{scope:e.__scopeMenu,checked:n,children:o.jsx(Mh,{role:"menuitemcheckbox","aria-checked":Yf(n)?"mixed":n,...i,ref:t,"data-state":qy(n),onSelect:Ee(i.onSelect,()=>a?.(Yf(n)?!0:!n),{checkForDefaultPrevented:!1})})})});ZE.displayName=c6;var eN="MenuRadioGroup",[u6,d6]=oo(eN,{value:void 0,onValueChange:()=>{}}),tN=g.forwardRef((e,t)=>{const{value:n,onValueChange:a,...i}=e,l=ga(a);return o.jsx(u6,{scope:e.__scopeMenu,value:n,onValueChange:l,children:o.jsx(Fy,{...i,ref:t})})});tN.displayName=eN;var nN="MenuRadioItem",rN=g.forwardRef((e,t)=>{const{value:n,...a}=e,i=d6(nN,e.__scopeMenu),l=n===i.value;return o.jsx(aN,{scope:e.__scopeMenu,checked:l,children:o.jsx(Mh,{role:"menuitemradio","aria-checked":l,...a,ref:t,"data-state":qy(l),onSelect:Ee(a.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});rN.displayName=nN;var By="MenuItemIndicator",[aN,f6]=oo(By,{checked:!1}),sN=g.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:a,...i}=e,l=f6(By,n);return o.jsx(zr,{present:a||Yf(l.checked)||l.checked===!0,children:o.jsx(Ke.span,{...i,ref:t,"data-state":qy(l.checked)})})});sN.displayName=By;var h6="MenuSeparator",iN=g.forwardRef((e,t)=>{const{__scopeMenu:n,...a}=e;return o.jsx(Ke.div,{role:"separator","aria-orientation":"horizontal",...a,ref:t})});iN.displayName=h6;var m6="MenuArrow",oN=g.forwardRef((e,t)=>{const{__scopeMenu:n,...a}=e,i=Dh(n);return o.jsx(Ly,{...i,...a,ref:t})});oN.displayName=m6;var p6="MenuSub",[AK,lN]=oo(p6),Ic="MenuSubTrigger",cN=g.forwardRef((e,t)=>{const n=lo(Ic,e.__scopeMenu),a=Mu(Ic,e.__scopeMenu),i=lN(Ic,e.__scopeMenu),l=Iy(Ic,e.__scopeMenu),u=g.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:h}=l,m={__scopeMenu:e.__scopeMenu},y=g.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return g.useEffect(()=>y,[y]),g.useEffect(()=>{const p=d.current;return()=>{window.clearTimeout(p),h(null)}},[d,h]),o.jsx(zy,{asChild:!0,...m,children:o.jsx(JE,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":fN(n.open),...e,ref:Ba(t,i.onTriggerChange),onClick:p=>{e.onClick?.(p),!(e.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ee(e.onPointerMove,du(p=>{l.onItemEnter(p),!p.defaultPrevented&&!e.disabled&&!n.open&&!u.current&&(l.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),y()},100))})),onPointerLeave:Ee(e.onPointerLeave,du(p=>{y();const b=n.content?.getBoundingClientRect();if(b){const w=n.content?.dataset.side,S=w==="right",_=S?-5:5,j=b[S?"left":"right"],C=b[S?"right":"left"];l.onPointerGraceIntentChange({area:[{x:p.clientX+_,y:p.clientY},{x:j,y:b.top},{x:C,y:b.top},{x:C,y:b.bottom},{x:j,y:b.bottom}],side:w}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(p),p.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:Ee(e.onKeyDown,p=>{const b=l.searchRef.current!=="";e.disabled||b&&p.key===" "||Y$[a.dir].includes(p.key)&&(n.onOpenChange(!0),n.content?.focus(),p.preventDefault())})})})});cN.displayName=Ic;var uN="MenuSubContent",dN=g.forwardRef((e,t)=>{const n=GE(Zr,e.__scopeMenu),{forceMount:a=n.forceMount,...i}=e,l=lo(Zr,e.__scopeMenu),u=Mu(Zr,e.__scopeMenu),d=lN(uN,e.__scopeMenu),h=g.useRef(null),m=it(t,h);return o.jsx(uu.Provider,{scope:e.__scopeMenu,children:o.jsx(zr,{present:a||l.open,children:o.jsx(uu.Slot,{scope:e.__scopeMenu,children:o.jsx($y,{id:d.contentId,"aria-labelledby":d.triggerId,...i,ref:m,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:y=>{u.isUsingKeyboardRef.current&&h.current?.focus(),y.preventDefault()},onCloseAutoFocus:y=>y.preventDefault(),onFocusOutside:Ee(e.onFocusOutside,y=>{y.target!==d.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:Ee(e.onEscapeKeyDown,y=>{u.onClose(),y.preventDefault()}),onKeyDown:Ee(e.onKeyDown,y=>{const p=y.currentTarget.contains(y.target),b=Q$[u.dir].includes(y.key);p&&b&&(l.onOpenChange(!1),d.trigger?.focus(),y.preventDefault())})})})})})});dN.displayName=uN;function fN(e){return e?"open":"closed"}function Yf(e){return e==="indeterminate"}function qy(e){return Yf(e)?"indeterminate":e?"checked":"unchecked"}function g6(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function v6(e,t){return e.map((n,a)=>e[(t+a)%e.length])}function y6(e,t,n){const i=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,l=n?e.indexOf(n):-1;let u=v6(e,Math.max(l,0));i.length===1&&(u=u.filter(m=>m!==n));const h=u.find(m=>m.toLowerCase().startsWith(i.toLowerCase()));return h!==n?h:void 0}function x6(e,t){const{x:n,y:a}=e;let i=!1;for(let l=0,u=t.length-1;l<t.length;u=l++){const d=t[l],h=t[u],m=d.x,y=d.y,p=h.x,b=h.y;y>a!=b>a&&n<(p-m)*(a-y)/(b-y)+m&&(i=!i)}return i}function b6(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return x6(n,t)}function du(e){return t=>t.pointerType==="mouse"?e(t):void 0}var w6=WE,_6=zy,S6=YE,j6=QE,C6=Fy,E6=XE,N6=Mh,k6=ZE,R6=tN,T6=rN,A6=sN,O6=iN,D6=oN,M6=cN,P6=dN,Ph="DropdownMenu",[L6]=br(Ph,[VE]),sr=VE(),[z6,hN]=L6(Ph),mN=e=>{const{__scopeDropdownMenu:t,children:n,dir:a,open:i,defaultOpen:l,onOpenChange:u,modal:d=!0}=e,h=sr(t),m=g.useRef(null),[y,p]=ta({prop:i,defaultProp:l??!1,onChange:u,caller:Ph});return o.jsx(z6,{scope:t,triggerId:Mr(),triggerRef:m,contentId:Mr(),open:y,onOpenChange:p,onOpenToggle:g.useCallback(()=>p(b=>!b),[p]),modal:d,children:o.jsx(w6,{...h,open:y,onOpenChange:p,dir:a,modal:d,children:n})})};mN.displayName=Ph;var pN="DropdownMenuTrigger",gN=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:a=!1,...i}=e,l=hN(pN,n),u=sr(n);return o.jsx(_6,{asChild:!0,...u,children:o.jsx(Ke.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...i,ref:Ba(t,l.triggerRef),onPointerDown:Ee(e.onPointerDown,d=>{!a&&d.button===0&&d.ctrlKey===!1&&(l.onOpenToggle(),l.open||d.preventDefault())}),onKeyDown:Ee(e.onKeyDown,d=>{a||(["Enter"," "].includes(d.key)&&l.onOpenToggle(),d.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});gN.displayName=pN;var U6="DropdownMenuPortal",vN=e=>{const{__scopeDropdownMenu:t,...n}=e,a=sr(t);return o.jsx(S6,{...a,...n})};vN.displayName=U6;var yN="DropdownMenuContent",xN=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,i=hN(yN,n),l=sr(n),u=g.useRef(!1);return o.jsx(j6,{id:i.contentId,"aria-labelledby":i.triggerId,...l,...a,ref:t,onCloseAutoFocus:Ee(e.onCloseAutoFocus,d=>{u.current||i.triggerRef.current?.focus(),u.current=!1,d.preventDefault()}),onInteractOutside:Ee(e.onInteractOutside,d=>{const h=d.detail.originalEvent,m=h.button===0&&h.ctrlKey===!0,y=h.button===2||m;(!i.modal||y)&&(u.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});xN.displayName=yN;var I6="DropdownMenuGroup",$6=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,i=sr(n);return o.jsx(C6,{...i,...a,ref:t})});$6.displayName=I6;var F6="DropdownMenuLabel",bN=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,i=sr(n);return o.jsx(E6,{...i,...a,ref:t})});bN.displayName=F6;var B6="DropdownMenuItem",wN=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,i=sr(n);return o.jsx(N6,{...i,...a,ref:t})});wN.displayName=B6;var q6="DropdownMenuCheckboxItem",_N=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,i=sr(n);return o.jsx(k6,{...i,...a,ref:t})});_N.displayName=q6;var H6="DropdownMenuRadioGroup",V6=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,i=sr(n);return o.jsx(R6,{...i,...a,ref:t})});V6.displayName=H6;var K6="DropdownMenuRadioItem",SN=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,i=sr(n);return o.jsx(T6,{...i,...a,ref:t})});SN.displayName=K6;var W6="DropdownMenuItemIndicator",jN=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,i=sr(n);return o.jsx(A6,{...i,...a,ref:t})});jN.displayName=W6;var G6="DropdownMenuSeparator",CN=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,i=sr(n);return o.jsx(O6,{...i,...a,ref:t})});CN.displayName=G6;var Y6="DropdownMenuArrow",Q6=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,i=sr(n);return o.jsx(D6,{...i,...a,ref:t})});Q6.displayName=Y6;var X6="DropdownMenuSubTrigger",EN=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,i=sr(n);return o.jsx(M6,{...i,...a,ref:t})});EN.displayName=X6;var J6="DropdownMenuSubContent",NN=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,i=sr(n);return o.jsx(P6,{...i,...a,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});NN.displayName=J6;var Z6=mN,eF=gN,tF=vN,kN=xN,RN=bN,TN=wN,AN=_N,ON=SN,DN=jN,MN=CN,PN=EN,LN=NN;const Qf=Z6,Xf=eF,nF=g.forwardRef(({className:e,inset:t,children:n,...a},i)=>o.jsxs(PN,{ref:i,className:Ce("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-primary/10 data-[state=open]:bg-primary/10 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...a,children:[n,o.jsx(ni,{className:"ml-auto"})]}));nF.displayName=PN.displayName;const rF=g.forwardRef(({className:e,...t},n)=>o.jsx(LN,{ref:n,className:Ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));rF.displayName=LN.displayName;const fu=g.forwardRef(({className:e,sideOffset:t=4,...n},a)=>o.jsx(tF,{children:o.jsx(kN,{ref:a,sideOffset:t,className:Ce("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));fu.displayName=kN.displayName;const Vi=g.forwardRef(({className:e,inset:t,...n},a)=>o.jsx(TN,{ref:a,className:Ce("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-primary/10 focus:text-primary data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...n}));Vi.displayName=TN.displayName;const aF=g.forwardRef(({className:e,children:t,checked:n,...a},i)=>o.jsxs(AN,{ref:i,className:Ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-primary/10 focus:text-primary data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...a,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(DN,{children:o.jsx(xy,{className:"h-4 w-4"})})}),t]}));aF.displayName=AN.displayName;const sF=g.forwardRef(({className:e,children:t,...n},a)=>o.jsxs(ON,{ref:a,className:Ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-primary/10 focus:text-primary data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(DN,{children:o.jsx(fU,{className:"h-2 w-2 fill-current"})})}),t]}));sF.displayName=ON.displayName;const iF=g.forwardRef(({className:e,inset:t,...n},a)=>o.jsx(RN,{ref:a,className:Ce("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));iF.displayName=RN.displayName;const Mv=g.forwardRef(({className:e,...t},n)=>o.jsx(MN,{ref:n,className:Ce("-mx-1 my-1 h-px bg-muted",e),...t}));Mv.displayName=MN.displayName;function oF({userRole:e="client",orgName:t,userName:n,userEmail:a,userAvatar:i,userOrgs:l=[],navItems:u,appLinks:d=[],isOpen:h=!0,onClose:m}){const p=Fa().pathname,b=wa(),w=xn(),[S,_]=g.useState(!1),[j,C]=g.useState([]),[E,k]=g.useState(!1),[A,L]=g.useState(null),P=g.useRef(null);g.useEffect(()=>{S&&j.length===0&&T()},[S]);const T=async()=>{k(!0);try{const{data:M,error:Y}=await w.from("organizations").select("id, name, slug, logo_url, created_at").order("name");if(Y)throw Y;const R=(await Promise.all((M||[]).map(async U=>{const{data:F}=await w.from("profiles").select("id, email, full_name, role").eq("org_id",U.id).eq("role","client").eq("is_active",!0).order("full_name");return{...U,clients:F||[]}}))).filter(U=>U.clients&&U.clients.length>0);C(R)}catch(M){console.error("Error fetching organizations:",M)}finally{k(!1)}},z=async()=>{await w.auth.signOut(),b("/login")},Z=u.filter(M=>M.roles.includes(e)),V=Z.find(M=>{if(!M.children)return!1;const Y=M.href.split("/").slice(0,2).join("/");return p?.startsWith(Y)}),[H,K]=g.useState(V?.label||null);return g.useEffect(()=>{const M=Z.find(Y=>{if(!Y.children)return!1;const J=Y.href.split("/").slice(0,2).join("/");return p?.startsWith(J)});M&&K(M.label)},[p]),g.useEffect(()=>{const M=Y=>{P.current&&!P.current.contains(Y.target)&&window.innerWidth<768&&h&&m&&m()};return h&&document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[h,m]),g.useEffect(()=>{window.innerWidth<768&&m&&m()},[p,m]),o.jsxs(o.Fragment,{children:[h&&m&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:m}),o.jsxs("aside",{ref:P,className:`
          w-64 bg-background border-r border-border flex flex-col h-screen
          fixed md:static inset-y-0 left-0 z-50
          transform transition-transform duration-300 ease-in-out
          ${h?"translate-x-0":"-translate-x-full md:translate-x-0"}
        `,children:[m&&o.jsx("div",{className:"md:hidden p-4 flex justify-end",children:o.jsx(ve,{variant:"ghost",size:"icon",onClick:m,"aria-label":"Close menu",children:o.jsx(ri,{className:"w-5 h-5 text-foreground/80"})})}),o.jsx("div",{className:"p-4",children:o.jsxs(Qf,{children:[o.jsx(Xf,{asChild:!0,children:o.jsxs("button",{className:"w-full flex items-center gap-3 p-3 bg-primary rounded-lg shadow-sm hover:shadow-md hover:opacity-90 transition-all",children:[o.jsx(gr,{name:n||a||"User",email:a,role:e,src:i||void 0,size:"md"}),o.jsxs("div",{className:"flex-1 text-left min-w-0",children:[o.jsx("p",{className:"text-sm font-semibold text-white truncate",children:n||a}),o.jsx("p",{className:"text-xs text-white/70 truncate",children:t})]}),o.jsx(Ua,{className:"w-4 h-4 text-white/70 transition-transform"})]})}),o.jsxs(fu,{align:"start",className:"w-[var(--radix-dropdown-menu-trigger-width)]",children:[o.jsx(Vi,{asChild:!0,children:o.jsxs(Yi,{to:"/settings",className:"flex items-center gap-3",children:[o.jsx(_U,{className:"w-4 h-4 text-foreground/80"}),o.jsx("span",{className:"text-sm text-foreground",children:"Account Settings"})]})}),d.length>0&&o.jsxs(o.Fragment,{children:[o.jsx(Mv,{}),d.map(M=>o.jsx(Vi,{asChild:!0,children:o.jsxs("a",{href:M.href,className:"flex items-center gap-3",children:[o.jsx($C,{className:"w-4 h-4 text-foreground/80"}),o.jsx("span",{className:"text-sm text-foreground",children:M.label})]})},M.href))]}),o.jsx(Mv,{}),o.jsxs(Vi,{onClick:z,className:"flex items-center gap-3",children:[o.jsx(vU,{className:"w-4 h-4 text-destructive"}),o.jsx("span",{className:"text-sm text-destructive",children:"Logout"})]})]})]})}),l.length>1&&o.jsx("div",{className:"px-4 pb-2",children:o.jsxs(Qf,{children:[o.jsx(Xf,{asChild:!0,children:o.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 bg-secondary rounded-md hover:bg-secondary/80 transition-colors text-left",children:[o.jsx(Jn,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"}),o.jsx("span",{className:"text-sm text-foreground truncate flex-1",children:t||"Select Org"}),o.jsx(Ua,{className:"w-3.5 h-3.5 text-muted-foreground flex-shrink-0"})]})}),o.jsx(fu,{align:"start",className:"w-[var(--radix-dropdown-menu-trigger-width)]",children:l.map(M=>o.jsxs(Vi,{className:"flex items-center gap-2",disabled:M.orgName===t,children:[o.jsx(Jn,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:M.orgName===t?"font-medium":"",children:M.orgName}),M.isPrimary&&o.jsx("span",{className:"text-[10px] text-muted-foreground ml-auto",children:"Primary"})]},M.orgId))})]})}),o.jsx("nav",{className:"flex-1 p-4",children:o.jsx("ul",{className:"space-y-1",children:Z.map(M=>{const Y=M.icon,J=M.children&&M.children.length>0,R=H===M.label,U=M.children?M.href.split("/").slice(0,2).join("/"):null,F=U?p?.startsWith(U):!1,X=J?F:p===M.href||p?.startsWith(M.href+"/"),G=M.children?.filter(D=>D.roles.includes(e));return o.jsx("li",{children:J?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>K(R?null:M.label),className:`relative w-full flex items-center gap-3 px-4 py-3 rounded-md transition-all ${X?"bg-primary/15 text-foreground font-medium before:absolute before:left-0 before:top-1/2 before:-translate-y-1/2 before:w-1 before:h-8 before:bg-primary before:rounded-r":"text-muted-foreground hover:bg-secondary hover:text-foreground"}`,children:[o.jsx(Y,{className:"w-5 h-5"}),o.jsx("span",{className:"flex-1 text-left",children:M.label}),o.jsx(ni,{className:`w-4 h-4 transition-transform ${R?"rotate-90":""}`})]}),R&&G&&o.jsx("ul",{className:"ml-4 mt-1 space-y-1",children:G.map(D=>{const $=D.icon,q=p===D.href;return o.jsx("li",{children:o.jsxs(Yi,{to:D.href,className:`relative flex items-center gap-3 px-4 py-2.5 rounded-md transition-all text-sm ${q?"bg-primary/15 text-foreground font-medium before:absolute before:left-0 before:top-1/2 before:-translate-y-1/2 before:w-1 before:h-6 before:bg-primary before:rounded-r":"text-muted-foreground hover:bg-secondary hover:text-foreground"}`,children:[o.jsx($,{className:"w-4 h-4"}),o.jsx("span",{children:D.label})]})},D.href)})})]}):o.jsxs(Yi,{to:M.href,className:`relative flex items-center gap-3 px-4 py-3 rounded-md transition-all ${X?"bg-primary/15 text-foreground font-medium before:absolute before:left-0 before:top-1/2 before:-translate-y-1/2 before:w-1 before:h-8 before:bg-primary before:rounded-r":"text-muted-foreground hover:bg-secondary hover:text-foreground"}`,children:[o.jsx(Y,{className:"w-5 h-5"}),o.jsx("span",{children:M.label})]})},M.label)})})}),o.jsx("div",{className:"p-4 border-t border-border",children:["admin","manager"].includes(e)&&!1})]})]})}function Lh({className:e,variant:t="full",showText:n=!0}){return t==="icon"?o.jsx("img",{src:"/icons/h-mark.svg",alt:"Howard",width:40,height:40,className:e}):o.jsxs("div",{className:Ce("flex items-center gap-3",e),children:[o.jsx("img",{src:"/icons/h-mark.svg",alt:"Howard",width:40,height:40,className:"w-10 h-10"}),n&&o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-2xl font-serif italic text-foreground leading-none",children:"Howard"}),o.jsx("span",{className:"text-xs font-mono text-muted-foreground tracking-wider uppercase",children:"Financial Services"})]})]})}function lF({onMenuClick:e,orgName:t}){return o.jsxs("div",{className:"md:hidden sticky top-0 z-30 bg-card border-b border-border px-4 py-3 flex items-center gap-3",children:[o.jsx(ve,{onClick:e,variant:"ghost",size:"icon",className:"flex-shrink-0","aria-label":"Open menu",children:o.jsx(yU,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[o.jsx(Lh,{className:"w-6 h-6 flex-shrink-0"}),t&&o.jsx("span",{className:"text-sm font-medium text-foreground truncate",children:t})]})]})}function cF({userRole:e,orgName:t,userName:n,userEmail:a,userAvatar:i,userOrgs:l=[],navItems:u,appLinks:d=[],children:h}){const[m,y]=g.useState(!1);return o.jsxs("div",{className:"flex h-screen bg-card",children:[o.jsx(oF,{userRole:e,orgName:t,userName:n,userEmail:a,userAvatar:i,userOrgs:l,navItems:u,appLinks:d,isOpen:m,onClose:()=>y(!1)}),o.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx(lF,{onMenuClick:()=>y(!0),orgName:t}),h]})]})}function uF(e){const t=dF(e),n=g.forwardRef((a,i)=>{const{children:l,...u}=a,d=g.Children.toArray(l),h=d.find(hF);if(h){const m=h.props.children,y=d.map(p=>p===h?g.Children.count(m)>1?g.Children.only(null):g.isValidElement(m)?m.props.children:null:p);return o.jsx(t,{...u,ref:i,children:g.isValidElement(m)?g.cloneElement(m,void 0,y):null})}return o.jsx(t,{...u,ref:i,children:l})});return n.displayName=`${e}.Slot`,n}function dF(e){const t=g.forwardRef((n,a)=>{const{children:i,...l}=n;if(g.isValidElement(i)){const u=pF(i),d=mF(l,i.props);return i.type!==g.Fragment&&(d.ref=a?Ba(a,u):u),g.cloneElement(i,d)}return g.Children.count(i)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var fF=Symbol("radix.slottable");function hF(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===fF}function mF(e,t){const n={...t};for(const a in t){const i=e[a],l=t[a];/^on[A-Z]/.test(a)?i&&l?n[a]=(...d)=>{const h=l(...d);return i(...d),h}:i&&(n[a]=i):a==="style"?n[a]={...i,...l}:a==="className"&&(n[a]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function pF(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var zh="Dialog",[zN,UN]=br(zh),[gF,_a]=zN(zh),IN=e=>{const{__scopeDialog:t,children:n,open:a,defaultOpen:i,onOpenChange:l,modal:u=!0}=e,d=g.useRef(null),h=g.useRef(null),[m,y]=ta({prop:a,defaultProp:i??!1,onChange:l,caller:zh});return o.jsx(gF,{scope:t,triggerRef:d,contentRef:h,contentId:Mr(),titleId:Mr(),descriptionId:Mr(),open:m,onOpenChange:y,onOpenToggle:g.useCallback(()=>y(p=>!p),[y]),modal:u,children:n})};IN.displayName=zh;var $N="DialogTrigger",FN=g.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,i=_a($N,n),l=it(t,i.triggerRef);return o.jsx(Ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Ky(i.open),...a,ref:l,onClick:Ee(e.onClick,i.onOpenToggle)})});FN.displayName=$N;var Hy="DialogPortal",[vF,BN]=zN(Hy,{forceMount:void 0}),qN=e=>{const{__scopeDialog:t,forceMount:n,children:a,container:i}=e,l=_a(Hy,t);return o.jsx(vF,{scope:t,forceMount:n,children:g.Children.map(a,u=>o.jsx(zr,{present:n||l.open,children:o.jsx(Tu,{asChild:!0,container:i,children:u})}))})};qN.displayName=Hy;var Jf="DialogOverlay",HN=g.forwardRef((e,t)=>{const n=BN(Jf,e.__scopeDialog),{forceMount:a=n.forceMount,...i}=e,l=_a(Jf,e.__scopeDialog);return l.modal?o.jsx(zr,{present:a||l.open,children:o.jsx(xF,{...i,ref:t})}):null});HN.displayName=Jf;var yF=uF("DialogOverlay.RemoveScroll"),xF=g.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,i=_a(Jf,n);return o.jsx(Ou,{as:yF,allowPinchZoom:!0,shards:[i.contentRef],children:o.jsx(Ke.div,{"data-state":Ky(i.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),to="DialogContent",VN=g.forwardRef((e,t)=>{const n=BN(to,e.__scopeDialog),{forceMount:a=n.forceMount,...i}=e,l=_a(to,e.__scopeDialog);return o.jsx(zr,{present:a||l.open,children:l.modal?o.jsx(bF,{...i,ref:t}):o.jsx(wF,{...i,ref:t})})});VN.displayName=to;var bF=g.forwardRef((e,t)=>{const n=_a(to,e.__scopeDialog),a=g.useRef(null),i=it(t,n.contentRef,a);return g.useEffect(()=>{const l=a.current;if(l)return Ah(l)},[]),o.jsx(KN,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(e.onCloseAutoFocus,l=>{l.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Ee(e.onPointerDownOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&l.preventDefault()}),onFocusOutside:Ee(e.onFocusOutside,l=>l.preventDefault())})}),wF=g.forwardRef((e,t)=>{const n=_a(to,e.__scopeDialog),a=g.useRef(!1),i=g.useRef(!1);return o.jsx(KN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{e.onCloseAutoFocus?.(l),l.defaultPrevented||(a.current||n.triggerRef.current?.focus(),l.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:l=>{e.onInteractOutside?.(l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=l.target;n.triggerRef.current?.contains(u)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),KN=g.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:l,...u}=e,d=_a(to,n),h=g.useRef(null),m=it(t,h);return jh(),o.jsxs(o.Fragment,{children:[o.jsx(ku,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:l,children:o.jsx(Nu,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Ky(d.open),...u,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(SF,{titleId:d.titleId}),o.jsx(CF,{contentRef:h,descriptionId:d.descriptionId})]})]})}),Vy="DialogTitle",WN=g.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,i=_a(Vy,n);return o.jsx(Ke.h2,{id:i.titleId,...a,ref:t})});WN.displayName=Vy;var GN="DialogDescription",YN=g.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,i=_a(GN,n);return o.jsx(Ke.p,{id:i.descriptionId,...a,ref:t})});YN.displayName=GN;var QN="DialogClose",XN=g.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,i=_a(QN,n);return o.jsx(Ke.button,{type:"button",...a,ref:t,onClick:Ee(e.onClick,()=>i.onOpenChange(!1))})});XN.displayName=QN;function Ky(e){return e?"open":"closed"}var JN="DialogTitleWarning",[_F,ZN]=qU(JN,{contentName:to,titleName:Vy,docsSlug:"dialog"}),SF=({titleId:e})=>{const t=ZN(JN),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},jF="DialogDescriptionWarning",CF=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ZN(jF).contentName}}.`;return g.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},ek=IN,EF=FN,tk=qN,Wy=HN,Gy=VN,Yy=WN,Qy=YN,Xy=XN;const Ur=ek,NF=tk,nk=g.forwardRef(({className:e,...t},n)=>o.jsx(Wy,{ref:n,className:Ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));nk.displayName=Wy.displayName;const wr=g.forwardRef(({className:e,children:t,...n},a)=>o.jsxs(NF,{children:[o.jsx(nk,{}),o.jsxs(Gy,{ref:a,className:Ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,o.jsxs(Xy,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(ri,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));wr.displayName=Gy.displayName;const vr=({className:e,...t})=>o.jsx("div",{className:Ce("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});vr.displayName="DialogHeader";const na=({className:e,...t})=>o.jsx("div",{className:Ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});na.displayName="DialogFooter";const yr=g.forwardRef(({className:e,...t},n)=>o.jsx(Yy,{ref:n,className:Ce("text-lg font-semibold leading-none tracking-tight",e),...t}));yr.displayName=Yy.displayName;const kF=g.forwardRef(({className:e,...t},n)=>o.jsx(Qy,{ref:n,className:Ce("text-sm text-muted-foreground",e),...t}));kF.displayName=Qy.displayName;const nt=g.forwardRef(({className:e,type:t,...n},a)=>o.jsx("input",{type:t,className:Ce("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-all file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-howard-evergreen focus-visible:border-howard-evergreen disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...n}));nt.displayName="Input";var RF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],TF=RF.reduce((e,t)=>{const n=wh(`Primitive.${t}`),a=g.forwardRef((i,l)=>{const{asChild:u,...d}=i,h=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(h,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),AF="Label",rk=g.forwardRef((e,t)=>o.jsx(TF.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));rk.displayName=AF;var ak=rk;const OF=gy("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Me=g.forwardRef(({className:e,...t},n)=>o.jsx(ak,{ref:n,className:Ce(OF(),e),...t}));Me.displayName=ak.displayName;async function sk(){const e=xn(),{data:{session:t}}=await e.auth.getSession();if(!t)throw new Error("Not authenticated");return{Authorization:`Bearer ${t.access_token}`}}async function Yn(e,t={}){const n=await sk();return fetch(e,{...t,headers:{...n,...t.headers}})}function DF({isOpen:e,onComplete:t,user:n,orgName:a}){const[i,l]=g.useState(1),[u,d]=g.useState(n.full_name||""),[h,m]=g.useState(null),[y,p]=g.useState(null),[b,w]=g.useState(!1),S=g.useRef(null),[_,j]=g.useState(""),[C,E]=g.useState(""),[k,A]=g.useState(!1),[L,P]=g.useState(!1),[T,z]=g.useState(""),Z=xn(),V=J=>{const R=J.target.files?.[0];if(!R)return;if(!R.type.startsWith("image/")){me.error("Please select an image file");return}if(R.size>5*1024*1024){me.error("Image must be less than 5MB");return}m(R);const U=new FileReader;U.onloadend=()=>{p(U.result)},U.readAsDataURL(R)},H=()=>{m(null),p(null),S.current&&(S.current.value="")},K=async()=>{if(!h)return null;try{const J=h.name.split(".").pop(),R=`${n.id}/avatar.${J}`,{error:U}=await Z.storage.from("avatars").upload(R,h,{upsert:!0,contentType:h.type});if(U)throw U;return`/api/storage-avatar?path=${encodeURIComponent(R)}`}catch(J){return console.error("Error uploading avatar:",J),me.error("Failed to upload avatar"),null}},M=async()=>{if(z(""),_.length<8){z("Password must be at least 8 characters");return}if(_!==C){z("Passwords do not match");return}w(!0);try{const{error:J}=await Z.auth.updateUser({password:_});if(J)throw J;me.success("Password updated successfully"),l(3)}catch(J){console.error("Error updating password:",J),z(J.message||"Failed to update password")}finally{w(!1)}},Y=async()=>{w(!0);try{let J=null;h&&(J=await K());const R={full_name:u,is_onboarded:!0};J&&(R.avatar_url=J);const U=await Yn(`/api/users-update-profile?id=${n.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)});if(!U.ok){const F=await U.json().catch(()=>({error:"Failed to save profile"}));throw new Error(F.error||"Failed to save profile")}me.success("Welcome to HowardOS!"),t()}catch(J){console.error("Error completing onboarding:",J),me.error(J.message||"Failed to save profile")}finally{w(!1)}};return o.jsx(Ur,{open:e,onOpenChange:()=>{},children:o.jsx(wr,{className:"sm:max-w-lg [&>button]:hidden",children:o.jsxs("div",{className:"text-center",children:[i===1&&o.jsxs("div",{className:"py-8",children:[o.jsx("div",{className:"flex justify-center mb-6",children:o.jsx(Lh,{variant:"full",showText:!1})}),o.jsxs("div",{className:"mb-6",children:[o.jsx(SU,{className:"w-12 h-12 mx-auto text-primary mb-4"}),o.jsx("h2",{className:"text-3xl font-bold font-serif text-foreground mb-3",children:"Welcome to HowardOS!"}),o.jsx("p",{className:"text-lg text-muted-foreground mb-2",children:a}),o.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:n.role==="admin"?"You're all set up as an administrator. Let's personalize your profile to get started.":"We're excited to have you on board. Let's set up your profile to get started."})]}),o.jsx("div",{className:"bg-secondary rounded-lg p-6 max-w-md mx-auto mb-6",children:o.jsxs("div",{className:"flex items-center gap-4 text-left",children:[o.jsx(gr,{name:n.full_name||n.email,email:n.email,role:n.role,size:"lg"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-foreground",children:n.full_name||n.email}),o.jsx("p",{className:"text-sm text-muted-foreground",children:n.email}),o.jsx("span",{className:`inline-block mt-1 px-2 py-0.5 rounded-full text-xs font-medium ${n.role==="admin"?"bg-howard-ink/20 text-foreground":"bg-muted text-muted-foreground"}`,children:n.role})]})]})}),o.jsx(ve,{size:"lg",onClick:()=>l(2),className:"min-w-[200px]",children:"Get Started"})]}),i===2&&o.jsxs("div",{className:"py-6",children:[o.jsx(Wc,{className:"w-10 h-10 mx-auto text-primary mb-4"}),o.jsx("h2",{className:"text-2xl font-bold font-serif text-foreground mb-2",children:"Secure Your Account"}),o.jsx("p",{className:"text-muted-foreground mb-8",children:"Replace your temporary password with a secure one you'll remember"}),o.jsxs("div",{className:"space-y-4 max-w-md mx-auto text-left",children:[o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"newPassword",className:"mb-2",children:"New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Wc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(nt,{id:"newPassword",type:k?"text":"password",value:_,onChange:J=>{j(J.target.value),z("")},placeholder:"At least 8 characters",className:"pl-10 pr-10"}),o.jsx("button",{type:"button",onClick:()=>A(!k),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:k?o.jsx(gl,{className:"w-4 h-4"}):o.jsx(qf,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"confirmPassword",className:"mb-2",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Wc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(nt,{id:"confirmPassword",type:L?"text":"password",value:C,onChange:J=>{E(J.target.value),z("")},placeholder:"Re-enter your password",className:"pl-10 pr-10"}),o.jsx("button",{type:"button",onClick:()=>P(!L),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:L?o.jsx(gl,{className:"w-4 h-4"}):o.jsx(qf,{className:"w-4 h-4"})})]})]}),T&&o.jsx("p",{className:"text-sm text-destructive",children:T})]}),o.jsxs("div",{className:"flex items-center justify-center gap-3 mt-8 pt-6 border-t border-border",children:[o.jsx(ve,{variant:"ghost",onClick:()=>l(1),disabled:b,children:"Back"}),o.jsx(ve,{onClick:M,disabled:b||!_||!C,className:"min-w-[150px]",children:b?"Updating...":"Set Password"})]})]}),i===3&&o.jsxs("div",{className:"py-6",children:[o.jsx("h2",{className:"text-2xl font-bold font-serif text-foreground mb-2",children:"Personalize Your Profile"}),o.jsx("p",{className:"text-muted-foreground mb-8",children:"Add a photo and update your name so your team can recognize you"}),o.jsxs("div",{className:"space-y-6 max-w-md mx-auto text-left",children:[o.jsxs("div",{className:"flex flex-col items-center gap-4 pb-6 border-b border-border",children:[o.jsx(gr,{name:u||n.email,email:n.email,role:n.role,src:y||void 0,size:"xl"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ve,{type:"button",variant:"outline",size:"sm",onClick:()=>S.current?.click(),children:[o.jsx(Zi,{className:"w-4 h-4 mr-2"}),y?"Change Photo":"Upload Photo"]}),y&&o.jsxs(ve,{type:"button",variant:"ghost",size:"sm",onClick:H,children:[o.jsx(ri,{className:"w-4 h-4 mr-2"}),"Remove"]})]}),o.jsx("input",{ref:S,type:"file",accept:"image/*",onChange:V,className:"hidden"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Square image recommended, max 5MB"})]}),o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"fullName",className:"mb-2",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx(nt,{id:"fullName",type:"text",value:u,onChange:J=>d(J.target.value),placeholder:"Enter your full name",className:"pl-10"})]})]}),o.jsxs("div",{children:[o.jsx(Me,{className:"mb-2",children:"Email"}),o.jsx(nt,{type:"email",value:n.email,disabled:!0,className:"bg-muted"})]}),a&&o.jsxs("div",{children:[o.jsx(Me,{className:"mb-2",children:"Organization"}),o.jsxs("div",{className:"relative",children:[o.jsx(Jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx(nt,{type:"text",value:a,disabled:!0,className:"bg-muted pl-10"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-center gap-3 mt-8 pt-6 border-t border-border",children:[o.jsx(ve,{variant:"ghost",onClick:()=>l(2),disabled:b,children:"Back"}),o.jsx(ve,{onClick:Y,disabled:b||!u.trim(),className:"min-w-[150px]",children:b?"Saving...":"Complete Setup"})]})]})]})})})}function MF({user:e,orgName:t}){const[n,a]=g.useState(!1),{refreshProfile:i}=qa();g.useEffect(()=>{e.is_onboarded||a(!0)},[e.is_onboarded]);const l=()=>{a(!1),i()};return o.jsx(DF,{isOpen:n,onComplete:l,user:e,orgName:t})}const PF=[{label:"Dashboard",href:"/dashboard",icon:pU,roles:["admin","manager","user","client"]},{label:"Files",href:"/files",icon:Ev,roles:["admin","manager","user","client"]},{label:"Tasks",href:"/tasks",icon:_y,roles:["admin","manager","user","client"]},{label:"Workstreams",href:"/workstreams",icon:Uc,roles:["admin","manager","user","client"]},{label:"Tools",href:"/tools/transactions",icon:EU,roles:["admin"],children:[{label:"Transactions",href:"/tools/transactions",icon:Sv,roles:["admin"]}]},{label:"Clients",href:"/clients/organizations",icon:vl,roles:["admin","manager","client","client_no_access"],children:[{label:"Organizations",href:"/clients/organizations",icon:Jn,roles:["admin","manager","client","client_no_access"]},{label:"Users",href:"/clients/users",icon:vl,roles:["admin","manager","client","client_no_access"]}]}],LF=[{label:"Howard CRM",href:"https://crm.howard-finance.com"},{label:"Howard University",href:"https://uni.howard-finance.com"}];function zF(){const{user:e,loading:t}=py(),{profile:n,userOrgs:a,isLoading:i}=qa();return t||i?o.jsx("div",{className:"flex items-center justify-center h-screen bg-background",children:o.jsx(yl,{size:"lg"})}):e?o.jsxs(cF,{userRole:n?.role,orgName:n?.organizations?.name,userName:n?.full_name||void 0,userEmail:e.email||"",userAvatar:n?.avatar_url,userOrgs:a,navItems:PF,appLinks:LF,children:[n&&!n.is_onboarded&&o.jsx(MF,{user:{id:e.id,email:e.email||"",full_name:n.full_name||"",role:n.role,is_onboarded:n.is_onboarded},orgName:n.organizations?.name||""}),o.jsx(ay,{})]}):o.jsx(Bc,{to:"/login",replace:!0})}const La=g.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Ce("rounded-xl border border-howard-ash/50 bg-card text-card-foreground shadow-sm",e),...t}));La.displayName="Card";const dl=g.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Ce("flex flex-col space-y-1.5 p-6",e),...t}));dl.displayName="CardHeader";const fl=g.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Ce("font-semibold leading-none tracking-tight",e),...t}));fl.displayName="CardTitle";const hl=g.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Ce("text-sm text-muted-foreground",e),...t}));hl.displayName="CardDescription";const hs=g.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Ce("p-6 pt-0",e),...t}));hs.displayName="CardContent";const UF=g.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Ce("flex items-center p-6 pt-0",e),...t}));UF.displayName="CardFooter";function IF(){const[e,t]=g.useState(""),[n,a]=g.useState(""),[i,l]=g.useState(!1),[u,d]=g.useState(null),h=wa(),m=xn(),y=async p=>{p.preventDefault(),l(!0),d(null);try{const{error:b}=await m.auth.signInWithPassword({email:e,password:n});if(b)throw b;h("/dashboard")}catch(b){d({type:"error",text:b.message||"Invalid email or password"})}finally{l(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsxs(La,{className:"shadow-lg",children:[o.jsxs(dl,{className:"flex flex-col items-center",children:[o.jsx(Lh,{variant:"full",showText:!1,className:"mb-4"}),o.jsx(fl,{className:"text-2xl text-foreground",children:"HowardOS"}),o.jsx(hl,{className:"mt-2",children:"Sign in to your account"})]}),o.jsxs(hs,{children:[u&&o.jsx("div",{className:`mb-4 p-3 rounded-md text-sm ${u.type==="error"?"bg-destructive/10 text-destructive":"bg-primary/10 text-primary"}`,children:u.text}),o.jsx("form",{onSubmit:y,children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{htmlFor:"email",children:"Email"}),o.jsx(nt,{id:"email",type:"email",value:e,onChange:p=>t(p.target.value),placeholder:"you@howard-finance.com",required:!0,disabled:i})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{htmlFor:"password",children:"Password"}),o.jsx(nt,{id:"password",type:"password",value:n,onChange:p=>a(p.target.value),placeholder:"",required:!0,disabled:i})]}),o.jsx(ve,{type:"submit",disabled:i,className:"w-full",children:i?o.jsxs(o.Fragment,{children:[o.jsx(Bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Signing in..."]}):"Sign In"})]})}),o.jsx("div",{className:"mt-6 p-4 bg-secondary rounded-lg border border-border",children:o.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Don't have an account? Contact your administrator to get access."})})]})]})})})}function $F(){const e=wa(),t=xn();return g.useEffect(()=>{(async()=>{try{const i=new URLSearchParams(window.location.search).get("code");if(i){const{error:u}=await t.auth.exchangeCodeForSession(i);if(u){console.error("Code exchange error:",u),e(`/login?error=${encodeURIComponent(u.message)}`,{replace:!0});return}}const{data:{session:l}}=await t.auth.getSession();if(!l){const{data:{subscription:u}}=t.auth.onAuthStateChange(async(d,h)=>{d==="SIGNED_IN"&&h&&(u.unsubscribe(),e("/dashboard",{replace:!0}))});setTimeout(()=>{u.unsubscribe(),e("/login?error=Authentication+timed+out",{replace:!0})},5e3);return}e("/dashboard",{replace:!0})}catch(a){console.error("Auth callback error:",a),e("/login?error=Authentication+failed",{replace:!0})}})()},[]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}const FF=gy("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-all focus:outline-none focus:ring-2 focus:ring-howard-evergreen focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-howard-evergreen text-howard-parchment shadow hover:bg-howard-forest",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground border-howard-evergreen/30 hover:bg-howard-evergreen/5"}},defaultVariants:{variant:"default"}});function Js({className:e,variant:t,...n}){return o.jsx("div",{className:Ce(FF({variant:t}),e),...n})}function BF(){const[e,t]=g.useState([]),[n,a]=g.useState(!0),[i,l]=g.useState(null);wa();const u=xn();g.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:h,error:m}=await u.from("profiles").select(`
          id,
          email,
          full_name,
          role,
          organizations (name)
        `).order("role",{ascending:!1}).order("email");if(m)throw m;const y=(h||[]).map(p=>({id:p.id,email:p.email,full_name:p.full_name||p.email,role:p.role,organization:p.organizations?.name||"Unknown"}));t(y)}catch(h){console.error("Error:",h)}finally{a(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-semibold text-destructive mb-4",children:"Access Denied"}),o.jsx("p",{className:"text-muted-foreground",children:"This page is only available in development mode."})]})})}function qF(){const[e,t]=g.useState([]),[n,a]=g.useState(!0),[i,l]=g.useState(null);wa();const u=xn();g.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:h,error:m}=await u.from("profiles").select(`
          id,
          email,
          full_name,
          role,
          organizations (name)
        `).order("email");if(m)throw m;const y=(h||[]).map(p=>({id:p.id,email:p.email,full_name:p.full_name,role:p.role,organization:p.organizations?.name||"Unknown"}));t(y)}catch(h){console.error("Error:",h)}finally{a(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("p",{className:"text-destructive",children:"Dev only"})})}function HF(){const[e,t]=g.useState(""),[n,a]=g.useState(""),[i,l]=g.useState(""),[u,d]=g.useState(!1),[h,m]=g.useState(!1),[y,p]=g.useState(!0),[b,w]=g.useState(!1),[S,_]=g.useState(null),j=wa(),C=xn();g.useEffect(()=>{E()},[]);const E=async()=>{try{const{data:{user:A}}=await C.auth.getUser();if(!A){j("/login");return}const{data:L}=await C.from("profiles").select("email, is_active").eq("id",A.id).single();if(L?.is_active){j("/dashboard");return}t(L?.email||A.email||""),p(!1)}catch(A){console.error("Auth check error:",A),j("/login")}},k=async A=>{if(A.preventDefault(),_(null),n.length<8){_({type:"error",text:"Password must be at least 8 characters"});return}if(n!==i){_({type:"error",text:"Passwords do not match"});return}w(!0);try{const{error:L}=await C.auth.updateUser({password:n});if(L)throw L;const{data:{user:P}}=await C.auth.getUser();if(!P)throw new Error("User not found");const{error:T}=await C.from("profiles").update({is_active:!0}).eq("id",P.id);if(T)throw T;_({type:"success",text:"Account activated! Redirecting..."}),setTimeout(()=>{j("/dashboard")},1e3)}catch(L){console.error("Password setup error:",L),_({type:"error",text:L.message||"Failed to set password. Please try again."})}finally{w(!1)}};return y?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsxs(La,{className:"shadow-lg",children:[o.jsxs(dl,{className:"flex flex-col items-center",children:[o.jsx(Lh,{variant:"full",showText:!1,className:"mb-4"}),o.jsx(fl,{className:"text-2xl font-serif italic text-foreground",children:"Activate your account"}),o.jsx(hl,{className:"mt-2 text-center",children:"Set a password to complete your account setup"})]}),o.jsxs(hs,{children:[S&&o.jsx("div",{className:`mb-4 p-3 rounded-md text-sm ${S.type==="error"?"bg-destructive/10 text-destructive":"bg-primary/10 text-primary"}`,children:S.text}),o.jsx("form",{onSubmit:k,children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{htmlFor:"email",children:"Email"}),o.jsx(nt,{id:"email",type:"email",value:e,disabled:!0,className:"bg-secondary"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{htmlFor:"password",children:"Set a password"}),o.jsxs("div",{className:"relative",children:[o.jsx(nt,{id:"password",type:u?"text":"password",value:n,onChange:A=>a(A.target.value),placeholder:"Enter your password",required:!0,disabled:b,minLength:8}),o.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:u?o.jsx(gl,{className:"w-4 h-4"}):o.jsx(qf,{className:"w-4 h-4"})})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Must be at least 8 characters"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{htmlFor:"confirmPassword",children:"Confirm password"}),o.jsxs("div",{className:"relative",children:[o.jsx(nt,{id:"confirmPassword",type:h?"text":"password",value:i,onChange:A=>l(A.target.value),placeholder:"Confirm your password",required:!0,disabled:b,minLength:8}),o.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:h?o.jsx(gl,{className:"w-4 h-4"}):o.jsx(qf,{className:"w-4 h-4"})})]})]}),o.jsx(ve,{type:"submit",disabled:b,className:"w-full",children:b?o.jsxs(o.Fragment,{children:[o.jsx(Bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Activating account..."]}):"Activate account"})]})}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-xs text-muted-foreground",children:["By activating your account, you agree to our"," ",o.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",o.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Privacy Policy"})]})}),o.jsx("div",{className:"mt-4 text-center",children:o.jsx("a",{href:"/login",className:"text-sm text-muted-foreground hover:text-foreground",children:"Already have an account?"})})]})]})})})}function VF(){const{profile:e}=qa(),t=xn(),[n,a]=g.useState(0),[i,l]=g.useState(0),[u,d]=g.useState([]),[h,m]=g.useState([]),[y,p]=g.useState(!0);g.useEffect(()=>{async function w(){const[S,_,j,C]=await Promise.all([t.from("files").select("*",{count:"exact",head:!0}),t.from("tasks").select("*",{count:"exact",head:!0}).eq("status","pending"),t.from("files").select("id, name, created_at, mime_type, channel_id").order("created_at",{ascending:!1}).limit(5),t.from("tasks").select("id, title, status, priority, due_date").order("created_at",{ascending:!1}).limit(5)]);a(S.count||0),l(_.count||0),d(j.data||[]),m(C.data||[]),p(!1)}w()},[]);const b={admin:"Administrator",manager:"Manager",user:"Team Member",client:"Client",client_no_access:"Contact"};return o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx("div",{className:"flex-shrink-0 bg-card border-b border-border shadow-sm",children:o.jsx("div",{className:"px-8 py-4 flex items-center justify-between",children:o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{children:[o.jsxs("h1",{className:"text-xl font-semibold tracking-tight text-foreground",children:["Welcome back, ",e?.full_name||e?.email]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[e?.organizations?.name,"  ",b[e?.role||""]||e?.role]})]})})})}),o.jsx("div",{className:"flex-1 overflow-auto p-8",children:y?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(yl,{size:"lg"})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-6 mb-8 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-4 h-4 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-lg font-bold text-foreground leading-tight",children:n}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Files"})]})]}),o.jsx("div",{className:"w-px h-8 bg-border"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 bg-muted rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-4 h-4 text-muted-foreground",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-lg font-bold text-foreground leading-tight",children:i}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"My Pending Tasks"})]})]})]}),e?.dashboard_iframe_url&&o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"bg-card rounded-lg shadow-sm border border-border",children:[o.jsxs("div",{className:"p-6 border-b border-border",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Analytics Dashboard"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Real-time performance metrics"})]}),o.jsx("div",{className:"p-6",children:o.jsx("div",{style:{width:"100%",height:"600px",overflowY:"scroll",overflowX:"hidden",border:"1px solid #E0E0E0",borderRadius:"8px"},children:o.jsx("iframe",{src:e.dashboard_iframe_url,style:{width:"100%",height:"2000px",border:"none",display:"block"},title:"Analytics Dashboard"})})})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-card rounded-lg shadow-sm border border-border",children:[o.jsx("div",{className:"p-6 border-b border-border",children:o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Recent Files"})}),o.jsx("div",{className:"p-6",children:u.length>0?o.jsx("ul",{className:"space-y-3",children:u.map(w=>o.jsx("li",{children:o.jsxs(Yi,{to:w.channel_id?`/files?channel=${w.channel_id}`:"/files",className:"flex items-center justify-between py-2 px-2 -mx-2 rounded-md hover:bg-secondary transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded flex items-center justify-center",children:o.jsx("svg",{className:"w-4 h-4 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),o.jsx("span",{className:"text-sm font-medium text-foreground",children:w.name})]}),o.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(w.created_at).toLocaleDateString()})]})},w.id))}):o.jsx("p",{className:"text-muted-foreground text-sm",children:"No files yet"})})]}),o.jsxs("div",{className:"bg-card rounded-lg shadow-sm border border-border",children:[o.jsx("div",{className:"p-6 border-b border-border",children:o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Recent Tasks"})}),o.jsx("div",{className:"p-6",children:h.length>0?o.jsx("ul",{className:"space-y-3",children:h.map(w=>o.jsx("li",{children:o.jsxs(Yi,{to:`/tasks?task=${w.id}`,className:"flex items-center justify-between py-2 px-2 -mx-2 rounded-md hover:bg-secondary transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${w.priority==="urgent"?"bg-destructive":w.priority==="high"?"bg-amber-500":w.priority==="medium"?"bg-muted-foreground":"bg-muted"}`}),o.jsx("span",{className:"text-sm font-medium text-foreground",children:w.title})]}),o.jsx("span",{className:`text-xs px-2 py-1 rounded ${w.status==="completed"?"bg-primary/10 text-primary":(w.status==="in_progress","bg-muted text-muted-foreground")}`,children:w.status.replace("_"," ")})]})},w.id))}):o.jsx("p",{className:"text-muted-foreground text-sm",children:"No tasks yet"})})]})]})]})})]})}function KF(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g.useMemo(()=>a=>{t.forEach(i=>i(a))},t)}const Uh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Dl(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Jy(e){return"nodeType"in e}function ir(e){var t,n;return e?Dl(e)?e:Jy(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Zy(e){const{Document:t}=ir(e);return e instanceof t}function Pu(e){return Dl(e)?!1:e instanceof ir(e).HTMLElement}function ik(e){return e instanceof ir(e).SVGElement}function Ml(e){return e?Dl(e)?e.document:Jy(e)?Zy(e)?e:Pu(e)||ik(e)?e.ownerDocument:document:document:document}const xa=Uh?g.useLayoutEffect:g.useEffect;function Ih(e){const t=g.useRef(e);return xa(()=>{t.current=e}),g.useCallback(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t.current==null?void 0:t.current(...a)},[])}function WF(){const e=g.useRef(null),t=g.useCallback((a,i)=>{e.current=setInterval(a,i)},[]),n=g.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function hu(e,t){t===void 0&&(t=[e]);const n=g.useRef(e);return xa(()=>{n.current!==e&&(n.current=e)},t),n}function Lu(e,t){const n=g.useRef();return g.useMemo(()=>{const a=e(n.current);return n.current=a,a},[...t])}function Zf(e){const t=Ih(e),n=g.useRef(null),a=g.useCallback(i=>{i!==n.current&&t?.(i,n.current),n.current=i},[]);return[n,a]}function eh(e){const t=g.useRef();return g.useEffect(()=>{t.current=e},[e]),t.current}let Hg={};function zu(e,t){return g.useMemo(()=>{if(t)return t;const n=Hg[e]==null?0:Hg[e]+1;return Hg[e]=n,e+"-"+n},[e,t])}function ok(e){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return a.reduce((l,u)=>{const d=Object.entries(u);for(const[h,m]of d){const y=l[h];y!=null&&(l[h]=y+e*m)}return l},{...t})}}const ml=ok(1),th=ok(-1);function GF(e){return"clientX"in e&&"clientY"in e}function $h(e){if(!e)return!1;const{KeyboardEvent:t}=ir(e.target);return t&&e instanceof t}function YF(e){if(!e)return!1;const{TouchEvent:t}=ir(e.target);return t&&e instanceof t}function nh(e){if(YF(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return GF(e)?{x:e.clientX,y:e.clientY}:null}const ii=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[ii.Translate.toString(e),ii.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:a}=e;return t+" "+n+"ms "+a}}}),Rj="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function QF(e){return e.matches(Rj)?e:e.querySelector(Rj)}const XF={display:"none"};function JF(e){let{id:t,value:n}=e;return ce.createElement("div",{id:t,style:XF},n)}function ZF(e){let{id:t,announcement:n,ariaLiveType:a="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ce.createElement("div",{id:t,style:i,role:"status","aria-live":a,"aria-atomic":!0},n)}function eB(){const[e,t]=g.useState("");return{announce:g.useCallback(a=>{a!=null&&t(a)},[]),announcement:e}}const lk=g.createContext(null);function tB(e){const t=g.useContext(lk);g.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function nB(){const[e]=g.useState(()=>new Set),t=g.useCallback(a=>(e.add(a),()=>e.delete(a)),[e]);return[g.useCallback(a=>{let{type:i,event:l}=a;e.forEach(u=>{var d;return(d=u[i])==null?void 0:d.call(u,l)})},[e]),t]}const rB={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},aB={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function sB(e){let{announcements:t=aB,container:n,hiddenTextDescribedById:a,screenReaderInstructions:i=rB}=e;const{announce:l,announcement:u}=eB(),d=zu("DndLiveRegion"),[h,m]=g.useState(!1);if(g.useEffect(()=>{m(!0)},[]),tB(g.useMemo(()=>({onDragStart(p){let{active:b}=p;l(t.onDragStart({active:b}))},onDragMove(p){let{active:b,over:w}=p;t.onDragMove&&l(t.onDragMove({active:b,over:w}))},onDragOver(p){let{active:b,over:w}=p;l(t.onDragOver({active:b,over:w}))},onDragEnd(p){let{active:b,over:w}=p;l(t.onDragEnd({active:b,over:w}))},onDragCancel(p){let{active:b,over:w}=p;l(t.onDragCancel({active:b,over:w}))}}),[l,t])),!h)return null;const y=ce.createElement(ce.Fragment,null,ce.createElement(JF,{id:a,value:i.draggable}),ce.createElement(ZF,{id:d,announcement:u}));return n?Oa.createPortal(y,n):y}var Dn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Dn||(Dn={}));function rh(){}function Tj(e,t){return g.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function iB(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const ba=Object.freeze({x:0,y:0});function oB(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function lB(e,t){const n=nh(e);if(!n)return"0 0";const a={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return a.x+"% "+a.y+"%"}function cB(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return n-a}function uB(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return a-n}function Aj(e){let{left:t,top:n,height:a,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+a},{x:t+i,y:n+a}]}function dB(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}const fB=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const i=Aj(t),l=[];for(const u of a){const{id:d}=u,h=n.get(d);if(h){const m=Aj(h),y=i.reduce((b,w,S)=>b+oB(m[S],w),0),p=Number((y/4).toFixed(4));l.push({id:d,data:{droppableContainer:u,value:p}})}}return l.sort(cB)};function hB(e,t){const n=Math.max(t.top,e.top),a=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),l=Math.min(t.top+t.height,e.top+e.height),u=i-a,d=l-n;if(a<i&&n<l){const h=t.width*t.height,m=e.width*e.height,y=u*d,p=y/(h+m-y);return Number(p.toFixed(4))}return 0}const mB=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const i=[];for(const l of a){const{id:u}=l,d=n.get(u);if(d){const h=hB(d,t);h>0&&i.push({id:u,data:{droppableContainer:l,value:h}})}}return i.sort(uB)};function pB(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function ck(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ba}function gB(e){return function(n){for(var a=arguments.length,i=new Array(a>1?a-1:0),l=1;l<a;l++)i[l-1]=arguments[l];return i.reduce((u,d)=>({...u,top:u.top+e*d.y,bottom:u.bottom+e*d.y,left:u.left+e*d.x,right:u.right+e*d.x}),{...n})}}const vB=gB(1);function uk(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function yB(e,t,n){const a=uk(t);if(!a)return e;const{scaleX:i,scaleY:l,x:u,y:d}=a,h=e.left-u-(1-i)*parseFloat(n),m=e.top-d-(1-l)*parseFloat(n.slice(n.indexOf(" ")+1)),y=i?e.width/i:e.width,p=l?e.height/l:e.height;return{width:y,height:p,top:m,right:h+y,bottom:m+p,left:h}}const xB={ignoreTransform:!1};function Pl(e,t){t===void 0&&(t=xB);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:m,transformOrigin:y}=ir(e).getComputedStyle(e);m&&(n=yB(n,m,y))}const{top:a,left:i,width:l,height:u,bottom:d,right:h}=n;return{top:a,left:i,width:l,height:u,bottom:d,right:h}}function Oj(e){return Pl(e,{ignoreTransform:!0})}function bB(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function wB(e,t){return t===void 0&&(t=ir(e).getComputedStyle(e)),t.position==="fixed"}function _B(e,t){t===void 0&&(t=ir(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const l=t[i];return typeof l=="string"?n.test(l):!1})}function ex(e,t){const n=[];function a(i){if(t!=null&&n.length>=t||!i)return n;if(Zy(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Pu(i)||ik(i)||n.includes(i))return n;const l=ir(e).getComputedStyle(i);return i!==e&&_B(i,l)&&n.push(i),wB(i,l)?n:a(i.parentNode)}return e?a(e):n}function dk(e){const[t]=ex(e,1);return t??null}function Vg(e){return!Uh||!e?null:Dl(e)?e:Jy(e)?Zy(e)||e===Ml(e).scrollingElement?window:Pu(e)?e:null:null}function fk(e){return Dl(e)?e.scrollX:e.scrollLeft}function hk(e){return Dl(e)?e.scrollY:e.scrollTop}function Pv(e){return{x:fk(e),y:hk(e)}}var Un;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Un||(Un={}));function mk(e){return!Uh||!e?!1:e===document.scrollingElement}function pk(e){const t={x:0,y:0},n=mk(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,l=e.scrollLeft<=t.x,u=e.scrollTop>=a.y,d=e.scrollLeft>=a.x;return{isTop:i,isLeft:l,isBottom:u,isRight:d,maxScroll:a,minScroll:t}}const SB={x:.2,y:.2};function jB(e,t,n,a,i){let{top:l,left:u,right:d,bottom:h}=n;a===void 0&&(a=10),i===void 0&&(i=SB);const{isTop:m,isBottom:y,isLeft:p,isRight:b}=pk(e),w={x:0,y:0},S={x:0,y:0},_={height:t.height*i.y,width:t.width*i.x};return!m&&l<=t.top+_.height?(w.y=Un.Backward,S.y=a*Math.abs((t.top+_.height-l)/_.height)):!y&&h>=t.bottom-_.height&&(w.y=Un.Forward,S.y=a*Math.abs((t.bottom-_.height-h)/_.height)),!b&&d>=t.right-_.width?(w.x=Un.Forward,S.x=a*Math.abs((t.right-_.width-d)/_.width)):!p&&u<=t.left+_.width&&(w.x=Un.Backward,S.x=a*Math.abs((t.left+_.width-u)/_.width)),{direction:w,speed:S}}function CB(e){if(e===document.scrollingElement){const{innerWidth:l,innerHeight:u}=window;return{top:0,left:0,right:l,bottom:u,width:l,height:u}}const{top:t,left:n,right:a,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:a,bottom:i,width:e.clientWidth,height:e.clientHeight}}function gk(e){return e.reduce((t,n)=>ml(t,Pv(n)),ba)}function EB(e){return e.reduce((t,n)=>t+fk(n),0)}function NB(e){return e.reduce((t,n)=>t+hk(n),0)}function vk(e,t){if(t===void 0&&(t=Pl),!e)return;const{top:n,left:a,bottom:i,right:l}=t(e);dk(e)&&(i<=0||l<=0||n>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const kB=[["x",["left","right"],EB],["y",["top","bottom"],NB]];class tx{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=ex(n),i=gk(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[l,u,d]of kB)for(const h of u)Object.defineProperty(this,h,{get:()=>{const m=d(a),y=i[l]-m;return this.rect[h]+y},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Gc{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...n)})},this.target=t}add(t,n,a){var i;(i=this.target)==null||i.addEventListener(t,n,a),this.listeners.push([t,n,a])}}function RB(e){const{EventTarget:t}=ir(e);return e instanceof t?e:Ml(e)}function Kg(e,t){const n=Math.abs(e.x),a=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+a**2)>t:"x"in t&&"y"in t?n>t.x&&a>t.y:"x"in t?n>t.x:"y"in t?a>t.y:!1}var Jr;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Jr||(Jr={}));function Dj(e){e.preventDefault()}function TB(e){e.stopPropagation()}var Rt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Rt||(Rt={}));const yk={start:[Rt.Space,Rt.Enter],cancel:[Rt.Esc],end:[Rt.Space,Rt.Enter,Rt.Tab]},AB=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Rt.Right:return{...n,x:n.x+25};case Rt.Left:return{...n,x:n.x-25};case Rt.Down:return{...n,y:n.y+25};case Rt.Up:return{...n,y:n.y-25}}};class xk{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Gc(Ml(n)),this.windowListeners=new Gc(ir(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Jr.Resize,this.handleCancel),this.windowListeners.add(Jr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Jr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,a=t.node.current;a&&vk(a),n(ba)}handleKeyDown(t){if($h(t)){const{active:n,context:a,options:i}=this.props,{keyboardCodes:l=yk,coordinateGetter:u=AB,scrollBehavior:d="smooth"}=i,{code:h}=t;if(l.end.includes(h)){this.handleEnd(t);return}if(l.cancel.includes(h)){this.handleCancel(t);return}const{collisionRect:m}=a.current,y=m?{x:m.left,y:m.top}:ba;this.referenceCoordinates||(this.referenceCoordinates=y);const p=u(t,{active:n,context:a.current,currentCoordinates:y});if(p){const b=th(p,y),w={x:0,y:0},{scrollableAncestors:S}=a.current;for(const _ of S){const j=t.code,{isTop:C,isRight:E,isLeft:k,isBottom:A,maxScroll:L,minScroll:P}=pk(_),T=CB(_),z={x:Math.min(j===Rt.Right?T.right-T.width/2:T.right,Math.max(j===Rt.Right?T.left:T.left+T.width/2,p.x)),y:Math.min(j===Rt.Down?T.bottom-T.height/2:T.bottom,Math.max(j===Rt.Down?T.top:T.top+T.height/2,p.y))},Z=j===Rt.Right&&!E||j===Rt.Left&&!k,V=j===Rt.Down&&!A||j===Rt.Up&&!C;if(Z&&z.x!==p.x){const H=_.scrollLeft+b.x,K=j===Rt.Right&&H<=L.x||j===Rt.Left&&H>=P.x;if(K&&!b.y){_.scrollTo({left:H,behavior:d});return}K?w.x=_.scrollLeft-H:w.x=j===Rt.Right?_.scrollLeft-L.x:_.scrollLeft-P.x,w.x&&_.scrollBy({left:-w.x,behavior:d});break}else if(V&&z.y!==p.y){const H=_.scrollTop+b.y,K=j===Rt.Down&&H<=L.y||j===Rt.Up&&H>=P.y;if(K&&!b.x){_.scrollTo({top:H,behavior:d});return}K?w.y=_.scrollTop-H:w.y=j===Rt.Down?_.scrollTop-L.y:_.scrollTop-P.y,w.y&&_.scrollBy({top:-w.y,behavior:d});break}}this.handleMove(t,ml(th(p,this.referenceCoordinates),w))}}}handleMove(t,n){const{onMove:a}=this.props;t.preventDefault(),a(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}xk.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:a=yk,onActivation:i}=t,{active:l}=n;const{code:u}=e.nativeEvent;if(a.start.includes(u)){const d=l.activatorNode.current;return d&&e.target!==d?!1:(e.preventDefault(),i?.({event:e.nativeEvent}),!0)}return!1}}];function Mj(e){return!!(e&&"distance"in e)}function Pj(e){return!!(e&&"delay"in e)}class nx{constructor(t,n,a){var i;a===void 0&&(a=RB(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:l}=t,{target:u}=l;this.props=t,this.events=n,this.document=Ml(u),this.documentListeners=new Gc(this.document),this.listeners=new Gc(a),this.windowListeners=new Gc(ir(u)),this.initialCoordinates=(i=nh(l))!=null?i:ba,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Jr.Resize,this.handleCancel),this.windowListeners.add(Jr.DragStart,Dj),this.windowListeners.add(Jr.VisibilityChange,this.handleCancel),this.windowListeners.add(Jr.ContextMenu,Dj),this.documentListeners.add(Jr.Keydown,this.handleKeydown),n){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Pj(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Mj(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:a,onPending:i}=this.props;i(a,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Jr.Click,TB,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Jr.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:a,initialCoordinates:i,props:l}=this,{onMove:u,options:{activationConstraint:d}}=l;if(!i)return;const h=(n=nh(t))!=null?n:ba,m=th(i,h);if(!a&&d){if(Mj(d)){if(d.tolerance!=null&&Kg(m,d.tolerance))return this.handleCancel();if(Kg(m,d.distance))return this.handleStart()}if(Pj(d)&&Kg(m,d.tolerance))return this.handleCancel();this.handlePending(d,m);return}t.cancelable&&t.preventDefault(),u(h)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Rt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const OB={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class rx extends nx{constructor(t){const{event:n}=t,a=Ml(n.target);super(t,OB,a)}}rx.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return!n.isPrimary||n.button!==0?!1:(a?.({event:n}),!0)}}];const DB={move:{name:"mousemove"},end:{name:"mouseup"}};var Lv;(function(e){e[e.RightClick=2]="RightClick"})(Lv||(Lv={}));class MB extends nx{constructor(t){super(t,DB,Ml(t.event.target))}}MB.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return n.button===Lv.RightClick?!1:(a?.({event:n}),!0)}}];const Wg={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class bk extends nx{constructor(t){super(t,Wg)}static setup(){return window.addEventListener(Wg.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Wg.move.name,t)};function t(){}}}bk.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;const{touches:i}=n;return i.length>1?!1:(a?.({event:n}),!0)}}];var Yc;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Yc||(Yc={}));var ah;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(ah||(ah={}));function PB(e){let{acceleration:t,activator:n=Yc.Pointer,canScroll:a,draggingRect:i,enabled:l,interval:u=5,order:d=ah.TreeOrder,pointerCoordinates:h,scrollableAncestors:m,scrollableAncestorRects:y,delta:p,threshold:b}=e;const w=zB({delta:p,disabled:!l}),[S,_]=WF(),j=g.useRef({x:0,y:0}),C=g.useRef({x:0,y:0}),E=g.useMemo(()=>{switch(n){case Yc.Pointer:return h?{top:h.y,bottom:h.y,left:h.x,right:h.x}:null;case Yc.DraggableRect:return i}},[n,i,h]),k=g.useRef(null),A=g.useCallback(()=>{const P=k.current;if(!P)return;const T=j.current.x*C.current.x,z=j.current.y*C.current.y;P.scrollBy(T,z)},[]),L=g.useMemo(()=>d===ah.TreeOrder?[...m].reverse():m,[d,m]);g.useEffect(()=>{if(!l||!m.length||!E){_();return}for(const P of L){if(a?.(P)===!1)continue;const T=m.indexOf(P),z=y[T];if(!z)continue;const{direction:Z,speed:V}=jB(P,z,E,t,b);for(const H of["x","y"])w[H][Z[H]]||(V[H]=0,Z[H]=0);if(V.x>0||V.y>0){_(),k.current=P,S(A,u),j.current=V,C.current=Z;return}}j.current={x:0,y:0},C.current={x:0,y:0},_()},[t,A,a,_,l,u,JSON.stringify(E),JSON.stringify(w),S,m,L,y,JSON.stringify(b)])}const LB={x:{[Un.Backward]:!1,[Un.Forward]:!1},y:{[Un.Backward]:!1,[Un.Forward]:!1}};function zB(e){let{delta:t,disabled:n}=e;const a=eh(t);return Lu(i=>{if(n||!a||!i)return LB;const l={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[Un.Backward]:i.x[Un.Backward]||l.x===-1,[Un.Forward]:i.x[Un.Forward]||l.x===1},y:{[Un.Backward]:i.y[Un.Backward]||l.y===-1,[Un.Forward]:i.y[Un.Forward]||l.y===1}}},[n,t,a])}function UB(e,t){const n=t!=null?e.get(t):void 0,a=n?n.node.current:null;return Lu(i=>{var l;return t==null?null:(l=a??i)!=null?l:null},[a,t])}function IB(e,t){return g.useMemo(()=>e.reduce((n,a)=>{const{sensor:i}=a,l=i.activators.map(u=>({eventName:u.eventName,handler:t(u.handler,a)}));return[...n,...l]},[]),[e,t])}var mu;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(mu||(mu={}));var zv;(function(e){e.Optimized="optimized"})(zv||(zv={}));const Lj=new Map;function $B(e,t){let{dragging:n,dependencies:a,config:i}=t;const[l,u]=g.useState(null),{frequency:d,measure:h,strategy:m}=i,y=g.useRef(e),p=j(),b=hu(p),w=g.useCallback(function(C){C===void 0&&(C=[]),!b.current&&u(E=>E===null?C:E.concat(C.filter(k=>!E.includes(k))))},[b]),S=g.useRef(null),_=Lu(C=>{if(p&&!n)return Lj;if(!C||C===Lj||y.current!==e||l!=null){const E=new Map;for(let k of e){if(!k)continue;if(l&&l.length>0&&!l.includes(k.id)&&k.rect.current){E.set(k.id,k.rect.current);continue}const A=k.node.current,L=A?new tx(h(A),A):null;k.rect.current=L,L&&E.set(k.id,L)}return E}return C},[e,l,n,p,h]);return g.useEffect(()=>{y.current=e},[e]),g.useEffect(()=>{p||w()},[n,p]),g.useEffect(()=>{l&&l.length>0&&u(null)},[JSON.stringify(l)]),g.useEffect(()=>{p||typeof d!="number"||S.current!==null||(S.current=setTimeout(()=>{w(),S.current=null},d))},[d,p,w,...a]),{droppableRects:_,measureDroppableContainers:w,measuringScheduled:l!=null};function j(){switch(m){case mu.Always:return!1;case mu.BeforeDragging:return n;default:return!n}}}function ax(e,t){return Lu(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function FB(e,t){return ax(e,t)}function BB(e){let{callback:t,disabled:n}=e;const a=Ih(t),i=g.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(a)},[a,n]);return g.useEffect(()=>()=>i?.disconnect(),[i]),i}function Fh(e){let{callback:t,disabled:n}=e;const a=Ih(t),i=g.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(a)},[n]);return g.useEffect(()=>()=>i?.disconnect(),[i]),i}function qB(e){return new tx(Pl(e),e)}function zj(e,t,n){t===void 0&&(t=qB);const[a,i]=g.useState(null);function l(){i(h=>{if(!e)return null;if(e.isConnected===!1){var m;return(m=h??n)!=null?m:null}const y=t(e);return JSON.stringify(h)===JSON.stringify(y)?h:y})}const u=BB({callback(h){if(e)for(const m of h){const{type:y,target:p}=m;if(y==="childList"&&p instanceof HTMLElement&&p.contains(e)){l();break}}}}),d=Fh({callback:l});return xa(()=>{l(),e?(d?.observe(e),u?.observe(document.body,{childList:!0,subtree:!0})):(d?.disconnect(),u?.disconnect())},[e]),a}function HB(e){const t=ax(e);return ck(e,t)}const Uj=[];function VB(e){const t=g.useRef(e),n=Lu(a=>e?a&&a!==Uj&&e&&t.current&&e.parentNode===t.current.parentNode?a:ex(e):Uj,[e]);return g.useEffect(()=>{t.current=e},[e]),n}function KB(e){const[t,n]=g.useState(null),a=g.useRef(e),i=g.useCallback(l=>{const u=Vg(l.target);u&&n(d=>d?(d.set(u,Pv(u)),new Map(d)):null)},[]);return g.useEffect(()=>{const l=a.current;if(e!==l){u(l);const d=e.map(h=>{const m=Vg(h);return m?(m.addEventListener("scroll",i,{passive:!0}),[m,Pv(m)]):null}).filter(h=>h!=null);n(d.length?new Map(d):null),a.current=e}return()=>{u(e),u(l)};function u(d){d.forEach(h=>{const m=Vg(h);m?.removeEventListener("scroll",i)})}},[i,e]),g.useMemo(()=>e.length?t?Array.from(t.values()).reduce((l,u)=>ml(l,u),ba):gk(e):ba,[e,t])}function Ij(e,t){t===void 0&&(t=[]);const n=g.useRef(null);return g.useEffect(()=>{n.current=null},t),g.useEffect(()=>{const a=e!==ba;a&&!n.current&&(n.current=e),!a&&n.current&&(n.current=null)},[e]),n.current?th(e,n.current):ba}function WB(e){g.useEffect(()=>{if(!Uh)return;const t=e.map(n=>{let{sensor:a}=n;return a.setup==null?void 0:a.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function GB(e,t){return g.useMemo(()=>e.reduce((n,a)=>{let{eventName:i,handler:l}=a;return n[i]=u=>{l(u,t)},n},{}),[e,t])}function wk(e){return g.useMemo(()=>e?bB(e):null,[e])}const $j=[];function YB(e,t){t===void 0&&(t=Pl);const[n]=e,a=wk(n?ir(n):null),[i,l]=g.useState($j);function u(){l(()=>e.length?e.map(h=>mk(h)?a:new tx(t(h),h)):$j)}const d=Fh({callback:u});return xa(()=>{d?.disconnect(),u(),e.forEach(h=>d?.observe(h))},[e]),i}function _k(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Pu(t)?t:e}function QB(e){let{measure:t}=e;const[n,a]=g.useState(null),i=g.useCallback(m=>{for(const{target:y}of m)if(Pu(y)){a(p=>{const b=t(y);return p?{...p,width:b.width,height:b.height}:b});break}},[t]),l=Fh({callback:i}),u=g.useCallback(m=>{const y=_k(m);l?.disconnect(),y&&l?.observe(y),a(y?t(y):null)},[t,l]),[d,h]=Zf(u);return g.useMemo(()=>({nodeRef:d,rect:n,setRef:h}),[n,d,h])}const XB=[{sensor:rx,options:{}},{sensor:xk,options:{}}],JB={current:{}},Of={draggable:{measure:Oj},droppable:{measure:Oj,strategy:mu.WhileDragging,frequency:zv.Optimized},dragOverlay:{measure:Pl}};class Qc extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,a;return(n=(a=this.get(t))==null?void 0:a.node.current)!=null?n:void 0}}const ZB={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Qc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:rh},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Of,measureDroppableContainers:rh,windowRect:null,measuringScheduled:!1},Sk={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:rh,draggableNodes:new Map,over:null,measureDroppableContainers:rh},Uu=g.createContext(Sk),jk=g.createContext(ZB);function e8(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Qc}}}function t8(e,t){switch(t.type){case Dn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Dn.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Dn.DragEnd:case Dn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Dn.RegisterDroppable:{const{element:n}=t,{id:a}=n,i=new Qc(e.droppable.containers);return i.set(a,n),{...e,droppable:{...e.droppable,containers:i}}}case Dn.SetDroppableDisabled:{const{id:n,key:a,disabled:i}=t,l=e.droppable.containers.get(n);if(!l||a!==l.key)return e;const u=new Qc(e.droppable.containers);return u.set(n,{...l,disabled:i}),{...e,droppable:{...e.droppable,containers:u}}}case Dn.UnregisterDroppable:{const{id:n,key:a}=t,i=e.droppable.containers.get(n);if(!i||a!==i.key)return e;const l=new Qc(e.droppable.containers);return l.delete(n),{...e,droppable:{...e.droppable,containers:l}}}default:return e}}function n8(e){let{disabled:t}=e;const{active:n,activatorEvent:a,draggableNodes:i}=g.useContext(Uu),l=eh(a),u=eh(n?.id);return g.useEffect(()=>{if(!t&&!a&&l&&u!=null){if(!$h(l)||document.activeElement===l.target)return;const d=i.get(u);if(!d)return;const{activatorNode:h,node:m}=d;if(!h.current&&!m.current)return;requestAnimationFrame(()=>{for(const y of[h.current,m.current]){if(!y)continue;const p=QF(y);if(p){p.focus();break}}})}},[a,t,i,u,l]),null}function Ck(e,t){let{transform:n,...a}=t;return e!=null&&e.length?e.reduce((i,l)=>l({transform:i,...a}),n):n}function r8(e){return g.useMemo(()=>({draggable:{...Of.draggable,...e?.draggable},droppable:{...Of.droppable,...e?.droppable},dragOverlay:{...Of.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function a8(e){let{activeNode:t,measure:n,initialRect:a,config:i=!0}=e;const l=g.useRef(!1),{x:u,y:d}=typeof i=="boolean"?{x:i,y:i}:i;xa(()=>{if(!u&&!d||!t){l.current=!1;return}if(l.current||!a)return;const m=t?.node.current;if(!m||m.isConnected===!1)return;const y=n(m),p=ck(y,a);if(u||(p.x=0),d||(p.y=0),l.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const b=dk(m);b&&b.scrollBy({top:p.y,left:p.x})}},[t,u,d,a,n])}const Bh=g.createContext({...ba,scaleX:1,scaleY:1});var Ws;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ws||(Ws={}));const s8=g.memo(function(t){var n,a,i,l;let{id:u,accessibility:d,autoScroll:h=!0,children:m,sensors:y=XB,collisionDetection:p=mB,measuring:b,modifiers:w,...S}=t;const _=g.useReducer(t8,void 0,e8),[j,C]=_,[E,k]=nB(),[A,L]=g.useState(Ws.Uninitialized),P=A===Ws.Initialized,{draggable:{active:T,nodes:z,translate:Z},droppable:{containers:V}}=j,H=T!=null?z.get(T):null,K=g.useRef({initial:null,translated:null}),M=g.useMemo(()=>{var Lt;return T!=null?{id:T,data:(Lt=H?.data)!=null?Lt:JB,rect:K}:null},[T,H]),Y=g.useRef(null),[J,R]=g.useState(null),[U,F]=g.useState(null),X=hu(S,Object.values(S)),G=zu("DndDescribedBy",u),D=g.useMemo(()=>V.getEnabled(),[V]),$=r8(b),{droppableRects:q,measureDroppableContainers:ae,measuringScheduled:de}=$B(D,{dragging:P,dependencies:[Z.x,Z.y],config:$.droppable}),pe=UB(z,T),ie=g.useMemo(()=>U?nh(U):null,[U]),ge=aa(),ke=FB(pe,$.draggable.measure);a8({activeNode:T!=null?z.get(T):null,config:ge.layoutShiftCompensation,initialRect:ke,measure:$.draggable.measure});const _e=zj(pe,$.draggable.measure,ke),qe=zj(pe?pe.parentElement:null),Ne=g.useRef({activatorEvent:null,active:null,activeNode:pe,collisionRect:null,collisions:null,droppableRects:q,draggableNodes:z,draggingNode:null,draggingNodeRect:null,droppableContainers:V,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),rt=V.getNodeFor((n=Ne.current.over)==null?void 0:n.id),dt=QB({measure:$.dragOverlay.measure}),mn=(a=dt.nodeRef.current)!=null?a:pe,Mt=P?(i=dt.rect)!=null?i:_e:null,En=!!(dt.nodeRef.current&&dt.rect),In=HB(En?null:_e),Jt=wk(mn?ir(mn):null),pn=VB(P?rt??pe:null),$n=YB(pn),Zt=Ck(w,{transform:{x:Z.x-In.x,y:Z.y-In.y,scaleX:1,scaleY:1},activatorEvent:U,active:M,activeNodeRect:_e,containerNodeRect:qe,draggingNodeRect:Mt,over:Ne.current.over,overlayNodeRect:dt.rect,scrollableAncestors:pn,scrollableAncestorRects:$n,windowRect:Jt}),Zn=ie?ml(ie,Z):null,Pt=KB(pn),xe=Ij(Pt),Ae=Ij(Pt,[_e]),Je=ml(Zt,xe),Ge=Mt?vB(Mt,Zt):null,Ze=M&&Ge?p({active:M,collisionRect:Ge,droppableRects:q,droppableContainers:D,pointerCoordinates:Zn}):null,Ht=dB(Ze,"id"),[Gt,Nn]=g.useState(null),er=En?Zt:ml(Zt,Ae),Nt=pB(er,(l=Gt?.rect)!=null?l:null,_e),an=g.useRef(null),Vt=g.useCallback((Lt,Kt)=>{let{sensor:Pe,options:ft}=Kt;if(Y.current==null)return;const bt=z.get(Y.current);if(!bt)return;const ht=Lt.nativeEvent,en=new Pe({active:Y.current,activeNode:bt,event:ht,options:ft,context:Ne,onAbort(wt){if(!z.get(wt))return;const{onDragAbort:I}=X.current,Q={id:wt};I?.(Q),E({type:"onDragAbort",event:Q})},onPending(wt,Pn,I,Q){if(!z.get(wt))return;const{onDragPending:he}=X.current,ye={id:wt,constraint:Pn,initialCoordinates:I,offset:Q};he?.(ye),E({type:"onDragPending",event:ye})},onStart(wt){const Pn=Y.current;if(Pn==null)return;const I=z.get(Pn);if(!I)return;const{onDragStart:Q}=X.current,re={activatorEvent:ht,active:{id:Pn,data:I.data,rect:K}};Oa.unstable_batchedUpdates(()=>{Q?.(re),L(Ws.Initializing),C({type:Dn.DragStart,initialCoordinates:wt,active:Pn}),E({type:"onDragStart",event:re}),R(an.current),F(ht)})},onMove(wt){C({type:Dn.DragMove,coordinates:wt})},onEnd:jt(Dn.DragEnd),onCancel:jt(Dn.DragCancel)});an.current=en;function jt(wt){return async function(){const{active:I,collisions:Q,over:re,scrollAdjustedTranslate:he}=Ne.current;let ye=null;if(I&&he){const{cancelDrop:Re}=X.current;ye={activatorEvent:ht,active:I,collisions:Q,delta:he,over:re},wt===Dn.DragEnd&&typeof Re=="function"&&await Promise.resolve(Re(ye))&&(wt=Dn.DragCancel)}Y.current=null,Oa.unstable_batchedUpdates(()=>{C({type:wt}),L(Ws.Uninitialized),Nn(null),R(null),F(null),an.current=null;const Re=wt===Dn.DragEnd?"onDragEnd":"onDragCancel";if(ye){const be=X.current[Re];be?.(ye),E({type:Re,event:ye})}})}}},[z]),Ir=g.useCallback((Lt,Kt)=>(Pe,ft)=>{const bt=Pe.nativeEvent,ht=z.get(ft);if(Y.current!==null||!ht||bt.dndKit||bt.defaultPrevented)return;const en={active:ht};Lt(Pe,Kt.options,en)===!0&&(bt.dndKit={capturedBy:Kt.sensor},Y.current=ft,Vt(Pe,Kt))},[z,Vt]),or=IB(y,Ir);WB(y),xa(()=>{_e&&A===Ws.Initializing&&L(Ws.Initialized)},[_e,A]),g.useEffect(()=>{const{onDragMove:Lt}=X.current,{active:Kt,activatorEvent:Pe,collisions:ft,over:bt}=Ne.current;if(!Kt||!Pe)return;const ht={active:Kt,activatorEvent:Pe,collisions:ft,delta:{x:Je.x,y:Je.y},over:bt};Oa.unstable_batchedUpdates(()=>{Lt?.(ht),E({type:"onDragMove",event:ht})})},[Je.x,Je.y]),g.useEffect(()=>{const{active:Lt,activatorEvent:Kt,collisions:Pe,droppableContainers:ft,scrollAdjustedTranslate:bt}=Ne.current;if(!Lt||Y.current==null||!Kt||!bt)return;const{onDragOver:ht}=X.current,en=ft.get(Ht),jt=en&&en.rect.current?{id:en.id,rect:en.rect.current,data:en.data,disabled:en.disabled}:null,wt={active:Lt,activatorEvent:Kt,collisions:Pe,delta:{x:bt.x,y:bt.y},over:jt};Oa.unstable_batchedUpdates(()=>{Nn(jt),ht?.(wt),E({type:"onDragOver",event:wt})})},[Ht]),xa(()=>{Ne.current={activatorEvent:U,active:M,activeNode:pe,collisionRect:Ge,collisions:Ze,droppableRects:q,draggableNodes:z,draggingNode:mn,draggingNodeRect:Mt,droppableContainers:V,over:Gt,scrollableAncestors:pn,scrollAdjustedTranslate:Je},K.current={initial:Mt,translated:Ge}},[M,pe,Ze,Ge,z,mn,Mt,q,V,Gt,pn,Je]),PB({...ge,delta:Z,draggingRect:Ge,pointerCoordinates:Zn,scrollableAncestors:pn,scrollableAncestorRects:$n});const kn=g.useMemo(()=>({active:M,activeNode:pe,activeNodeRect:_e,activatorEvent:U,collisions:Ze,containerNodeRect:qe,dragOverlay:dt,draggableNodes:z,droppableContainers:V,droppableRects:q,over:Gt,measureDroppableContainers:ae,scrollableAncestors:pn,scrollableAncestorRects:$n,measuringConfiguration:$,measuringScheduled:de,windowRect:Jt}),[M,pe,_e,U,Ze,qe,dt,z,V,q,Gt,ae,pn,$n,$,de,Jt]),tr=g.useMemo(()=>({activatorEvent:U,activators:or,active:M,activeNodeRect:_e,ariaDescribedById:{draggable:G},dispatch:C,draggableNodes:z,over:Gt,measureDroppableContainers:ae}),[U,or,M,_e,C,G,z,Gt,ae]);return ce.createElement(lk.Provider,{value:k},ce.createElement(Uu.Provider,{value:tr},ce.createElement(jk.Provider,{value:kn},ce.createElement(Bh.Provider,{value:Nt},m)),ce.createElement(n8,{disabled:d?.restoreFocus===!1})),ce.createElement(sB,{...d,hiddenTextDescribedById:G}));function aa(){const Lt=J?.autoScrollEnabled===!1,Kt=typeof h=="object"?h.enabled===!1:h===!1,Pe=P&&!Lt&&!Kt;return typeof h=="object"?{...h,enabled:Pe}:{enabled:Pe}}}),i8=g.createContext(null),Fj="button",o8="Draggable";function l8(e){let{id:t,data:n,disabled:a=!1,attributes:i}=e;const l=zu(o8),{activators:u,activatorEvent:d,active:h,activeNodeRect:m,ariaDescribedById:y,draggableNodes:p,over:b}=g.useContext(Uu),{role:w=Fj,roleDescription:S="draggable",tabIndex:_=0}=i??{},j=h?.id===t,C=g.useContext(j?Bh:i8),[E,k]=Zf(),[A,L]=Zf(),P=GB(u,t),T=hu(n);xa(()=>(p.set(t,{id:t,key:l,node:E,activatorNode:A,data:T}),()=>{const Z=p.get(t);Z&&Z.key===l&&p.delete(t)}),[p,t]);const z=g.useMemo(()=>({role:w,tabIndex:_,"aria-disabled":a,"aria-pressed":j&&w===Fj?!0:void 0,"aria-roledescription":S,"aria-describedby":y.draggable}),[a,w,_,j,S,y.draggable]);return{active:h,activatorEvent:d,activeNodeRect:m,attributes:z,isDragging:j,listeners:a?void 0:P,node:E,over:b,setNodeRef:k,setActivatorNodeRef:L,transform:C}}function Ek(){return g.useContext(jk)}const c8="Droppable",u8={timeout:25};function Nk(e){let{data:t,disabled:n=!1,id:a,resizeObserverConfig:i}=e;const l=zu(c8),{active:u,dispatch:d,over:h,measureDroppableContainers:m}=g.useContext(Uu),y=g.useRef({disabled:n}),p=g.useRef(!1),b=g.useRef(null),w=g.useRef(null),{disabled:S,updateMeasurementsFor:_,timeout:j}={...u8,...i},C=hu(_??a),E=g.useCallback(()=>{if(!p.current){p.current=!0;return}w.current!=null&&clearTimeout(w.current),w.current=setTimeout(()=>{m(Array.isArray(C.current)?C.current:[C.current]),w.current=null},j)},[j]),k=Fh({callback:E,disabled:S||!u}),A=g.useCallback((z,Z)=>{k&&(Z&&(k.unobserve(Z),p.current=!1),z&&k.observe(z))},[k]),[L,P]=Zf(A),T=hu(t);return g.useEffect(()=>{!k||!L.current||(k.disconnect(),p.current=!1,k.observe(L.current))},[L,k]),g.useEffect(()=>(d({type:Dn.RegisterDroppable,element:{id:a,key:l,disabled:n,node:L,rect:b,data:T}}),()=>d({type:Dn.UnregisterDroppable,key:l,id:a})),[a]),g.useEffect(()=>{n!==y.current.disabled&&(d({type:Dn.SetDroppableDisabled,id:a,key:l,disabled:n}),y.current.disabled=n)},[a,l,n,d]),{active:u,rect:b,isOver:h?.id===a,node:L,over:h,setNodeRef:P}}function d8(e){let{animation:t,children:n}=e;const[a,i]=g.useState(null),[l,u]=g.useState(null),d=eh(n);return!n&&!a&&d&&i(d),xa(()=>{if(!l)return;const h=a?.key,m=a?.props.id;if(h==null||m==null){i(null);return}Promise.resolve(t(m,l)).then(()=>{i(null)})},[t,a,l]),ce.createElement(ce.Fragment,null,n,a?g.cloneElement(a,{ref:u}):null)}const f8={x:0,y:0,scaleX:1,scaleY:1};function h8(e){let{children:t}=e;return ce.createElement(Uu.Provider,{value:Sk},ce.createElement(Bh.Provider,{value:f8},t))}const m8={position:"fixed",touchAction:"none"},p8=e=>$h(e)?"transform 250ms ease":void 0,g8=g.forwardRef((e,t)=>{let{as:n,activatorEvent:a,adjustScale:i,children:l,className:u,rect:d,style:h,transform:m,transition:y=p8}=e;if(!d)return null;const p=i?m:{...m,scaleX:1,scaleY:1},b={...m8,width:d.width,height:d.height,top:d.top,left:d.left,transform:ii.Transform.toString(p),transformOrigin:i&&a?lB(a,d):void 0,transition:typeof y=="function"?y(a):y,...h};return ce.createElement(n,{className:u,style:b,ref:t},l)}),v8=e=>t=>{let{active:n,dragOverlay:a}=t;const i={},{styles:l,className:u}=e;if(l!=null&&l.active)for(const[d,h]of Object.entries(l.active))h!==void 0&&(i[d]=n.node.style.getPropertyValue(d),n.node.style.setProperty(d,h));if(l!=null&&l.dragOverlay)for(const[d,h]of Object.entries(l.dragOverlay))h!==void 0&&a.node.style.setProperty(d,h);return u!=null&&u.active&&n.node.classList.add(u.active),u!=null&&u.dragOverlay&&a.node.classList.add(u.dragOverlay),function(){for(const[h,m]of Object.entries(i))n.node.style.setProperty(h,m);u!=null&&u.active&&n.node.classList.remove(u.active)}},y8=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:ii.Transform.toString(t)},{transform:ii.Transform.toString(n)}]},x8={duration:250,easing:"ease",keyframes:y8,sideEffects:v8({styles:{active:{opacity:"0"}}})};function b8(e){let{config:t,draggableNodes:n,droppableContainers:a,measuringConfiguration:i}=e;return Ih((l,u)=>{if(t===null)return;const d=n.get(l);if(!d)return;const h=d.node.current;if(!h)return;const m=_k(u);if(!m)return;const{transform:y}=ir(u).getComputedStyle(u),p=uk(y);if(!p)return;const b=typeof t=="function"?t:w8(t);return vk(h,i.draggable.measure),b({active:{id:l,data:d.data,node:h,rect:i.draggable.measure(h)},draggableNodes:n,dragOverlay:{node:u,rect:i.dragOverlay.measure(m)},droppableContainers:a,measuringConfiguration:i,transform:p})})}function w8(e){const{duration:t,easing:n,sideEffects:a,keyframes:i}={...x8,...e};return l=>{let{active:u,dragOverlay:d,transform:h,...m}=l;if(!t)return;const y={x:d.rect.left-u.rect.left,y:d.rect.top-u.rect.top},p={scaleX:h.scaleX!==1?u.rect.width*h.scaleX/d.rect.width:1,scaleY:h.scaleY!==1?u.rect.height*h.scaleY/d.rect.height:1},b={x:h.x-y.x,y:h.y-y.y,...p},w=i({...m,active:u,dragOverlay:d,transform:{initial:h,final:b}}),[S]=w,_=w[w.length-1];if(JSON.stringify(S)===JSON.stringify(_))return;const j=a?.({active:u,dragOverlay:d,...m}),C=d.node.animate(w,{duration:t,easing:n,fill:"forwards"});return new Promise(E=>{C.onfinish=()=>{j?.(),E()}})}}let Bj=0;function _8(e){return g.useMemo(()=>{if(e!=null)return Bj++,Bj},[e])}const S8=ce.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:a,style:i,transition:l,modifiers:u,wrapperElement:d="div",className:h,zIndex:m=999}=e;const{activatorEvent:y,active:p,activeNodeRect:b,containerNodeRect:w,draggableNodes:S,droppableContainers:_,dragOverlay:j,over:C,measuringConfiguration:E,scrollableAncestors:k,scrollableAncestorRects:A,windowRect:L}=Ek(),P=g.useContext(Bh),T=_8(p?.id),z=Ck(u,{activatorEvent:y,active:p,activeNodeRect:b,containerNodeRect:w,draggingNodeRect:j.rect,over:C,overlayNodeRect:j.rect,scrollableAncestors:k,scrollableAncestorRects:A,transform:P,windowRect:L}),Z=ax(b),V=b8({config:a,draggableNodes:S,droppableContainers:_,measuringConfiguration:E}),H=Z?j.setRef:void 0;return ce.createElement(h8,null,ce.createElement(d8,{animation:V},p&&T?ce.createElement(g8,{key:T,id:p.id,ref:H,as:d,activatorEvent:y,adjustScale:t,className:h,transition:l,rect:Z,style:{zIndex:m,...i},transform:z},n):null))});function kk(e,t,n){const a=e.slice();return a.splice(n<0?a.length+n:n,0,a.splice(t,1)[0]),a}function j8(e,t){return e.reduce((n,a,i)=>{const l=t.get(a);return l&&(n[i]=l),n},Array(e.length))}function wf(e){return e!==null&&e>=0}function C8(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function E8(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Rk=e=>{let{rects:t,activeIndex:n,overIndex:a,index:i}=e;const l=kk(t,a,n),u=t[i],d=l[i];return!d||!u?null:{x:d.left-u.left,y:d.top-u.top,scaleX:d.width/u.width,scaleY:d.height/u.height}},_f={scaleX:1,scaleY:1},N8=e=>{var t;let{activeIndex:n,activeNodeRect:a,index:i,rects:l,overIndex:u}=e;const d=(t=l[n])!=null?t:a;if(!d)return null;if(i===n){const m=l[u];return m?{x:0,y:n<u?m.top+m.height-(d.top+d.height):m.top-d.top,..._f}:null}const h=k8(l,i,n);return i>n&&i<=u?{x:0,y:-d.height-h,..._f}:i<n&&i>=u?{x:0,y:d.height+h,..._f}:{x:0,y:0,..._f}};function k8(e,t,n){const a=e[t],i=e[t-1],l=e[t+1];return a?n<t?i?a.top-(i.top+i.height):l?l.top-(a.top+a.height):0:l?l.top-(a.top+a.height):i?a.top-(i.top+i.height):0:0}const Tk="Sortable",Ak=ce.createContext({activeIndex:-1,containerId:Tk,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Rk,disabled:{draggable:!1,droppable:!1}});function R8(e){let{children:t,id:n,items:a,strategy:i=Rk,disabled:l=!1}=e;const{active:u,dragOverlay:d,droppableRects:h,over:m,measureDroppableContainers:y}=Ek(),p=zu(Tk,n),b=d.rect!==null,w=g.useMemo(()=>a.map(P=>typeof P=="object"&&"id"in P?P.id:P),[a]),S=u!=null,_=u?w.indexOf(u.id):-1,j=m?w.indexOf(m.id):-1,C=g.useRef(w),E=!C8(w,C.current),k=j!==-1&&_===-1||E,A=E8(l);xa(()=>{E&&S&&y(w)},[E,w,S,y]),g.useEffect(()=>{C.current=w},[w]);const L=g.useMemo(()=>({activeIndex:_,containerId:p,disabled:A,disableTransforms:k,items:w,overIndex:j,useDragOverlay:b,sortedRects:j8(w,h),strategy:i}),[_,p,A.draggable,A.droppable,k,w,j,h,b,i]);return ce.createElement(Ak.Provider,{value:L},t)}const T8=e=>{let{id:t,items:n,activeIndex:a,overIndex:i}=e;return kk(n,a,i).indexOf(t)},A8=e=>{let{containerId:t,isSorting:n,wasDragging:a,index:i,items:l,newIndex:u,previousItems:d,previousContainerId:h,transition:m}=e;return!m||!a||d!==l&&i===u?!1:n?!0:u!==i&&t===h},O8={duration:200,easing:"ease"},Ok="transform",D8=ii.Transition.toString({property:Ok,duration:0,easing:"linear"}),M8={roleDescription:"sortable"};function P8(e){let{disabled:t,index:n,node:a,rect:i}=e;const[l,u]=g.useState(null),d=g.useRef(n);return xa(()=>{if(!t&&n!==d.current&&a.current){const h=i.current;if(h){const m=Pl(a.current,{ignoreTransform:!0}),y={x:h.left-m.left,y:h.top-m.top,scaleX:h.width/m.width,scaleY:h.height/m.height};(y.x||y.y)&&u(y)}}n!==d.current&&(d.current=n)},[t,n,a,i]),g.useEffect(()=>{l&&u(null)},[l]),l}function L8(e){let{animateLayoutChanges:t=A8,attributes:n,disabled:a,data:i,getNewIndex:l=T8,id:u,strategy:d,resizeObserverConfig:h,transition:m=O8}=e;const{items:y,containerId:p,activeIndex:b,disabled:w,disableTransforms:S,sortedRects:_,overIndex:j,useDragOverlay:C,strategy:E}=g.useContext(Ak),k=z8(a,w),A=y.indexOf(u),L=g.useMemo(()=>({sortable:{containerId:p,index:A,items:y},...i}),[p,i,A,y]),P=g.useMemo(()=>y.slice(y.indexOf(u)),[y,u]),{rect:T,node:z,isOver:Z,setNodeRef:V}=Nk({id:u,data:L,disabled:k.droppable,resizeObserverConfig:{updateMeasurementsFor:P,...h}}),{active:H,activatorEvent:K,activeNodeRect:M,attributes:Y,setNodeRef:J,listeners:R,isDragging:U,over:F,setActivatorNodeRef:X,transform:G}=l8({id:u,data:L,attributes:{...M8,...n},disabled:k.draggable}),D=KF(V,J),$=!!H,q=$&&!S&&wf(b)&&wf(j),ae=!C&&U,de=ae&&q?G:null,ie=q?de??(d??E)({rects:_,activeNodeRect:M,activeIndex:b,overIndex:j,index:A}):null,ge=wf(b)&&wf(j)?l({id:u,items:y,activeIndex:b,overIndex:j}):A,ke=H?.id,_e=g.useRef({activeId:ke,items:y,newIndex:ge,containerId:p}),qe=y!==_e.current.items,Ne=t({active:H,containerId:p,isDragging:U,isSorting:$,id:u,index:A,items:y,newIndex:_e.current.newIndex,previousItems:_e.current.items,previousContainerId:_e.current.containerId,transition:m,wasDragging:_e.current.activeId!=null}),rt=P8({disabled:!Ne,index:A,node:z,rect:T});return g.useEffect(()=>{$&&_e.current.newIndex!==ge&&(_e.current.newIndex=ge),p!==_e.current.containerId&&(_e.current.containerId=p),y!==_e.current.items&&(_e.current.items=y)},[$,ge,p,y]),g.useEffect(()=>{if(ke===_e.current.activeId)return;if(ke!=null&&_e.current.activeId==null){_e.current.activeId=ke;return}const mn=setTimeout(()=>{_e.current.activeId=ke},50);return()=>clearTimeout(mn)},[ke]),{active:H,activeIndex:b,attributes:Y,data:L,rect:T,index:A,newIndex:ge,items:y,isOver:Z,isSorting:$,isDragging:U,listeners:R,node:z,overIndex:j,over:F,setNodeRef:D,setActivatorNodeRef:X,setDroppableNodeRef:V,setDraggableNodeRef:J,transform:rt??ie,transition:dt()};function dt(){if(rt||qe&&_e.current.newIndex===A)return D8;if(!(ae&&!$h(K)||!m)&&($||Ne))return ii.Transition.toString({...m,property:Ok})}}function z8(e,t){var n,a;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(a=e?.droppable)!=null?a:t.droppable}}Rt.Down,Rt.Right,Rt.Up,Rt.Left;function qt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function oi(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Dk=6048e5,U8=864e5,Sf=43200,qj=1440;let I8={};function Iu(){return I8}function pu(e,t){const n=Iu(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=qt(e),l=i.getDay(),u=(l<a?7:0)+l-a;return i.setDate(i.getDate()-u),i.setHours(0,0,0,0),i}function sh(e){return pu(e,{weekStartsOn:1})}function Mk(e){const t=qt(e),n=t.getFullYear(),a=oi(e,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=sh(a),l=oi(e,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const u=sh(l);return t.getTime()>=i.getTime()?n+1:t.getTime()>=u.getTime()?n:n-1}function Hj(e){const t=qt(e);return t.setHours(0,0,0,0),t}function ih(e){const t=qt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function $8(e,t){const n=Hj(e),a=Hj(t),i=+n-ih(n),l=+a-ih(a);return Math.round((i-l)/U8)}function F8(e){const t=Mk(e),n=oi(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),sh(n)}function Df(e,t){const n=qt(e),a=qt(t),i=n.getTime()-a.getTime();return i<0?-1:i>0?1:i}function B8(e){return oi(e,Date.now())}function q8(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function H8(e){if(!q8(e)&&typeof e!="number")return!1;const t=qt(e);return!isNaN(Number(t))}function V8(e,t){const n=qt(e),a=qt(t),i=n.getFullYear()-a.getFullYear(),l=n.getMonth()-a.getMonth();return i*12+l}function K8(e){return t=>{const a=(e?Math[e]:Math.trunc)(t);return a===0?0:a}}function W8(e,t){return+qt(e)-+qt(t)}function G8(e){const t=qt(e);return t.setHours(23,59,59,999),t}function Y8(e){const t=qt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Q8(e){const t=qt(e);return+G8(t)==+Y8(t)}function X8(e,t){const n=qt(e),a=qt(t),i=Df(n,a),l=Math.abs(V8(n,a));let u;if(l<1)u=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*l);let d=Df(n,a)===-i;Q8(qt(e))&&l===1&&Df(e,a)===1&&(d=!1),u=i*(l-Number(d))}return u===0?0:u}function J8(e,t,n){const a=W8(e,t)/1e3;return K8(n?.roundingMethod)(a)}function Z8(e){const t=qt(e),n=oi(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const eq={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tq=(e,t,n)=>{let a;const i=eq[e];return typeof i=="string"?a=i:t===1?a=i.one:a=i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function Gg(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const nq={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rq={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},aq={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sq={date:Gg({formats:nq,defaultWidth:"full"}),time:Gg({formats:rq,defaultWidth:"full"}),dateTime:Gg({formats:aq,defaultWidth:"full"})},iq={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},oq=(e,t,n,a)=>iq[e];function Oc(e){return(t,n)=>{const a=n?.context?String(n.context):"standalone";let i;if(a==="formatting"&&e.formattingValues){const u=e.defaultFormattingWidth||e.defaultWidth,d=n?.width?String(n.width):u;i=e.formattingValues[d]||e.formattingValues[u]}else{const u=e.defaultWidth,d=n?.width?String(n.width):e.defaultWidth;i=e.values[d]||e.values[u]}const l=e.argumentCallback?e.argumentCallback(t):t;return i[l]}}const lq={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cq={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uq={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dq={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},fq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mq=(e,t)=>{const n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},pq={ordinalNumber:mq,era:Oc({values:lq,defaultWidth:"wide"}),quarter:Oc({values:cq,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Oc({values:uq,defaultWidth:"wide"}),day:Oc({values:dq,defaultWidth:"wide"}),dayPeriod:Oc({values:fq,defaultWidth:"wide",formattingValues:hq,defaultFormattingWidth:"wide"})};function Dc(e){return(t,n={})=>{const a=n.width,i=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],l=t.match(i);if(!l)return null;const u=l[0],d=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(d)?vq(d,p=>p.test(u)):gq(d,p=>p.test(u));let m;m=e.valueCallback?e.valueCallback(h):h,m=n.valueCallback?n.valueCallback(m):m;const y=t.slice(u.length);return{value:m,rest:y}}}function gq(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function vq(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function yq(e){return(t,n={})=>{const a=t.match(e.matchPattern);if(!a)return null;const i=a[0],l=t.match(e.parsePattern);if(!l)return null;let u=e.valueCallback?e.valueCallback(l[0]):l[0];u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}const xq=/^(\d+)(th|st|nd|rd)?/i,bq=/\d+/i,wq={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_q={any:[/^b/i,/^(a|c)/i]},Sq={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jq={any:[/1/i,/2/i,/3/i,/4/i]},Cq={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Eq={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Nq={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kq={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Rq={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Tq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Aq={ordinalNumber:yq({matchPattern:xq,parsePattern:bq,valueCallback:e=>parseInt(e,10)}),era:Dc({matchPatterns:wq,defaultMatchWidth:"wide",parsePatterns:_q,defaultParseWidth:"any"}),quarter:Dc({matchPatterns:Sq,defaultMatchWidth:"wide",parsePatterns:jq,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Dc({matchPatterns:Cq,defaultMatchWidth:"wide",parsePatterns:Eq,defaultParseWidth:"any"}),day:Dc({matchPatterns:Nq,defaultMatchWidth:"wide",parsePatterns:kq,defaultParseWidth:"any"}),dayPeriod:Dc({matchPatterns:Rq,defaultMatchWidth:"any",parsePatterns:Tq,defaultParseWidth:"any"})},Pk={code:"en-US",formatDistance:tq,formatLong:sq,formatRelative:oq,localize:pq,match:Aq,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Oq(e){const t=qt(e);return $8(t,Z8(t))+1}function Dq(e){const t=qt(e),n=+sh(t)-+F8(t);return Math.round(n/Dk)+1}function Lk(e,t){const n=qt(e),a=n.getFullYear(),i=Iu(),l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,u=oi(e,0);u.setFullYear(a+1,0,l),u.setHours(0,0,0,0);const d=pu(u,t),h=oi(e,0);h.setFullYear(a,0,l),h.setHours(0,0,0,0);const m=pu(h,t);return n.getTime()>=d.getTime()?a+1:n.getTime()>=m.getTime()?a:a-1}function Mq(e,t){const n=Iu(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=Lk(e,t),l=oi(e,0);return l.setFullYear(i,0,a),l.setHours(0,0,0,0),pu(l,t)}function Pq(e,t){const n=qt(e),a=+pu(n,t)-+Mq(n,t);return Math.round(a/Dk)+1}function Dt(e,t){const n=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return n+a}const Hs={y(e,t){const n=e.getFullYear(),a=n>0?n:1-n;return Dt(t==="yy"?a%100:a,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Dt(n+1,2)},d(e,t){return Dt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Dt(e.getHours()%12||12,t.length)},H(e,t){return Dt(e.getHours(),t.length)},m(e,t){return Dt(e.getMinutes(),t.length)},s(e,t){return Dt(e.getSeconds(),t.length)},S(e,t){const n=t.length,a=e.getMilliseconds(),i=Math.trunc(a*Math.pow(10,n-3));return Dt(i,t.length)}},el={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Vj={G:function(e,t,n){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});default:return n.era(a,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const a=e.getFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return Hs.y(e,t)},Y:function(e,t,n,a){const i=Lk(e,a),l=i>0?i:1-i;if(t==="YY"){const u=l%100;return Dt(u,2)}return t==="Yo"?n.ordinalNumber(l,{unit:"year"}):Dt(l,t.length)},R:function(e,t){const n=Mk(e);return Dt(n,t.length)},u:function(e,t){const n=e.getFullYear();return Dt(n,t.length)},Q:function(e,t,n){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return Dt(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,n){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return Dt(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,n){const a=e.getMonth();switch(t){case"M":case"MM":return Hs.M(e,t);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,n){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return Dt(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,n,a){const i=Pq(e,a);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):Dt(i,t.length)},I:function(e,t,n){const a=Dq(e);return t==="Io"?n.ordinalNumber(a,{unit:"week"}):Dt(a,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Hs.d(e,t)},D:function(e,t,n){const a=Oq(e);return t==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Dt(a,t.length)},E:function(e,t,n){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,n,a){const i=e.getDay(),l=(i-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return Dt(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,a){const i=e.getDay(),l=(i-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return Dt(l,t.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const a=e.getDay(),i=a===0?7:a;switch(t){case"i":return String(i);case"ii":return Dt(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const a=e.getHours();let i;switch(a===12?i=el.noon:a===0?i=el.midnight:i=a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const a=e.getHours();let i;switch(a>=17?i=el.evening:a>=12?i=el.afternoon:a>=4?i=el.morning:i=el.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Hs.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Hs.H(e,t)},K:function(e,t,n){const a=e.getHours()%12;return t==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Dt(a,t.length)},k:function(e,t,n){let a=e.getHours();return a===0&&(a=24),t==="ko"?n.ordinalNumber(a,{unit:"hour"}):Dt(a,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Hs.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Hs.s(e,t)},S:function(e,t){return Hs.S(e,t)},X:function(e,t,n){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return Wj(a);case"XXXX":case"XX":return zi(a);default:return zi(a,":")}},x:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"x":return Wj(a);case"xxxx":case"xx":return zi(a);default:return zi(a,":")}},O:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Kj(a,":");default:return"GMT"+zi(a,":")}},z:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Kj(a,":");default:return"GMT"+zi(a,":")}},t:function(e,t,n){const a=Math.trunc(e.getTime()/1e3);return Dt(a,t.length)},T:function(e,t,n){const a=e.getTime();return Dt(a,t.length)}};function Kj(e,t=""){const n=e>0?"-":"+",a=Math.abs(e),i=Math.trunc(a/60),l=a%60;return l===0?n+String(i):n+String(i)+t+Dt(l,2)}function Wj(e,t){return e%60===0?(e>0?"-":"+")+Dt(Math.abs(e)/60,2):zi(e,t)}function zi(e,t=""){const n=e>0?"-":"+",a=Math.abs(e),i=Dt(Math.trunc(a/60),2),l=Dt(a%60,2);return n+i+t+l}const Gj=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},zk=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Lq=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return Gj(e,t);let l;switch(a){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",Gj(a,t)).replace("{{time}}",zk(i,t))},zq={p:zk,P:Lq},Uq=/^D+$/,Iq=/^Y+$/,$q=["D","DD","YY","YYYY"];function Fq(e){return Uq.test(e)}function Bq(e){return Iq.test(e)}function qq(e,t,n){const a=Hq(e,t,n);if(console.warn(a),$q.includes(e))throw new RangeError(a)}function Hq(e,t,n){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Vq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Kq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Wq=/^'([^]*?)'?$/,Gq=/''/g,Yq=/[a-zA-Z]/;function Yj(e,t,n){const a=Iu(),i=a.locale??Pk,l=a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,u=a.weekStartsOn??a.locale?.options?.weekStartsOn??0,d=qt(e);if(!H8(d))throw new RangeError("Invalid time value");let h=t.match(Kq).map(y=>{const p=y[0];if(p==="p"||p==="P"){const b=zq[p];return b(y,i.formatLong)}return y}).join("").match(Vq).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const p=y[0];if(p==="'")return{isToken:!1,value:Qq(y)};if(Vj[p])return{isToken:!0,value:y};if(p.match(Yq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(h=i.localize.preprocessor(d,h));const m={firstWeekContainsDate:l,weekStartsOn:u,locale:i};return h.map(y=>{if(!y.isToken)return y.value;const p=y.value;(Bq(p)||Fq(p))&&qq(p,t,String(e));const b=Vj[p[0]];return b(d,p,i.localize,m)}).join("")}function Qq(e){const t=e.match(Wq);return t?t[1].replace(Gq,"'"):e}function Xq(e,t,n){const a=Iu(),i=n?.locale??a.locale??Pk,l=2520,u=Df(e,t);if(isNaN(u))throw new RangeError("Invalid time value");const d=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:u});let h,m;u>0?(h=qt(t),m=qt(e)):(h=qt(e),m=qt(t));const y=J8(m,h),p=(ih(m)-ih(h))/1e3,b=Math.round((y-p)/60);let w;if(b<2)return n?.includeSeconds?y<5?i.formatDistance("lessThanXSeconds",5,d):y<10?i.formatDistance("lessThanXSeconds",10,d):y<20?i.formatDistance("lessThanXSeconds",20,d):y<40?i.formatDistance("halfAMinute",0,d):y<60?i.formatDistance("lessThanXMinutes",1,d):i.formatDistance("xMinutes",1,d):b===0?i.formatDistance("lessThanXMinutes",1,d):i.formatDistance("xMinutes",b,d);if(b<45)return i.formatDistance("xMinutes",b,d);if(b<90)return i.formatDistance("aboutXHours",1,d);if(b<qj){const S=Math.round(b/60);return i.formatDistance("aboutXHours",S,d)}else{if(b<l)return i.formatDistance("xDays",1,d);if(b<Sf){const S=Math.round(b/qj);return i.formatDistance("xDays",S,d)}else if(b<Sf*2)return w=Math.round(b/Sf),i.formatDistance("aboutXMonths",w,d)}if(w=X8(m,h),w<12){const S=Math.round(b/Sf);return i.formatDistance("xMonths",S,d)}else{const S=w%12,_=Math.trunc(w/12);return S<3?i.formatDistance("aboutXYears",_,d):S<9?i.formatDistance("overXYears",_,d):i.formatDistance("almostXYears",_+1,d)}}function sx(e,t){return Xq(e,B8(e),t)}const Jq={low:"bg-blue-100 text-blue-800 border-blue-200",medium:"bg-yellow-100 text-yellow-800 border-yellow-200",high:"bg-orange-100 text-orange-800 border-orange-200",urgent:"bg-red-100 text-red-800 border-red-200"},Zq={low:"Low",medium:"Medium",high:"High",urgent:"Urgent"};function Uk({task:e,onTaskClick:t,canEdit:n}){const{attributes:a,listeners:i,setNodeRef:l,transform:u,transition:d,isDragging:h}=L8({id:e.id,disabled:!n}),m={transform:ii.Transform.toString(u),transition:d},y=e.due_date&&new Date(e.due_date)<new Date&&e.status!=="completed",p=Math.floor((Date.now()-new Date(e.created_at).getTime())/(1e3*60*60*24)),b=p>30&&e.status!=="completed"&&e.status!=="cancelled";return o.jsxs("div",{ref:l,style:m,...a,...i,onClick:()=>t(e),className:`
        bg-card rounded-md p-2.5 shadow-sm border cursor-pointer
        hover:shadow transition-all
        ${y?"border-destructive":"border-border"}
        ${h?"opacity-50":""}
        ${n?"":"cursor-default"}
      `,children:[o.jsxs("div",{className:"flex items-center justify-between mb-1.5 gap-1",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:`text-[11px] px-2 py-0.5 rounded-full border font-medium ${Jq[e.priority]}`,children:Zq[e.priority]}),e.is_internal&&o.jsx("span",{className:"text-[11px] px-1.5 py-0.5 rounded-full bg-muted text-muted-foreground font-medium",title:"Internal - hidden from clients",children:o.jsx(gl,{className:"w-3 h-3 inline"})})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[b&&o.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-amber-100 text-amber-700 font-medium",title:`Created ${p} days ago`,children:[p,"d"]}),y&&o.jsxs("div",{className:"flex items-center text-destructive text-[11px] font-medium",children:[o.jsx(by,{className:"w-3 h-3 mr-0.5"}),"Overdue"]})]})]}),o.jsx("h3",{className:"font-semibold text-sm text-foreground mb-1 line-clamp-2 leading-tight",children:e.title}),e.description&&o.jsx("p",{className:"text-xs text-muted-foreground mb-2 line-clamp-1 leading-tight",children:e.description}),o.jsxs("div",{className:"flex items-center justify-between text-[11px] text-muted-foreground",children:[o.jsx("div",{className:"flex items-center min-w-0 flex-1",children:e.assigned_to_profile?o.jsxs(o.Fragment,{children:[e.assigned_to_profile.avatar_url?o.jsx("img",{src:e.assigned_to_profile.avatar_url,alt:e.assigned_to_profile.full_name||e.assigned_to_profile.email,className:"w-5 h-5 rounded-full mr-1.5 flex-shrink-0"}):o.jsx("div",{className:"w-5 h-5 rounded-full bg-primary text-white flex items-center justify-center mr-1.5 text-[9px] flex-shrink-0",children:(e.assigned_to_profile.full_name||e.assigned_to_profile.email)[0].toUpperCase()}),o.jsx("span",{className:"truncate",children:e.assigned_to_profile.full_name||e.assigned_to_profile.email})]}):o.jsxs(o.Fragment,{children:[o.jsx(ps,{className:"w-3.5 h-3.5 mr-1 flex-shrink-0"}),o.jsx("span",{children:"Unassigned"})]})}),o.jsx("div",{className:"flex items-center ml-2 flex-shrink-0",children:e.due_date?o.jsxs(o.Fragment,{children:[o.jsx(wy,{className:"w-3 h-3 mr-0.5"}),o.jsx("span",{className:y?"text-destructive font-medium":"",children:sx(new Date(e.due_date),{addSuffix:!0})})]}):o.jsx("span",{className:"text-[10px]",children:new Date(e.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric"})})})]})]})}function eH({status:e,title:t,tasks:n,onTaskClick:a,canEditTask:i}){const{setNodeRef:l}=Nk({id:e});return o.jsxs("div",{className:"flex-1 min-w-[280px] md:min-w-[240px] snap-center md:snap-align-none",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b border-border",children:[o.jsx("h2",{className:"font-semibold text-foreground text-base",children:t}),o.jsx("span",{className:"text-xs text-muted-foreground bg-muted px-2 py-0.5 rounded-full font-medium",children:n.length})]}),o.jsx("div",{ref:l,className:"min-h-[150px] space-y-2",children:o.jsx(R8,{items:n.map(u=>u.id),strategy:N8,children:n.length>0?n.map(u=>o.jsx(Uk,{task:u,onTaskClick:a,canEdit:i(u)},u.id)):o.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground opacity-40",children:[o.jsx(_y,{className:"w-8 h-8 mb-1.5"}),o.jsx("p",{className:"text-xs",children:"No tasks"})]})})})]})}const tH=[{status:"pending",title:"To Do"},{status:"in_progress",title:"In Progress"},{status:"completed",title:"Done"}];function nH({tasks:e,onTaskUpdate:t,onTaskClick:n,canEditTask:a}){const[i,l]=g.useState(null),u=iB(Tj(rx,{activationConstraint:{distance:8}}),Tj(bk,{activationConstraint:{delay:250,tolerance:5}})),d=p=>{const{active:b}=p,w=e.find(S=>S.id===b.id);w&&l(w)},h=async p=>{const{active:b,over:w}=p;if(l(null),!w)return;const S=b.id,_=w.id,j=e.find(C=>C.id===S);!j||j.status===_||a(j)&&await t(S,{status:_})},m=()=>{l(null)},y=p=>e.filter(b=>b.status===p);return o.jsxs(s8,{sensors:u,collisionDetection:fB,onDragStart:d,onDragEnd:h,onDragCancel:m,children:[o.jsx("div",{className:"flex gap-3 md:gap-4 overflow-x-auto pb-4 snap-x snap-mandatory md:snap-none -mx-6 px-6 md:mx-0 md:px-0",children:tH.map(p=>o.jsx(eH,{status:p.status,title:p.title,tasks:y(p.status),onTaskClick:n,canEditTask:a},p.status))}),o.jsx(S8,{children:i?o.jsx("div",{className:"rotate-3",children:o.jsx(Uk,{task:i,onTaskClick:()=>{},canEdit:!0})}):null})]})}function Qj(e,[t,n]){return Math.min(n,Math.max(t,e))}function rH(e){const t=aH(e),n=g.forwardRef((a,i)=>{const{children:l,...u}=a,d=g.Children.toArray(l),h=d.find(iH);if(h){const m=h.props.children,y=d.map(p=>p===h?g.Children.count(m)>1?g.Children.only(null):g.isValidElement(m)?m.props.children:null:p);return o.jsx(t,{...u,ref:i,children:g.isValidElement(m)?g.cloneElement(m,void 0,y):null})}return o.jsx(t,{...u,ref:i,children:l})});return n.displayName=`${e}.Slot`,n}function aH(e){const t=g.forwardRef((n,a)=>{const{children:i,...l}=n;if(g.isValidElement(i)){const u=lH(i),d=oH(l,i.props);return i.type!==g.Fragment&&(d.ref=a?Ba(a,u):u),g.cloneElement(i,d)}return g.Children.count(i)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var sH=Symbol("radix.slottable");function iH(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===sH}function oH(e,t){const n={...t};for(const a in t){const i=e[a],l=t[a];/^on[A-Z]/.test(a)?i&&l?n[a]=(...d)=>{const h=l(...d);return i(...d),h}:i&&(n[a]=i):a==="style"?n[a]={...i,...l}:a==="className"&&(n[a]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function lH(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ix(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Ik=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),cH="VisuallyHidden",uH=g.forwardRef((e,t)=>o.jsx(Ke.span,{...e,ref:t,style:{...Ik,...e.style}}));uH.displayName=cH;var dH=[" ","Enter","ArrowUp","ArrowDown"],fH=[" ","Enter"],no="Select",[qh,Hh,hH]=Sh(no),[Ll]=br(no,[hH,Ol]),Vh=Ol(),[mH,di]=Ll(no),[pH,gH]=Ll(no),$k=e=>{const{__scopeSelect:t,children:n,open:a,defaultOpen:i,onOpenChange:l,value:u,defaultValue:d,onValueChange:h,dir:m,name:y,autoComplete:p,disabled:b,required:w,form:S}=e,_=Vh(t),[j,C]=g.useState(null),[E,k]=g.useState(null),[A,L]=g.useState(!1),P=Eu(m),[T,z]=ta({prop:a,defaultProp:i??!1,onChange:l,caller:no}),[Z,V]=ta({prop:u,defaultProp:d,onChange:h,caller:no}),H=g.useRef(null),K=j?S||!!j.closest("form"):!0,[M,Y]=g.useState(new Set),J=Array.from(M).map(R=>R.props.value).join(";");return o.jsx(My,{..._,children:o.jsxs(mH,{required:w,scope:t,trigger:j,onTriggerChange:C,valueNode:E,onValueNodeChange:k,valueNodeHasChildren:A,onValueNodeHasChildrenChange:L,contentId:Mr(),value:Z,onValueChange:V,open:T,onOpenChange:z,dir:P,triggerPointerDownPosRef:H,disabled:b,children:[o.jsx(qh.Provider,{scope:t,children:o.jsx(pH,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(R=>{Y(U=>new Set(U).add(R))},[]),onNativeOptionRemove:g.useCallback(R=>{Y(U=>{const F=new Set(U);return F.delete(R),F})},[]),children:n})}),K?o.jsxs(uR,{"aria-hidden":!0,required:w,tabIndex:-1,name:y,autoComplete:p,value:Z,onChange:R=>V(R.target.value),disabled:b,form:S,children:[Z===void 0?o.jsx("option",{value:""}):null,Array.from(M)]},J):null]})})};$k.displayName=no;var Fk="SelectTrigger",Bk=g.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:a=!1,...i}=e,l=Vh(n),u=di(Fk,n),d=u.disabled||a,h=it(t,u.onTriggerChange),m=Hh(n),y=g.useRef("touch"),[p,b,w]=fR(_=>{const j=m().filter(k=>!k.disabled),C=j.find(k=>k.value===u.value),E=hR(j,_,C);E!==void 0&&u.onValueChange(E.value)}),S=_=>{d||(u.onOpenChange(!0),w()),_&&(u.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return o.jsx(Rh,{asChild:!0,...l,children:o.jsx(Ke.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":dR(u.value)?"":void 0,...i,ref:h,onClick:Ee(i.onClick,_=>{_.currentTarget.focus(),y.current!=="mouse"&&S(_)}),onPointerDown:Ee(i.onPointerDown,_=>{y.current=_.pointerType;const j=_.target;j.hasPointerCapture(_.pointerId)&&j.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(S(_),_.preventDefault())}),onKeyDown:Ee(i.onKeyDown,_=>{const j=p.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&b(_.key),!(j&&_.key===" ")&&dH.includes(_.key)&&(S(),_.preventDefault())})})})});Bk.displayName=Fk;var qk="SelectValue",Hk=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:a,style:i,children:l,placeholder:u="",...d}=e,h=di(qk,n),{onValueNodeHasChildrenChange:m}=h,y=l!==void 0,p=it(t,h.onValueNodeChange);return Cn(()=>{m(y)},[m,y]),o.jsx(Ke.span,{...d,ref:p,style:{pointerEvents:"none"},children:dR(h.value)?o.jsx(o.Fragment,{children:u}):l})});Hk.displayName=qk;var vH="SelectIcon",Vk=g.forwardRef((e,t)=>{const{__scopeSelect:n,children:a,...i}=e;return o.jsx(Ke.span,{"aria-hidden":!0,...i,ref:t,children:a||""})});Vk.displayName=vH;var yH="SelectPortal",Kk=e=>o.jsx(Tu,{asChild:!0,...e});Kk.displayName=yH;var ro="SelectContent",Wk=g.forwardRef((e,t)=>{const n=di(ro,e.__scopeSelect),[a,i]=g.useState();if(Cn(()=>{i(new DocumentFragment)},[]),!n.open){const l=a;return l?Oa.createPortal(o.jsx(Gk,{scope:e.__scopeSelect,children:o.jsx(qh.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),l):null}return o.jsx(Yk,{...e,ref:t})});Wk.displayName=ro;var fa=10,[Gk,fi]=Ll(ro),xH="SelectContentImpl",bH=rH("SelectContent.RemoveScroll"),Yk=g.forwardRef((e,t)=>{const{__scopeSelect:n,position:a="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:l,onPointerDownOutside:u,side:d,sideOffset:h,align:m,alignOffset:y,arrowPadding:p,collisionBoundary:b,collisionPadding:w,sticky:S,hideWhenDetached:_,avoidCollisions:j,...C}=e,E=di(ro,n),[k,A]=g.useState(null),[L,P]=g.useState(null),T=it(t,ie=>A(ie)),[z,Z]=g.useState(null),[V,H]=g.useState(null),K=Hh(n),[M,Y]=g.useState(!1),J=g.useRef(!1);g.useEffect(()=>{if(k)return Ah(k)},[k]),jh();const R=g.useCallback(ie=>{const[ge,...ke]=K().map(Ne=>Ne.ref.current),[_e]=ke.slice(-1),qe=document.activeElement;for(const Ne of ie)if(Ne===qe||(Ne?.scrollIntoView({block:"nearest"}),Ne===ge&&L&&(L.scrollTop=0),Ne===_e&&L&&(L.scrollTop=L.scrollHeight),Ne?.focus(),document.activeElement!==qe))return},[K,L]),U=g.useCallback(()=>R([z,k]),[R,z,k]);g.useEffect(()=>{M&&U()},[M,U]);const{onOpenChange:F,triggerPointerDownPosRef:X}=E;g.useEffect(()=>{if(k){let ie={x:0,y:0};const ge=_e=>{ie={x:Math.abs(Math.round(_e.pageX)-(X.current?.x??0)),y:Math.abs(Math.round(_e.pageY)-(X.current?.y??0))}},ke=_e=>{ie.x<=10&&ie.y<=10?_e.preventDefault():k.contains(_e.target)||F(!1),document.removeEventListener("pointermove",ge),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",ke,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",ke,{capture:!0})}}},[k,F,X]),g.useEffect(()=>{const ie=()=>F(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[F]);const[G,D]=fR(ie=>{const ge=K().filter(qe=>!qe.disabled),ke=ge.find(qe=>qe.ref.current===document.activeElement),_e=hR(ge,ie,ke);_e&&setTimeout(()=>_e.ref.current.focus())}),$=g.useCallback((ie,ge,ke)=>{const _e=!J.current&&!ke;(E.value!==void 0&&E.value===ge||_e)&&(Z(ie),_e&&(J.current=!0))},[E.value]),q=g.useCallback(()=>k?.focus(),[k]),ae=g.useCallback((ie,ge,ke)=>{const _e=!J.current&&!ke;(E.value!==void 0&&E.value===ge||_e)&&H(ie)},[E.value]),de=a==="popper"?Uv:Qk,pe=de===Uv?{side:d,sideOffset:h,align:m,alignOffset:y,arrowPadding:p,collisionBoundary:b,collisionPadding:w,sticky:S,hideWhenDetached:_,avoidCollisions:j}:{};return o.jsx(Gk,{scope:n,content:k,viewport:L,onViewportChange:P,itemRefCallback:$,selectedItem:z,onItemLeave:q,itemTextRefCallback:ae,focusSelectedItem:U,selectedItemText:V,position:a,isPositioned:M,searchRef:G,children:o.jsx(Ou,{as:bH,allowPinchZoom:!0,children:o.jsx(ku,{asChild:!0,trapped:E.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:Ee(i,ie=>{E.trigger?.focus({preventScroll:!0}),ie.preventDefault()}),children:o.jsx(Nu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:o.jsx(de,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:ie=>ie.preventDefault(),...C,...pe,onPlaced:()=>Y(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:Ee(C.onKeyDown,ie=>{const ge=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!ge&&ie.key.length===1&&D(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let _e=K().filter(qe=>!qe.disabled).map(qe=>qe.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(_e=_e.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const qe=ie.target,Ne=_e.indexOf(qe);_e=_e.slice(Ne+1)}setTimeout(()=>R(_e)),ie.preventDefault()}})})})})})})});Yk.displayName=xH;var wH="SelectItemAlignedPosition",Qk=g.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:a,...i}=e,l=di(ro,n),u=fi(ro,n),[d,h]=g.useState(null),[m,y]=g.useState(null),p=it(t,T=>y(T)),b=Hh(n),w=g.useRef(!1),S=g.useRef(!0),{viewport:_,selectedItem:j,selectedItemText:C,focusSelectedItem:E}=u,k=g.useCallback(()=>{if(l.trigger&&l.valueNode&&d&&m&&_&&j&&C){const T=l.trigger.getBoundingClientRect(),z=m.getBoundingClientRect(),Z=l.valueNode.getBoundingClientRect(),V=C.getBoundingClientRect();if(l.dir!=="rtl"){const qe=V.left-z.left,Ne=Z.left-qe,rt=T.left-Ne,dt=T.width+rt,mn=Math.max(dt,z.width),Mt=window.innerWidth-fa,En=Qj(Ne,[fa,Math.max(fa,Mt-mn)]);d.style.minWidth=dt+"px",d.style.left=En+"px"}else{const qe=z.right-V.right,Ne=window.innerWidth-Z.right-qe,rt=window.innerWidth-T.right-Ne,dt=T.width+rt,mn=Math.max(dt,z.width),Mt=window.innerWidth-fa,En=Qj(Ne,[fa,Math.max(fa,Mt-mn)]);d.style.minWidth=dt+"px",d.style.right=En+"px"}const H=b(),K=window.innerHeight-fa*2,M=_.scrollHeight,Y=window.getComputedStyle(m),J=parseInt(Y.borderTopWidth,10),R=parseInt(Y.paddingTop,10),U=parseInt(Y.borderBottomWidth,10),F=parseInt(Y.paddingBottom,10),X=J+R+M+F+U,G=Math.min(j.offsetHeight*5,X),D=window.getComputedStyle(_),$=parseInt(D.paddingTop,10),q=parseInt(D.paddingBottom,10),ae=T.top+T.height/2-fa,de=K-ae,pe=j.offsetHeight/2,ie=j.offsetTop+pe,ge=J+R+ie,ke=X-ge;if(ge<=ae){const qe=H.length>0&&j===H[H.length-1].ref.current;d.style.bottom="0px";const Ne=m.clientHeight-_.offsetTop-_.offsetHeight,rt=Math.max(de,pe+(qe?q:0)+Ne+U),dt=ge+rt;d.style.height=dt+"px"}else{const qe=H.length>0&&j===H[0].ref.current;d.style.top="0px";const rt=Math.max(ae,J+_.offsetTop+(qe?$:0)+pe)+ke;d.style.height=rt+"px",_.scrollTop=ge-ae+_.offsetTop}d.style.margin=`${fa}px 0`,d.style.minHeight=G+"px",d.style.maxHeight=K+"px",a?.(),requestAnimationFrame(()=>w.current=!0)}},[b,l.trigger,l.valueNode,d,m,_,j,C,l.dir,a]);Cn(()=>k(),[k]);const[A,L]=g.useState();Cn(()=>{m&&L(window.getComputedStyle(m).zIndex)},[m]);const P=g.useCallback(T=>{T&&S.current===!0&&(k(),E?.(),S.current=!1)},[k,E]);return o.jsx(SH,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:w,onScrollButtonChange:P,children:o.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:o.jsx(Ke.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Qk.displayName=wH;var _H="SelectPopperPosition",Uv=g.forwardRef((e,t)=>{const{__scopeSelect:n,align:a="start",collisionPadding:i=fa,...l}=e,u=Vh(n);return o.jsx(Py,{...u,...l,ref:t,align:a,collisionPadding:i,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Uv.displayName=_H;var[SH,ox]=Ll(ro,{}),Iv="SelectViewport",Xk=g.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:a,...i}=e,l=fi(Iv,n),u=ox(Iv,n),d=it(t,l.onViewportChange),h=g.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),o.jsx(qh.Slot,{scope:n,children:o.jsx(Ke.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ee(i.onScroll,m=>{const y=m.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:b}=u;if(b?.current&&p){const w=Math.abs(h.current-y.scrollTop);if(w>0){const S=window.innerHeight-fa*2,_=parseFloat(p.style.minHeight),j=parseFloat(p.style.height),C=Math.max(_,j);if(C<S){const E=C+w,k=Math.min(S,E),A=E-k;p.style.height=k+"px",p.style.bottom==="0px"&&(y.scrollTop=A>0?A:0,p.style.justifyContent="flex-end")}}}h.current=y.scrollTop})})})]})});Xk.displayName=Iv;var Jk="SelectGroup",[jH,CH]=Ll(Jk),EH=g.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e,i=Mr();return o.jsx(jH,{scope:n,id:i,children:o.jsx(Ke.div,{role:"group","aria-labelledby":i,...a,ref:t})})});EH.displayName=Jk;var Zk="SelectLabel",eR=g.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e,i=CH(Zk,n);return o.jsx(Ke.div,{id:i.id,...a,ref:t})});eR.displayName=Zk;var oh="SelectItem",[NH,tR]=Ll(oh),nR=g.forwardRef((e,t)=>{const{__scopeSelect:n,value:a,disabled:i=!1,textValue:l,...u}=e,d=di(oh,n),h=fi(oh,n),m=d.value===a,[y,p]=g.useState(l??""),[b,w]=g.useState(!1),S=it(t,E=>h.itemRefCallback?.(E,a,i)),_=Mr(),j=g.useRef("touch"),C=()=>{i||(d.onValueChange(a),d.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(NH,{scope:n,value:a,disabled:i,textId:_,isSelected:m,onItemTextChange:g.useCallback(E=>{p(k=>k||(E?.textContent??"").trim())},[]),children:o.jsx(qh.ItemSlot,{scope:n,value:a,disabled:i,textValue:y,children:o.jsx(Ke.div,{role:"option","aria-labelledby":_,"data-highlighted":b?"":void 0,"aria-selected":m&&b,"data-state":m?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...u,ref:S,onFocus:Ee(u.onFocus,()=>w(!0)),onBlur:Ee(u.onBlur,()=>w(!1)),onClick:Ee(u.onClick,()=>{j.current!=="mouse"&&C()}),onPointerUp:Ee(u.onPointerUp,()=>{j.current==="mouse"&&C()}),onPointerDown:Ee(u.onPointerDown,E=>{j.current=E.pointerType}),onPointerMove:Ee(u.onPointerMove,E=>{j.current=E.pointerType,i?h.onItemLeave?.():j.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ee(u.onPointerLeave,E=>{E.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:Ee(u.onKeyDown,E=>{h.searchRef?.current!==""&&E.key===" "||(fH.includes(E.key)&&C(),E.key===" "&&E.preventDefault())})})})})});nR.displayName=oh;var $c="SelectItemText",rR=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:a,style:i,...l}=e,u=di($c,n),d=fi($c,n),h=tR($c,n),m=gH($c,n),[y,p]=g.useState(null),b=it(t,C=>p(C),h.onItemTextChange,C=>d.itemTextRefCallback?.(C,h.value,h.disabled)),w=y?.textContent,S=g.useMemo(()=>o.jsx("option",{value:h.value,disabled:h.disabled,children:w},h.value),[h.disabled,h.value,w]),{onNativeOptionAdd:_,onNativeOptionRemove:j}=m;return Cn(()=>(_(S),()=>j(S)),[_,j,S]),o.jsxs(o.Fragment,{children:[o.jsx(Ke.span,{id:h.textId,...l,ref:b}),h.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Oa.createPortal(l.children,u.valueNode):null]})});rR.displayName=$c;var aR="SelectItemIndicator",sR=g.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e;return tR(aR,n).isSelected?o.jsx(Ke.span,{"aria-hidden":!0,...a,ref:t}):null});sR.displayName=aR;var $v="SelectScrollUpButton",iR=g.forwardRef((e,t)=>{const n=fi($v,e.__scopeSelect),a=ox($v,e.__scopeSelect),[i,l]=g.useState(!1),u=it(t,a.onScrollButtonChange);return Cn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const m=h.scrollTop>0;l(m)};const h=n.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?o.jsx(lR,{...e,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=n;d&&h&&(d.scrollTop=d.scrollTop-h.offsetHeight)}}):null});iR.displayName=$v;var Fv="SelectScrollDownButton",oR=g.forwardRef((e,t)=>{const n=fi(Fv,e.__scopeSelect),a=ox(Fv,e.__scopeSelect),[i,l]=g.useState(!1),u=it(t,a.onScrollButtonChange);return Cn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const m=h.scrollHeight-h.clientHeight,y=Math.ceil(h.scrollTop)<m;l(y)};const h=n.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?o.jsx(lR,{...e,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=n;d&&h&&(d.scrollTop=d.scrollTop+h.offsetHeight)}}):null});oR.displayName=Fv;var lR=g.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:a,...i}=e,l=fi("SelectScrollButton",n),u=g.useRef(null),d=Hh(n),h=g.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return g.useEffect(()=>()=>h(),[h]),Cn(()=>{d().find(y=>y.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),o.jsx(Ke.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Ee(i.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(a,50))}),onPointerMove:Ee(i.onPointerMove,()=>{l.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(a,50))}),onPointerLeave:Ee(i.onPointerLeave,()=>{h()})})}),kH="SelectSeparator",cR=g.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e;return o.jsx(Ke.div,{"aria-hidden":!0,...a,ref:t})});cR.displayName=kH;var Bv="SelectArrow",RH=g.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e,i=Vh(n),l=di(Bv,n),u=fi(Bv,n);return l.open&&u.position==="popper"?o.jsx(Ly,{...i,...a,ref:t}):null});RH.displayName=Bv;var TH="SelectBubbleInput",uR=g.forwardRef(({__scopeSelect:e,value:t,...n},a)=>{const i=g.useRef(null),l=it(a,i),u=ix(t);return g.useEffect(()=>{const d=i.current;if(!d)return;const h=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(h,"value").set;if(u!==t&&y){const p=new Event("change",{bubbles:!0});y.call(d,t),d.dispatchEvent(p)}},[u,t]),o.jsx(Ke.select,{...n,style:{...Ik,...n.style},ref:l,defaultValue:t})});uR.displayName=TH;function dR(e){return e===""||e===void 0}function fR(e){const t=ga(e),n=g.useRef(""),a=g.useRef(0),i=g.useCallback(u=>{const d=n.current+u;t(d),(function h(m){n.current=m,window.clearTimeout(a.current),m!==""&&(a.current=window.setTimeout(()=>h(""),1e3))})(d)},[t]),l=g.useCallback(()=>{n.current="",window.clearTimeout(a.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(a.current),[]),[n,i,l]}function hR(e,t,n){const i=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,l=n?e.indexOf(n):-1;let u=AH(e,Math.max(l,0));i.length===1&&(u=u.filter(m=>m!==n));const h=u.find(m=>m.textValue.toLowerCase().startsWith(i.toLowerCase()));return h!==n?h:void 0}function AH(e,t){return e.map((n,a)=>e[(t+a)%e.length])}var OH=$k,mR=Bk,DH=Hk,MH=Vk,PH=Kk,pR=Wk,LH=Xk,gR=eR,vR=nR,zH=rR,UH=sR,yR=iR,xR=oR,bR=cR;const xt=OH,St=DH,ct=g.forwardRef(({className:e,children:t,...n},a)=>o.jsxs(mR,{ref:a,className:Ce("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-howard-evergreen focus:border-howard-evergreen disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 transition-all",e),...n,children:[t,o.jsx(MH,{asChild:!0,children:o.jsx(Ua,{className:"h-4 w-4 opacity-50"})})]}));ct.displayName=mR.displayName;const wR=g.forwardRef(({className:e,...t},n)=>o.jsx(yR,{ref:n,className:Ce("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(dU,{className:"h-4 w-4"})}));wR.displayName=yR.displayName;const _R=g.forwardRef(({className:e,...t},n)=>o.jsx(xR,{ref:n,className:Ce("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Ua,{className:"h-4 w-4"})}));_R.displayName=xR.displayName;const ut=g.forwardRef(({className:e,children:t,position:n="popper",...a},i)=>o.jsx(PH,{children:o.jsxs(pR,{ref:i,className:Ce("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border border-howard-evergreen/20 bg-howard-evergreen text-howard-parchment shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...a,children:[o.jsx(wR,{}),o.jsx(LH,{className:Ce("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(_R,{})]})}));ut.displayName=pR.displayName;const IH=g.forwardRef(({className:e,...t},n)=>o.jsx(gR,{ref:n,className:Ce("px-2 py-1.5 text-sm font-semibold text-howard-parchment/70",e),...t}));IH.displayName=gR.displayName;const Se=g.forwardRef(({className:e,children:t,...n},a)=>o.jsxs(vR,{ref:a,className:Ce("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-howard-forest focus:text-howard-parchment data-[disabled]:pointer-events-none data-[disabled]:opacity-50 transition-colors",e),...n,children:[o.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(UH,{children:o.jsx(xy,{className:"h-4 w-4"})})}),o.jsx(zH,{children:t})]}));Se.displayName=vR.displayName;const $H=g.forwardRef(({className:e,...t},n)=>o.jsx(bR,{ref:n,className:Ce("-mx-1 my-1 h-px bg-howard-forest/30",e),...t}));$H.displayName=bR.displayName;function $i({label:e,isActive:t,onClick:n,size:a="md",disabled:i=!1,count:l}){return o.jsxs(ve,{type:"button",variant:t?"default":"outline",size:a==="sm"?"sm":"default",onClick:n,disabled:i,className:Ce("rounded-full whitespace-nowrap",t?"bg-primary/10 border border-primary/40 text-primary hover:bg-primary/20":"bg-card border border-border text-muted-foreground hover:bg-secondary"),children:[e,l!==void 0&&` (${l})`]})}function Xj({children:e,label:t}){return o.jsxs("div",{className:"flex items-center gap-2",children:[t&&o.jsx("span",{className:"text-xs text-muted-foreground uppercase font-medium",children:t}),e]})}const FH=[{value:"my-tasks",label:"My Tasks"},{value:"team-tasks",label:"Team Tasks",adminOnly:!0},{value:"client-tasks",label:"Client Tasks",adminOnly:!0},{value:"all-tasks",label:"All Tasks",adminOnly:!0}];function BH({activeTab:e,onTabChange:t,assigneeFilter:n,onAssigneeChange:a,orgFilter:i,onOrgChange:l,longOutstanding:u,onLongOutstandingChange:d,users:h,organizations:m=[],userRole:y}){const p=["admin","manager","user"].includes(y||""),b=FH.filter(w=>!w.adminOnly||p);return o.jsxs("div",{className:"flex flex-col gap-3 mb-3 md:mb-4 pb-3 border-b border-border",children:[o.jsx("div",{className:"flex gap-1.5 overflow-x-auto pb-1 -mx-4 px-4 md:mx-0 md:px-0 scrollbar-hide",children:o.jsx("div",{className:"flex gap-1.5 min-w-min",children:b.map(w=>o.jsx($i,{label:w.label,isActive:e===w.value,onClick:()=>t(w.value),size:"sm"},w.value))})}),p&&o.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[o.jsx("div",{className:"w-full sm:w-44",children:o.jsxs(xt,{value:n||"__all__",onValueChange:w=>a(w==="__all__"?null:w),children:[o.jsx(ct,{className:"text-xs h-8",children:o.jsx(St,{})}),o.jsxs(ut,{children:[o.jsx(Se,{value:"__all__",children:"All Assignees"}),h.map(w=>o.jsx(Se,{value:w.id,children:w.full_name||w.email},w.id))]})]})}),m.length>0&&l&&o.jsx("div",{className:"w-full sm:w-44",children:o.jsxs(xt,{value:i||"__all__",onValueChange:w=>l(w==="__all__"?null:w),children:[o.jsx(ct,{className:"text-xs h-8",children:o.jsx(St,{})}),o.jsxs(ut,{children:[o.jsx(Se,{value:"__all__",children:"All Clients"}),m.map(w=>o.jsx(Se,{value:w.id,children:w.name},w.id))]})]})}),d&&o.jsx($i,{label:"30+ Days",isActive:u||!1,onClick:()=>d(!u),size:"sm"})]})]})}const li=g.forwardRef(({className:e,...t},n)=>o.jsx("textarea",{className:Ce("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-howard-evergreen focus-visible:border-howard-evergreen disabled:cursor-not-allowed disabled:opacity-50 md:text-sm transition-all",e),ref:n,...t}));li.displayName="Textarea";var Kh="Switch",[qH]=br(Kh),[HH,VH]=qH(Kh),SR=g.forwardRef((e,t)=>{const{__scopeSwitch:n,name:a,checked:i,defaultChecked:l,required:u,disabled:d,value:h="on",onCheckedChange:m,form:y,...p}=e,[b,w]=g.useState(null),S=it(t,k=>w(k)),_=g.useRef(!1),j=b?y||!!b.closest("form"):!0,[C,E]=ta({prop:i,defaultProp:l??!1,onChange:m,caller:Kh});return o.jsxs(HH,{scope:n,checked:C,disabled:d,children:[o.jsx(Ke.button,{type:"button",role:"switch","aria-checked":C,"aria-required":u,"data-state":NR(C),"data-disabled":d?"":void 0,disabled:d,value:h,...p,ref:S,onClick:Ee(e.onClick,k=>{E(A=>!A),j&&(_.current=k.isPropagationStopped(),_.current||k.stopPropagation())})}),j&&o.jsx(ER,{control:b,bubbles:!_.current,name:a,value:h,checked:C,required:u,disabled:d,form:y,style:{transform:"translateX(-100%)"}})]})});SR.displayName=Kh;var jR="SwitchThumb",CR=g.forwardRef((e,t)=>{const{__scopeSwitch:n,...a}=e,i=VH(jR,n);return o.jsx(Ke.span,{"data-state":NR(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})});CR.displayName=jR;var KH="SwitchBubbleInput",ER=g.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:a=!0,...i},l)=>{const u=g.useRef(null),d=it(u,l),h=ix(n),m=Ay(t);return g.useEffect(()=>{const y=u.current;if(!y)return;const p=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(p,"checked").set;if(h!==n&&w){const S=new Event("click",{bubbles:a});w.call(y,n),y.dispatchEvent(S)}},[h,n,a]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:d,style:{...i.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ER.displayName=KH;function NR(e){return e?"checked":"unchecked"}var kR=SR,WH=CR;const ao=g.forwardRef(({className:e,...t},n)=>o.jsx(kR,{className:Ce("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:o.jsx(WH,{className:Ce("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));ao.displayName=kR.displayName;var GH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],YH=GH.reduce((e,t)=>{const n=wh(`Primitive.${t}`),a=g.forwardRef((i,l)=>{const{asChild:u,...d}=i,h=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(h,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),QH="Separator",Jj="horizontal",XH=["horizontal","vertical"],RR=g.forwardRef((e,t)=>{const{decorative:n,orientation:a=Jj,...i}=e,l=JH(a)?a:Jj,d=n?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return o.jsx(YH.div,{"data-orientation":l,...d,...i,ref:t})});RR.displayName=QH;function JH(e){return XH.includes(e)}var TR=RR;const bl=g.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...a},i)=>o.jsx(TR,{ref:i,decorative:n,orientation:t,className:Ce("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));bl.displayName=TR.displayName;var ZH=Symbol("radix.slottable");function e7(e){const t=({children:n})=>o.jsx(o.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=ZH,t}var AR="AlertDialog",[t7]=br(AR,[UN]),xs=UN(),OR=e=>{const{__scopeAlertDialog:t,...n}=e,a=xs(t);return o.jsx(ek,{...a,...n,modal:!0})};OR.displayName=AR;var n7="AlertDialogTrigger",r7=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,i=xs(n);return o.jsx(EF,{...i,...a,ref:t})});r7.displayName=n7;var a7="AlertDialogPortal",DR=e=>{const{__scopeAlertDialog:t,...n}=e,a=xs(t);return o.jsx(tk,{...a,...n})};DR.displayName=a7;var s7="AlertDialogOverlay",MR=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,i=xs(n);return o.jsx(Wy,{...i,...a,ref:t})});MR.displayName=s7;var pl="AlertDialogContent",[i7,o7]=t7(pl),l7=e7("AlertDialogContent"),PR=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:a,...i}=e,l=xs(n),u=g.useRef(null),d=it(t,u),h=g.useRef(null);return o.jsx(_F,{contentName:pl,titleName:LR,docsSlug:"alert-dialog",children:o.jsx(i7,{scope:n,cancelRef:h,children:o.jsxs(Gy,{role:"alertdialog",...l,...i,ref:d,onOpenAutoFocus:Ee(i.onOpenAutoFocus,m=>{m.preventDefault(),h.current?.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[o.jsx(l7,{children:a}),o.jsx(u7,{contentRef:u})]})})})});PR.displayName=pl;var LR="AlertDialogTitle",zR=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,i=xs(n);return o.jsx(Yy,{...i,...a,ref:t})});zR.displayName=LR;var UR="AlertDialogDescription",IR=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,i=xs(n);return o.jsx(Qy,{...i,...a,ref:t})});IR.displayName=UR;var c7="AlertDialogAction",$R=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,i=xs(n);return o.jsx(Xy,{...i,...a,ref:t})});$R.displayName=c7;var FR="AlertDialogCancel",BR=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,{cancelRef:i}=o7(FR,n),l=xs(n),u=it(t,i);return o.jsx(Xy,{...l,...a,ref:u})});BR.displayName=FR;var u7=({contentRef:e})=>{const t=`\`${pl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${pl}\` by passing a \`${UR}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${pl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return g.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},d7=OR,f7=DR,qR=MR,HR=PR,VR=$R,KR=BR,WR=zR,GR=IR;const YR=d7,h7=f7,QR=g.forwardRef(({className:e,...t},n)=>o.jsx(qR,{className:Ce("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));QR.displayName=qR.displayName;const lx=g.forwardRef(({className:e,...t},n)=>o.jsxs(h7,{children:[o.jsx(QR,{}),o.jsx(HR,{ref:n,className:Ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));lx.displayName=HR.displayName;const cx=({className:e,...t})=>o.jsx("div",{className:Ce("flex flex-col space-y-2 text-center sm:text-left",e),...t});cx.displayName="AlertDialogHeader";const ux=({className:e,...t})=>o.jsx("div",{className:Ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ux.displayName="AlertDialogFooter";const dx=g.forwardRef(({className:e,...t},n)=>o.jsx(WR,{ref:n,className:Ce("text-lg font-semibold",e),...t}));dx.displayName=WR.displayName;const fx=g.forwardRef(({className:e,...t},n)=>o.jsx(GR,{ref:n,className:Ce("text-sm text-muted-foreground",e),...t}));fx.displayName=GR.displayName;const hx=g.forwardRef(({className:e,...t},n)=>o.jsx(VR,{ref:n,className:Ce(yy(),e),...t}));hx.displayName=VR.displayName;const mx=g.forwardRef(({className:e,...t},n)=>o.jsx(KR,{ref:n,className:Ce(yy({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));mx.displayName=KR.displayName;function co({open:e,onOpenChange:t,title:n,description:a,confirmLabel:i="Confirm",variant:l="default",onConfirm:u}){return o.jsx(YR,{open:e,onOpenChange:t,children:o.jsxs(lx,{children:[o.jsxs(cx,{children:[o.jsx(dx,{children:n}),o.jsx(fx,{children:a})]}),o.jsxs(ux,{children:[o.jsx(mx,{children:"Cancel"}),o.jsx(hx,{onClick:u,className:l==="destructive"?"bg-destructive text-destructive-foreground hover:bg-destructive/90":"",children:i})]})]})})}const px="/.netlify/functions",Wh={all:["task-comments"],list:e=>[...Wh.all,e]};function m7(e){return xr({queryKey:Wh.list(e||""),queryFn:async()=>{const n=await(await Yn(`${px}/task-comments?taskId=${e}`)).json();if(!n.success)throw new Error(n.error);return n.data.comments},enabled:!!e})}function p7(){const e=rn();return on({mutationFn:async t=>{const n=await Yn(`${px}/task-comments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||"Failed to create comment");return a.data.comment},onSuccess:t=>{e.invalidateQueries({queryKey:Wh.list(t.task_id)})},onError:t=>{me.error(t.message)}})}function g7(){const e=rn();return on({mutationFn:async t=>{const n=await Yn(`${px}/task-comments?id=${t.id}`,{method:"DELETE"}),a=await n.json();if(!n.ok)throw new Error(a.error||"Failed to delete comment");return t},onSuccess:t=>{e.invalidateQueries({queryKey:Wh.list(t.taskId)}),me.success("Comment deleted")},onError:t=>{me.error(t.message)}})}function v7({taskId:e,currentUserId:t,isTeam:n,users:a}){const{data:i=[],isLoading:l}=m7(e),u=p7(),d=g7(),[h,m]=g.useState(""),[y,p]=g.useState(!1),[b,w]=g.useState(!1),[S,_]=g.useState(""),[j,C]=g.useState(0),E=g.useRef(null),k=g.useRef(null);g.useEffect(()=>{k.current?.scrollIntoView({behavior:"smooth"})},[i.length]);const A=async()=>{h.trim()&&(await u.mutateAsync({task_id:e,content:h.trim(),is_internal:y}),m(""),p(!1))},L=V=>{V.key==="Enter"&&(V.metaKey||V.ctrlKey)&&(V.preventDefault(),A())},P=V=>{m(V);const H=E.current;if(!H)return;const K=H.selectionStart,Y=V.substring(0,K).match(/@(\w*)$/);Y?(w(!0),_(Y[1].toLowerCase()),C(K-Y[0].length)):w(!1)},T=V=>{const H=V.full_name||V.email,K=h.substring(0,j),M=h.substring(E.current?.selectionStart||j),Y=`${K}@[${H}](${V.id}) ${M}`;m(Y),w(!1),setTimeout(()=>E.current?.focus(),0)},z=a.filter(V=>V.id!==t&&(V.full_name?.toLowerCase().includes(S)||V.email.toLowerCase().includes(S))).slice(0,5),Z=V=>V.split(/(@\[([^\]]+)\]\([a-f0-9-]+\))/).map((K,M)=>{const Y=K.match(/^@\[([^\]]+)\]\(([a-f0-9-]+)\)$/);return Y?o.jsxs("span",{className:"text-primary font-medium",children:["@",Y[1]]},M):M%3!==0?null:o.jsx("span",{children:K},M)});return l?o.jsx("div",{className:"flex items-center justify-center py-6",children:o.jsx(Bt,{className:"w-5 h-5 animate-spin text-muted-foreground"})}):o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"max-h-64 overflow-y-auto space-y-3",children:[i.length===0?o.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No comments yet"}):i.map(V=>o.jsxs("div",{className:`flex gap-2.5 group ${V.is_internal?"opacity-80":""}`,children:[o.jsx(gr,{name:V.user?.full_name||V.user?.email||"",email:V.user?.email,role:V.user?.role,src:V.user?.avatar_url||void 0,size:"sm"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-medium text-foreground",children:V.user?.full_name||V.user?.email}),o.jsx("span",{className:"text-[11px] text-muted-foreground",children:sx(new Date(V.created_at),{addSuffix:!0})}),V.is_internal&&o.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-muted text-muted-foreground",title:"Internal comment",children:o.jsx(gl,{className:"w-3 h-3 inline"})}),(V.user_id===t||n)&&o.jsx(ve,{variant:"ghost",size:"icon",className:"h-5 w-5 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>d.mutate({id:V.id,taskId:e}),children:o.jsx(Qi,{className:"w-3 h-3 text-muted-foreground"})})]}),o.jsx("p",{className:"text-sm text-foreground/90 mt-0.5 whitespace-pre-wrap break-words",children:Z(V.content)})]})]},V.id)),o.jsx("div",{ref:k})]}),o.jsxs("div",{className:"relative",children:[o.jsx(li,{ref:E,value:h,onChange:V=>P(V.target.value),onKeyDown:L,placeholder:"Add a comment... (@ to mention, Cmd+Enter to send)",rows:2,className:"pr-12 text-sm resize-none"}),b&&z.length>0&&o.jsx("div",{className:"absolute bottom-full left-0 mb-1 w-64 bg-card border border-border rounded-md shadow-lg z-50 max-h-40 overflow-y-auto",children:z.map(V=>o.jsxs("button",{className:"w-full text-left px-3 py-2 text-sm hover:bg-secondary transition-colors flex items-center gap-2",onClick:()=>T(V),children:[o.jsx(gr,{name:V.full_name||V.email,size:"xs"}),o.jsx("span",{className:"truncate",children:V.full_name||V.email})]},V.id))}),o.jsx(ve,{type:"button",size:"icon",variant:"ghost",className:"absolute right-2 bottom-2 h-7 w-7",onClick:A,disabled:!h.trim()||u.isPending,children:u.isPending?o.jsx(Bt,{className:"w-4 h-4 animate-spin"}):o.jsx(HC,{className:"w-4 h-4"})})]}),n&&o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[o.jsx(ao,{checked:y,onCheckedChange:p,className:"scale-75"}),o.jsx("span",{children:"Internal comment (hidden from clients)"})]})]})}const y7=[{value:"pending",label:"To Do"},{value:"in_progress",label:"In Progress"},{value:"completed",label:"Done"},{value:"cancelled",label:"Cancelled"}],x7=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"urgent",label:"Urgent"}];function b7({isOpen:e,onClose:t,task:n,onSave:a,onDelete:i,users:l,organizations:u,profile:d}){const[h,m]=g.useState({title:"",description:"",status:"pending",priority:"medium",assigned_to:null,due_date:null,is_internal:!1,is_recurring:!1,recurrence_rule:null}),[y,p]=g.useState("internal"),[b,w]=g.useState(""),[S,_]=g.useState({}),[j,C]=g.useState(!1),[E,k]=g.useState(!1),[A,L]=g.useState(!1),P=!!n,T=["admin","manager"].includes(d?.role||"");g.useEffect(()=>{if(n){m({title:n.title,description:n.description||"",status:n.status,priority:n.priority,assigned_to:n.assigned_to,due_date:n.due_date,is_internal:n.is_internal||!1,is_recurring:n.is_recurring||!1,recurrence_rule:n.recurrence_rule||null});const M=l.find(Y=>Y.id===n.assigned_to);M&&M.org_id!==d?.org_id?(p("external"),w(M.org_id||"")):(p("internal"),w(""))}else m({title:"",description:"",status:"pending",priority:"medium",assigned_to:null,due_date:null,is_internal:!1,is_recurring:!1,recurrence_rule:null}),p("internal"),w("");_({})},[n,e,l,d]);const z=()=>{const M=[{value:"",label:"Unassigned"}];return d&&l.filter(J=>y==="internal"?J.org_id===d.org_id:J.org_id===b).forEach(J=>{["admin","manager","user"].includes(d.role)?M.push({value:J.id,label:J.full_name||J.email}):(J.id===d.id||["admin","manager","user"].includes(J.role))&&M.push({value:J.id,label:J.full_name||J.email})}),M},Z=()=>{const M={};return h.title.trim()||(M.title="Title is required"),_(M),Object.keys(M).length===0},V=async M=>{if(M.preventDefault(),!!Z()){C(!0);try{const Y={...h,...y==="external"&&b?{target_org_id:b}:{}};await a(Y,n?.id),t()}catch(Y){console.error("Failed to save task:",Y)}finally{C(!1)}}},H=()=>{!n||!i||L(!0)},K=n&&d&&(["admin","manager"].includes(d.role)||n.created_by===d.id);return o.jsxs(Ur,{open:e,onOpenChange:M=>!M&&t(),children:[o.jsxs(wr,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx(vr,{children:o.jsx(yr,{children:P?"Edit Task":"Create New Task"})}),o.jsxs("form",{onSubmit:V,className:"space-y-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{children:"Title"}),o.jsx(nt,{value:h.title,onChange:M=>m({...h,title:M.target.value}),placeholder:"Enter task title",required:!0}),S.title&&o.jsx("p",{className:"text-sm text-destructive",children:S.title})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{children:"Description"}),o.jsx(li,{value:h.description,onChange:M=>m({...h,description:M.target.value}),placeholder:"Enter task description (optional)",rows:3})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{children:"Status"}),o.jsxs(xt,{value:h.status,onValueChange:M=>m({...h,status:M}),children:[o.jsx(ct,{children:o.jsx(St,{})}),o.jsx(ut,{children:y7.map(M=>o.jsx(Se,{value:M.value,children:M.label},M.value))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{children:"Priority"}),o.jsxs(xt,{value:h.priority,onValueChange:M=>m({...h,priority:M}),children:[o.jsx(ct,{children:o.jsx(St,{})}),o.jsx(ut,{children:x7.map(M=>o.jsx(Se,{value:M.value,children:M.label},M.value))})]})]})]}),T&&!P&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-foreground mb-1.5",children:"Assignment Type"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ve,{type:"button",size:"sm",variant:y==="internal"?"default":"outline",className:"flex-1 text-xs",onClick:()=>{p("internal"),w(""),m({...h,assigned_to:null})},children:"Internal"}),o.jsx(ve,{type:"button",size:"sm",variant:y==="external"?"default":"outline",className:"flex-1 text-xs",onClick:()=>{p("external"),m({...h,assigned_to:null})},children:"External (Client)"})]})]}),T&&!P&&y==="external"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{children:"Client Organization"}),o.jsxs(xt,{value:b||"__none__",onValueChange:M=>{w(M==="__none__"?"":M),m({...h,assigned_to:null})},children:[o.jsx(ct,{children:o.jsx(St,{})}),o.jsxs(ut,{children:[o.jsx(Se,{value:"__none__",children:"Select Organization"}),u.map(M=>o.jsx(Se,{value:M.id,children:M.name},M.id))]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{children:"Assigned To"}),o.jsxs(xt,{value:h.assigned_to||"__unassigned__",onValueChange:M=>m({...h,assigned_to:M==="__unassigned__"?null:M}),disabled:T&&!P&&y==="external"&&!b,children:[o.jsx(ct,{children:o.jsx(St,{})}),o.jsxs(ut,{children:[o.jsx(Se,{value:"__unassigned__",children:"Unassigned"}),z().filter(M=>M.value!=="").map(M=>o.jsx(Se,{value:M.value,children:M.label},M.value))]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{children:"Due Date"}),o.jsx(nt,{type:"date",value:h.due_date||"",onChange:M=>m({...h,due_date:M.target.value||null})})]})]}),T&&o.jsxs("div",{className:"flex items-center justify-between p-3 bg-secondary rounded-lg border border-border",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:"Internal Task"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Hidden from client views"})]}),o.jsx(ao,{checked:h.is_internal||!1,onCheckedChange:M=>m({...h,is_internal:M})})]}),T&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 bg-secondary rounded-lg border border-border",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:"Recurring Task"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically create new instances on a schedule"})]}),o.jsx(ao,{checked:h.is_recurring||!1,onCheckedChange:M=>{m({...h,is_recurring:M,recurrence_rule:M?{frequency:"weekly",interval:1}:null})}})]}),h.is_recurring&&h.recurrence_rule&&o.jsxs("div",{className:"grid grid-cols-3 gap-3 pl-3 border-l-2 border-primary/20",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(Me,{className:"text-xs",children:"Frequency"}),o.jsxs(xt,{value:h.recurrence_rule.frequency,onValueChange:M=>m({...h,recurrence_rule:{...h.recurrence_rule,frequency:M}}),children:[o.jsx(ct,{className:"h-8 text-xs",children:o.jsx(St,{})}),o.jsxs(ut,{children:[o.jsx(Se,{value:"weekly",children:"Weekly"}),o.jsx(Se,{value:"monthly",children:"Monthly"}),o.jsx(Se,{value:"quarterly",children:"Quarterly"})]})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Me,{className:"text-xs",children:"Every"}),o.jsxs(xt,{value:String(h.recurrence_rule.interval||1),onValueChange:M=>m({...h,recurrence_rule:{...h.recurrence_rule,interval:parseInt(M)}}),children:[o.jsx(ct,{className:"h-8 text-xs",children:o.jsx(St,{})}),o.jsx(ut,{children:[1,2,3,4,6,12].map(M=>o.jsxs(Se,{value:String(M),children:[M," ",h.recurrence_rule.frequency==="weekly"?M===1?"week":"weeks":h.recurrence_rule.frequency==="monthly"?M===1?"month":"months":M===1?"quarter":"quarters"]},M))})]})]}),h.recurrence_rule.frequency==="weekly"&&o.jsxs("div",{className:"space-y-1",children:[o.jsx(Me,{className:"text-xs",children:"Day"}),o.jsxs(xt,{value:String(h.recurrence_rule.day_of_week??1),onValueChange:M=>m({...h,recurrence_rule:{...h.recurrence_rule,day_of_week:parseInt(M)}}),children:[o.jsx(ct,{className:"h-8 text-xs",children:o.jsx(St,{})}),o.jsx(ut,{children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((M,Y)=>o.jsx(Se,{value:String(Y),children:M},Y))})]})]}),(h.recurrence_rule.frequency==="monthly"||h.recurrence_rule.frequency==="quarterly")&&o.jsxs("div",{className:"space-y-1",children:[o.jsx(Me,{className:"text-xs",children:"Day of Month"}),o.jsxs(xt,{value:String(h.recurrence_rule.day_of_month??1),onValueChange:M=>m({...h,recurrence_rule:{...h.recurrence_rule,day_of_month:parseInt(M)}}),children:[o.jsx(ct,{className:"h-8 text-xs",children:o.jsx(St,{})}),o.jsx(ut,{children:Array.from({length:28},(M,Y)=>Y+1).map(M=>o.jsx(Se,{value:String(M),children:M},M))})]})]})]}),P&&n?.parent_task_id&&o.jsx("p",{className:"text-xs text-muted-foreground pl-3 border-l-2 border-primary/20",children:"This task was generated from a recurring task template."})]}),P&&n&&d&&o.jsxs("div",{children:[o.jsx(bl,{className:"my-1"}),o.jsx("h4",{className:"text-sm font-medium text-foreground mb-2",children:"Comments"}),o.jsx(v7,{taskId:n.id,currentUserId:d.id,isTeam:T,users:l.map(M=>({id:M.id,full_name:M.full_name,email:M.email}))})]}),o.jsxs(na,{children:[K&&o.jsx(ve,{type:"button",variant:"destructive",onClick:H,disabled:E,className:"mr-auto",children:E?"Deleting...":"Delete"}),o.jsx(ve,{type:"button",variant:"outline",onClick:t,disabled:j||E,children:"Cancel"}),o.jsx(ve,{type:"submit",disabled:j||E,children:j?"Saving...":P?"Save Changes":"Create Task"})]})]})]}),o.jsx(co,{open:A,onOpenChange:L,title:"Delete Task",description:"Are you sure you want to delete this task?",confirmLabel:"Delete",variant:"destructive",onConfirm:async()=>{if(!(!n||!i)){L(!1),k(!0);try{await i(n.id),t()}catch(M){console.error("Failed to delete task:",M)}finally{k(!1)}}}})]})}function XR(e){return e?.role==="admin"||e?.role==="manager"}function w7(e){return e?.role==="client"}function _7(e){return e?.role==="user"}function S7(e,t){if(!e)return!1;if(e.role!=="user")return!0;const n=e.allowed_org_ids;return!n||n.length===0?!0:n.includes(t)}function j7(e,t){return e?XR(e)?!0:_7(e)?S7(e,t.org_id):t.created_by===e.id||t.assigned_to===e.id:!1}const C7=["client","client_no_access"],E7=["admin","manager","user","client","client_no_access"];function N7(e){return e?["admin","manager","client"].includes(e.role):!1}function JR(e){return e?XR(e)?E7:w7(e)?C7:[]:[]}class Zj extends Error{constructor(t,n,a){super(n),this.statusCode=t,this.details=a,this.name="ApiError"}}class k7{async request(t,n){const a=await Yn(t,{...n,headers:{"Content-Type":"application/json",...n?.headers}});if(!a.ok){const l=await a.json().catch(()=>({error:"Request failed"}));throw new Zj(a.status,l.error||"Request failed",l.details)}const i=await a.json();return i.success!==!1&&i.data||i}async getTasks(t){const n=new URLSearchParams;return t?.view&&n.set("view",t.view),t?.assignee&&n.set("assignee",t.assignee),t?.status&&n.set("status",t.status),this.request(`/api/tasks?${n}`)}async getTask(t){return this.request(`/api/tasks?id=${t}`)}async createTask(t){return this.request("/api/tasks",{method:"POST",body:JSON.stringify(t)})}async updateTask(t,n){return this.request(`/api/tasks?id=${t}`,{method:"PATCH",body:JSON.stringify(n)})}async deleteTask(t){return this.request(`/api/tasks?id=${t}`,{method:"DELETE"})}async getFiles(t="/",n="all"){return this.request(`/api/files?folderPath=${encodeURIComponent(t)}&view=${n}`)}async deleteFile(t){return this.request(`/api/files?id=${t}`,{method:"DELETE"})}async uploadFile(t){const n=await Yn("/api/files-upload",{method:"POST",body:t});if(!n.ok){const a=await n.json().catch(()=>({error:"Upload failed"}));throw new Zj(n.status,a.error||"Upload failed",a.details)}return n.json()}async shareFile(t,n,a="view"){return this.request("/api/files-share",{method:"POST",body:JSON.stringify({fileId:t,userIds:n,permission:a})})}async getFilePermissions(t){return this.request(`/api/files-share?fileId=${t}`)}async getFileChannels(){return this.request("/api/file-channels")}async getFileChannel(t){return this.request(`/api/file-channels?id=${t}`)}async createFileChannel(t){return this.request("/api/file-channels",{method:"POST",body:JSON.stringify(t)})}async updateFileChannel(t,n){return this.request(`/api/file-channels?id=${t}`,{method:"PATCH",body:JSON.stringify(n)})}async deleteFileChannel(t){return this.request(`/api/file-channels?id=${t}`,{method:"DELETE"})}async getChannelFiles(t,n="/"){return this.request(`/api/files?channelId=${t}&folderPath=${encodeURIComponent(n)}`)}async getChannelFolders(t,n="/"){return this.request(`/api/channel-folders?channelId=${t}&parentPath=${encodeURIComponent(n)}`)}async createChannelFolder(t){return this.request("/api/channel-folders",{method:"POST",body:JSON.stringify(t)})}async deleteChannelFolder(t){return this.request(`/api/channel-folders?id=${t}`,{method:"DELETE"})}async getClients(){return this.request("/api/users-clients")}async inviteUser(t){return this.request("/api/users-invite",{method:"POST",body:JSON.stringify(t)})}async updateUserProfile(t){return this.request("/api/users-profile-update",{method:"PATCH",body:JSON.stringify(t)})}async changePassword(t){return this.request("/api/users-password-change",{method:"POST",body:JSON.stringify(t)})}async getWorkstreamVerticals(){return this.request("/api/workstream-verticals")}async getWorkstreamTemplates(t){const n=new URLSearchParams;return t?.vertical_id&&n.set("vertical_id",t.vertical_id),t?.timing&&n.set("timing",t.timing),t?.is_active!==void 0&&n.set("is_active",String(t.is_active)),t?.search&&n.set("search",t.search),this.request(`/api/workstreams?${n}`)}async getWorkstreamTemplate(t){return this.request(`/api/workstreams?id=${t}`)}async createWorkstreamTemplate(t){return this.request("/api/workstreams",{method:"POST",body:JSON.stringify(t)})}async updateWorkstreamTemplate(t,n){return this.request(`/api/workstreams?id=${t}`,{method:"PATCH",body:JSON.stringify(n)})}async deleteWorkstreamTemplate(t){return this.request(`/api/workstreams?id=${t}`,{method:"DELETE"})}async getAllClientWorkstreams(){return this.request("/api/client-workstreams")}async getClientWorkstream(t){return this.request(`/api/client-workstreams?id=${t}`)}async getClientWorkstreamByOrg(t){return this.request(`/api/client-workstreams?org_id=${t}`)}async createClientWorkstream(t){return this.request("/api/client-workstreams",{method:"POST",body:JSON.stringify(t)})}async updateClientWorkstream(t,n){return this.request(`/api/client-workstreams?id=${t}`,{method:"PATCH",body:JSON.stringify(n)})}async deleteClientWorkstream(t){return this.request(`/api/client-workstreams?id=${t}`,{method:"DELETE"})}async getWorkstreamEntries(t){const n=new URLSearchParams;return t?.workstream_id&&n.set("workstream_id",t.workstream_id),t?.vertical_id&&n.set("vertical_id",t.vertical_id),t?.status&&n.set("status",t.status),t?.point_person_id&&n.set("point_person_id",t.point_person_id),t?.is_active!==void 0&&n.set("is_active",String(t.is_active)),this.request(`/api/workstream-entries?${n}`)}async getWorkstreamEntry(t){return this.request(`/api/workstream-entries?id=${t}`)}async getWorkstreamRollup(t){return this.request(`/api/workstream-entries/rollup?workstream_id=${t}`)}async createWorkstreamEntry(t){return this.request("/api/workstream-entries",{method:"POST",body:JSON.stringify(t)})}async bulkCreateWorkstreamEntries(t){return this.request("/api/workstream-entries/bulk",{method:"POST",body:JSON.stringify(t)})}async updateWorkstreamEntry(t,n){return this.request(`/api/workstream-entries?id=${t}`,{method:"PATCH",body:JSON.stringify(n)})}async deleteWorkstreamEntry(t){return this.request(`/api/workstream-entries?id=${t}`,{method:"DELETE"})}async getQuickbooksConnections(t){const n=new URLSearchParams;return t&&n.set("org_id",t),this.request(`/api/quickbooks-connections?${n}`)}async deleteQuickbooksConnection(t){return this.request(`/api/quickbooks-connections?id=${t}`,{method:"DELETE"})}async initiateQuickbooksAuth(t){return this.request("/api/quickbooks-auth",{method:"POST",body:JSON.stringify({org_id:t})})}async getTransactionAccounts(t){return this.request(`/api/transactions?org_id=${t}`)}async pullTransactions(t){return this.request("/api/transactions",{method:"POST",body:JSON.stringify(t)})}}const Tt=new k7,fs={all:["tasks"],lists:()=>[...fs.all,"list"],list:e=>[...fs.lists(),e],details:()=>[...fs.all,"detail"],detail:e=>[...fs.details(),e]};function R7(e){return xr({queryKey:fs.list(e),queryFn:async()=>(await Tt.getTasks(e)).tasks})}function T7(){const e=rn();return on({mutationFn:t=>Tt.createTask(t),onSuccess:()=>{e.invalidateQueries({queryKey:fs.lists()}),me.success("Task created")},onError:t=>{me.error(t.message)}})}function A7(){const e=rn();return on({mutationFn:({id:t,data:n})=>Tt.updateTask(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:fs.lists()}),e.invalidateQueries({queryKey:fs.details()}),me.success("Task updated")},onError:t=>{me.error(t.message)}})}function O7(){const e=rn();return on({mutationFn:t=>Tt.deleteTask(t),onSuccess:()=>{e.invalidateQueries({queryKey:fs.all}),me.success("Task deleted")},onError:t=>{me.error(t.message)}})}const ms={all:["file-channels"],lists:()=>[...ms.all,"list"],detail:e=>[...ms.all,"detail",e],files:(e,t)=>[...ms.all,"files",e,{folderPath:t}]};function D7(){return xr({queryKey:ms.lists(),queryFn:async()=>(await Tt.getFileChannels()).channels})}function M7(e,t="/"){return xr({queryKey:ms.files(e,t),queryFn:async()=>await Tt.getChannelFiles(e,t),enabled:!!e})}function P7(){const e=rn();return on({mutationFn:t=>Tt.createFileChannel(t),onSuccess:()=>{e.invalidateQueries({queryKey:ms.lists()}),me.success("Channel created")},onError:t=>{me.error(t.message)}})}function L7(){const e=rn();return on({mutationFn:t=>Tt.deleteFileChannel(t),onSuccess:()=>{e.invalidateQueries({queryKey:ms.all}),me.success("Channel deleted")},onError:t=>{me.error(t.message)}})}function z7(){const e=rn();return on({mutationFn:t=>Tt.createChannelFolder(t),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:ms.files(n.channel_id)}),me.success("Folder created")},onError:t=>{me.error(t.message)}})}function U7(){const e=rn();return on({mutationFn:t=>Tt.deleteChannelFolder(t),onSuccess:()=>{e.invalidateQueries({queryKey:ms.all}),me.success("Folder deleted")},onError:t=>{me.error(t.message)}})}const gu={all:["users"],clients:()=>[...gu.all,"clients"],profile:()=>[...gu.all,"profile"]};function gx(e){return xr({queryKey:gu.clients(),queryFn:async()=>await Tt.getClients(),enabled:e?.enabled!==!1})}function I7(){const e=rn();return on({mutationFn:t=>Tt.updateUserProfile(t),onSuccess:()=>{e.invalidateQueries({queryKey:gu.profile()}),e.invalidateQueries({queryKey:gu.clients()}),e.invalidateQueries({queryKey:["tasks","list"]}),e.invalidateQueries({queryKey:["files","list"]}),e.invalidateQueries({queryKey:["workstreams","client-workstreams"]}),me.success("Profile updated")},onError:t=>{me.error(t.message)}})}function $7(){return on({mutationFn:e=>Tt.changePassword(e),onSuccess:()=>{me.success("Password changed successfully")},onError:e=>{me.error(e.message)}})}const Xc={all:["workstreams"],verticals:()=>[...Xc.all,"verticals"],templates:e=>[...Xc.all,"templates",e],template:e=>[...Xc.all,"templates",e]},Aa={all:["client-workstreams"],lists:()=>[...Aa.all,"list"],list:()=>[...Aa.lists()],details:()=>[...Aa.all,"detail"],detail:e=>[...Aa.details(),e],byOrg:e=>[...Aa.all,"org",e]};function Gh(){return xr({queryKey:Xc.verticals(),queryFn:async()=>(await Tt.getWorkstreamVerticals()).verticals,staleTime:1/0})}function vx(e){return xr({queryKey:Xc.templates(e),queryFn:async()=>(await Tt.getWorkstreamTemplates(e)).templates})}function F7(){const e=rn();return on({mutationFn:t=>Tt.createWorkstreamTemplate(t),onSuccess:()=>{e.invalidateQueries({queryKey:["workstreams","templates"]}),me.success("Template created successfully")},onError:t=>{me.error(t.message||"Failed to create template")}})}function B7(){const e=rn();return on({mutationFn:({id:t,data:n})=>Tt.updateWorkstreamTemplate(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["workstreams","templates"]}),e.invalidateQueries({queryKey:["workstreams","client-workstreams"]}),me.success("Template updated successfully")},onError:t=>{me.error(t.message||"Failed to update template")}})}function q7(){const e=rn();return on({mutationFn:t=>Tt.deleteWorkstreamTemplate(t),onSuccess:()=>{e.invalidateQueries({queryKey:["workstreams","templates"]}),e.invalidateQueries({queryKey:["workstreams","client-workstreams"]}),me.success("Template deleted successfully")},onError:t=>{me.error(t.message||"Failed to delete template")}})}function H7(e){return xr({queryKey:Aa.list(),queryFn:async()=>(await Tt.getAllClientWorkstreams()).workstreams,enabled:e?.enabled!==!1})}function ZR(e,t=!0){return xr({queryKey:Aa.detail(e),queryFn:async()=>(await Tt.getClientWorkstream(e)).workstream,enabled:t&&!!e})}function V7(e,t=!0){return xr({queryKey:Aa.byOrg(e),queryFn:async()=>(await Tt.getClientWorkstreamByOrg(e)).workstream,enabled:t&&!!e})}function K7(){const e=rn();return on({mutationFn:t=>Tt.createClientWorkstream(t),onSuccess:t=>{e.invalidateQueries({queryKey:Aa.lists()}),e.invalidateQueries({queryKey:Aa.byOrg(t.workstream.org_id)}),me.success("Workstream created successfully")},onError:t=>{me.error(t.message||"Failed to create workstream")}})}const ar={all:["workstream-entries"],lists:()=>[...ar.all,"list"],list:e=>[...ar.lists(),{filters:e}],details:()=>[...ar.all,"detail"],detail:e=>[...ar.details(),e],rollups:()=>[...ar.all,"rollup"],rollup:e=>[...ar.rollups(),e]};function W7(){const e=rn();return on({mutationFn:t=>Tt.createWorkstreamEntry(t),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:ar.list({workstream_id:n.workstream_id})}),e.invalidateQueries({queryKey:ar.rollup(n.workstream_id)}),e.invalidateQueries({queryKey:["client-workstreams","detail",n.workstream_id]})}})}function G7(){const e=rn();return on({mutationFn:t=>Tt.bulkCreateWorkstreamEntries(t),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:ar.list({workstream_id:n.workstream_id})}),e.invalidateQueries({queryKey:ar.rollup(n.workstream_id)}),e.invalidateQueries({queryKey:["client-workstreams","detail",n.workstream_id]})}})}function Y7(){const e=rn();return on({mutationFn:({id:t,data:n})=>Tt.updateWorkstreamEntry(t,n),onSuccess:t=>{e.invalidateQueries({queryKey:ar.detail(t.entry.id)}),e.invalidateQueries({queryKey:ar.list({workstream_id:t.entry.workstream_id})}),e.invalidateQueries({queryKey:ar.rollup(t.entry.workstream_id)}),e.invalidateQueries({queryKey:["client-workstreams","detail",t.entry.workstream_id]})}})}function Q7(){const e=rn();return on({mutationFn:t=>Tt.deleteWorkstreamEntry(t),onSuccess:()=>{e.invalidateQueries({queryKey:ar.lists()}),e.invalidateQueries({queryKey:ar.rollups()}),e.invalidateQueries({queryKey:["client-workstreams"]})}})}function yx(){const e=xn();return xr({queryKey:["software-catalog"],queryFn:async()=>{const{data:t,error:n}=await e.from("software_catalog").select("id, name, category").order("name");if(n)throw n;return t||[]},staleTime:600*1e3})}const eT="/.netlify/functions";function X7(){return xr({queryKey:["notification-preferences"],queryFn:async()=>{const t=await(await Yn(`${eT}/notification-preferences`)).json();if(!t.success)throw new Error(t.error);return t.data.preferences}})}function J7(){const e=rn();return on({mutationFn:async t=>{const n=await Yn(`${eT}/notification-preferences`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||"Failed to update preferences");return a.data.preferences},onSuccess:t=>{e.setQueryData(["notification-preferences"],t),me.success("Notification preferences updated")},onError:t=>{me.error(t.message)}})}const Ki={all:["quickbooks"],connections:()=>[...Ki.all,"connections"],connection:e=>[...Ki.connections(),e],accounts:e=>[...Ki.all,"accounts",e],transactions:()=>[...Ki.all,"transactions"]};function Z7(e){return xr({queryKey:Ki.connections(),queryFn:async()=>(await Tt.getQuickbooksConnections(e)).connections})}function e9(){return on({mutationFn:e=>Tt.initiateQuickbooksAuth(e),onSuccess:e=>{window.location.href=e.authUrl},onError:e=>{me.error(e.message||"Failed to start QuickBooks connection")}})}function t9(){const e=rn();return on({mutationFn:t=>Tt.deleteQuickbooksConnection(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ki.connections()}),me.success("QuickBooks disconnected")},onError:t=>{me.error(t.message||"Failed to disconnect")}})}function n9(){const e=rn();return on({mutationFn:t=>Tt.pullTransactions(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ki.transactions()}),me.success("Transactions pulled from QuickBooks")},onError:t=>{me.error(t.message||"Failed to pull transactions")}})}function r9(){const{profile:e}=qa(),[t,n]=g.useState([]),[a,i]=g.useState([]),[l,u]=g.useState("my-tasks"),[d,h]=g.useState(null),[m,y]=g.useState(null),[p,b]=g.useState(!1),[w,S]=g.useState(!1),[_,j]=g.useState(null),[C,E]=g.useState(null),[k]=oy(),A=g.useRef(!1),L=xn(),{data:P=[],isLoading:T,refetch:z}=R7({view:l,assignee:d||void 0,org_id:m||void 0,long_outstanding:p||void 0}),Z=A7(),V=T7(),H=O7();g.useEffect(()=>{e&&(K(),M())},[e]),g.useEffect(()=>{if(!e)return;const $=setInterval(()=>{z()},3e4);return()=>clearInterval($)},[e,z]),g.useEffect(()=>{const $=k.get("task");if($&&P.length>0&&!A.current){const q=P.find(ae=>ae.id===$);q?(j(q),S(!0),A.current=!0):T||(l!=="all-tasks"?u("all-tasks"):A.current=!0)}},[k,P,T,l]);const K=async()=>{try{if(!e)return;let $=L.from("profiles").select("id, full_name, email, avatar_url, role, org_id");e.role==="client"&&($=$.eq("org_id",e.org_id));const{data:q}=await $.order("full_name");n(q||[])}catch($){console.error("Error loading users:",$)}},M=async()=>{try{if(!e||!["admin","manager","user"].includes(e.role))return;const{data:$}=await L.from("organizations").select("id, name, slug").order("name");i($||[])}catch($){console.error("Error loading organizations:",$)}},Y=async($,q)=>{Z.mutate({id:$,data:q})},J=async($,q)=>{try{q?await Z.mutateAsync({id:q,data:$}):await V.mutateAsync($),S(!1),j(null)}catch{}},R=async $=>{E($)},U=()=>{j(null),S(!0)},F=$=>{j($),S(!0)},X=()=>{S(!1),j(null)},G=$=>{u($)},D=$=>{h($)};return e?o.jsxs("div",{className:"flex-1 flex flex-col",children:[o.jsx("div",{className:"sticky top-0 z-10 bg-card border-b border-border shadow-sm",children:o.jsxs("div",{className:"px-8 py-4 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx(_y,{className:"w-6 h-6 text-primary"}),o.jsx("h1",{className:"text-xl font-semibold tracking-tight text-foreground",children:"Tasks"})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:T?"Loading...":`${P.length} ${P.length===1?"task":"tasks"}`})]}),o.jsxs(ve,{onClick:U,children:[o.jsx(Ia,{className:"w-4 h-4 mr-2"}),"New Task"]})]})}),o.jsxs("div",{className:"flex-1 overflow-auto p-8",children:[o.jsx(BH,{activeTab:l,onTabChange:G,assigneeFilter:d,onAssigneeChange:D,orgFilter:m,onOrgChange:y,longOutstanding:p,onLongOutstandingChange:b,users:t,organizations:a,userRole:e.role}),T?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(yl,{size:"lg"})}):o.jsx(nH,{tasks:P,onTaskClick:F,onTaskUpdate:Y,canEditTask:$=>j7(e,$)})]}),o.jsx(b7,{isOpen:w,onClose:X,task:_,onSave:J,onDelete:R,users:t,organizations:a,profile:e}),o.jsx(co,{open:!!C,onOpenChange:$=>{$||E(null)},title:"Delete Task",description:"Are you sure you want to delete this task?",confirmLabel:"Delete",variant:"destructive",onConfirm:async()=>{if(!C)return;const $=C;E(null);try{await H.mutateAsync($),S(!1),j(null)}catch{}}})]}):o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(yl,{size:"lg"})})}function a9({channels:e,selectedChannelId:t,onSelectChannel:n,isLoading:a}){const[i,l]=g.useState(""),u=e.filter(d=>{if(!i)return!0;const h=i.toLowerCase();return d.name.toLowerCase().includes(h)||d.client_organization?.name?.toLowerCase().includes(h)||d.primary_contact?.full_name?.toLowerCase().includes(h)});return a?o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsx("div",{className:"p-3 border-b border-border",children:o.jsxs("div",{className:"relative",children:[o.jsx(io,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(nt,{type:"text",placeholder:"Search channels...",value:i,onChange:d=>l(d.target.value),className:"pl-8"})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:u.length===0?o.jsx("div",{className:"text-center py-8 px-4",children:o.jsx("p",{className:"text-sm text-muted-foreground",children:i?"No channels match your search":"No channels yet"})}):u.map(d=>{const h=t===d.id,m=d.primary_contact?.full_name||"No contact",y=d.client_organization?.name||d.name,p=d.client_organization?.logo_url,b=d.latest_activity?sx(new Date(d.latest_activity),{addSuffix:!1}):null;return o.jsxs("button",{onClick:()=>n(d.id),className:`w-full flex items-center gap-3 px-4 py-3 text-left transition-all border-l-2 ${h?"bg-primary/5 border-l-primary":"border-l-transparent hover:bg-secondary"}`,children:[o.jsx(gr,{name:y,src:p||void 0,size:"md"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:`text-sm font-medium truncate ${h?"text-primary":"text-foreground"}`,children:y}),o.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:[m," shared files"]})]}),b&&o.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap flex-shrink-0",children:b})]},d.id)})})]})}var Yg={exports:{}},Qg,e1;function s9(){if(e1)return Qg;e1=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Qg=e,Qg}var Xg,t1;function i9(){if(t1)return Xg;t1=1;var e=s9();function t(){}function n(){}return n.resetWarningCache=t,Xg=function(){function a(u,d,h,m,y,p){if(p!==e){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}a.isRequired=a;function i(){return a}var l={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:i,element:a,elementType:a,instanceOf:i,node:a,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return l.PropTypes=l,l},Xg}var n1;function o9(){return n1||(n1=1,Yg.exports=i9()()),Yg.exports}var l9=o9();const Ft=bu(l9),c9=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function wl(e,t,n){const a=u9(e),{webkitRelativePath:i}=e,l=typeof t=="string"?t:typeof i=="string"&&i.length>0?i:`./${e.name}`;return typeof a.path!="string"&&r1(a,"path",l),r1(a,"relativePath",l),a}function u9(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const a=t.split(".").pop().toLowerCase(),i=c9.get(a);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}function r1(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const d9=[".DS_Store","Thumbs.db"];function f9(e){return ui(this,void 0,void 0,function*(){return lh(e)&&h9(e.dataTransfer)?v9(e.dataTransfer,e.type):m9(e)?p9(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?g9(e):[]})}function h9(e){return lh(e)}function m9(e){return lh(e)&&lh(e.target)}function lh(e){return typeof e=="object"&&e!==null}function p9(e){return qv(e.target.files).map(t=>wl(t))}function g9(e){return ui(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>wl(n))})}function v9(e,t){return ui(this,void 0,void 0,function*(){if(e.items){const n=qv(e.items).filter(i=>i.kind==="file");if(t!=="drop")return n;const a=yield Promise.all(n.map(y9));return a1(tT(a))}return a1(qv(e.files).map(n=>wl(n)))})}function a1(e){return e.filter(t=>d9.indexOf(t.name)===-1)}function qv(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const a=e[n];t.push(a)}return t}function y9(e){if(typeof e.webkitGetAsEntry!="function")return s1(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?nT(t):s1(e,t)}function tT(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?tT(n):[n]],[])}function s1(e,t){return ui(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const l=yield e.getAsFileSystemHandle();if(l===null)throw new Error(`${e} is not a File`);if(l!==void 0){const u=yield l.getFile();return u.handle=l,wl(u)}}const a=e.getAsFile();if(!a)throw new Error(`${e} is not a File`);return wl(a,(n=t?.fullPath)!==null&&n!==void 0?n:void 0)})}function x9(e){return ui(this,void 0,void 0,function*(){return e.isDirectory?nT(e):b9(e)})}function nT(e){const t=e.createReader();return new Promise((n,a)=>{const i=[];function l(){t.readEntries(u=>ui(this,void 0,void 0,function*(){if(u.length){const d=Promise.all(u.map(x9));i.push(d),l()}else try{const d=yield Promise.all(i);n(d)}catch(d){a(d)}}),u=>{a(u)})}l()})}function b9(e){return ui(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(a=>{const i=wl(a,e.fullPath);t(i)},a=>{n(a)})})})}var jf={},i1;function w9(){return i1||(i1=1,jf.__esModule=!0,jf.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var a=e.name||"",i=(e.type||"").toLowerCase(),l=i.replace(/\/.*$/,"");return n.some(function(u){var d=u.trim().toLowerCase();return d.charAt(0)==="."?a.toLowerCase().endsWith(d):d.endsWith("/*")?l===d.replace(/\/.*$/,""):i===d})}return!0}),jf}var _9=w9();const Jg=bu(_9);function o1(e){return C9(e)||j9(e)||aT(e)||S9()}function S9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function C9(e){if(Array.isArray(e))return Hv(e)}function l1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function c1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l1(Object(n),!0).forEach(function(a){rT(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l1(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function rT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vu(e,t){return k9(e)||N9(e,t)||aT(e,t)||E9()}function E9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aT(e,t){if(e){if(typeof e=="string")return Hv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hv(e,t)}}function Hv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function N9(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a=[],i=!0,l=!1,u,d;try{for(n=n.call(e);!(i=(u=n.next()).done)&&(a.push(u.value),!(t&&a.length===t));i=!0);}catch(h){l=!0,d=h}finally{try{!i&&n.return!=null&&n.return()}finally{if(l)throw d}}return a}}function k9(e){if(Array.isArray(e))return e}var R9=typeof Jg=="function"?Jg:Jg.default,T9="file-invalid-type",A9="file-too-large",O9="file-too-small",D9="too-many-files",M9=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),a=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:T9,message:"File type must be ".concat(a)}},u1=function(t){return{code:A9,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},d1=function(t){return{code:O9,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},P9={code:D9,message:"Too many files"};function L9(e){return e.type===""&&typeof e.getAsFile=="function"}function sT(e,t){var n=e.type==="application/x-moz-file"||R9(e,t)||L9(e);return[n,n?null:M9(t)]}function iT(e,t,n){if(Fi(e.size))if(Fi(t)&&Fi(n)){if(e.size>n)return[!1,u1(n)];if(e.size<t)return[!1,d1(t)]}else{if(Fi(t)&&e.size<t)return[!1,d1(t)];if(Fi(n)&&e.size>n)return[!1,u1(n)]}return[!0,null]}function Fi(e){return e!=null}function z9(e){var t=e.files,n=e.accept,a=e.minSize,i=e.maxSize,l=e.multiple,u=e.maxFiles,d=e.validator;return!l&&t.length>1||l&&u>=1&&t.length>u?!1:t.every(function(h){var m=sT(h,n),y=vu(m,1),p=y[0],b=iT(h,a,i),w=vu(b,1),S=w[0],_=d?d(h):null;return p&&S&&!_})}function ch(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Mc(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function f1(e){e.preventDefault()}function U9(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function I9(e){return e.indexOf("Edge/")!==-1}function $9(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return U9(e)||I9(e)}function Ra(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(a){for(var i=arguments.length,l=new Array(i>1?i-1:0),u=1;u<i;u++)l[u-1]=arguments[u];return t.some(function(d){return!ch(a)&&d&&d.apply(void 0,[a].concat(l)),ch(a)})}}function F9(){return"showOpenFilePicker"in window}function B9(e){if(Fi(e)){var t=Object.entries(e).filter(function(n){var a=vu(n,2),i=a[0],l=a[1],u=!0;return oT(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),u=!1),(!Array.isArray(l)||!l.every(lT))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),u=!1),u}).reduce(function(n,a){var i=vu(a,2),l=i[0],u=i[1];return c1(c1({},n),{},rT({},l,u))},{});return[{description:"Files",accept:t}]}return e}function q9(e){if(Fi(e))return Object.entries(e).reduce(function(t,n){var a=vu(n,2),i=a[0],l=a[1];return[].concat(o1(t),[i],o1(l))},[]).filter(function(t){return oT(t)||lT(t)}).join(",")}function H9(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function V9(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function oT(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function lT(e){return/^.*\.[\w]+$/.test(e)}var K9=["children"],W9=["open"],G9=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Y9=["refKey","onChange","onClick"];function h1(e){return J9(e)||X9(e)||cT(e)||Q9()}function Q9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function J9(e){if(Array.isArray(e))return Vv(e)}function Zg(e,t){return tV(e)||eV(e,t)||cT(e,t)||Z9()}function Z9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cT(e,t){if(e){if(typeof e=="string")return Vv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vv(e,t)}}function Vv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function eV(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a=[],i=!0,l=!1,u,d;try{for(n=n.call(e);!(i=(u=n.next()).done)&&(a.push(u.value),!(t&&a.length===t));i=!0);}catch(h){l=!0,d=h}finally{try{!i&&n.return!=null&&n.return()}finally{if(l)throw d}}return a}}function tV(e){if(Array.isArray(e))return e}function m1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m1(Object(n),!0).forEach(function(a){Kv(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m1(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Kv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uh(e,t){if(e==null)return{};var n=nV(e,t),a,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)a=l[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function nV(e,t){if(e==null)return{};var n={},a=Object.keys(e),i,l;for(l=0;l<a.length;l++)i=a[l],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var xx=g.forwardRef(function(e,t){var n=e.children,a=uh(e,K9),i=dT(a),l=i.open,u=uh(i,W9);return g.useImperativeHandle(t,function(){return{open:l}},[l]),ce.createElement(g.Fragment,null,n(Xt(Xt({},u),{},{open:l})))});xx.displayName="Dropzone";var uT={disabled:!1,getFilesFromEvent:f9,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};xx.defaultProps=uT;xx.propTypes={children:Ft.func,accept:Ft.objectOf(Ft.arrayOf(Ft.string)),multiple:Ft.bool,preventDropOnDocument:Ft.bool,noClick:Ft.bool,noKeyboard:Ft.bool,noDrag:Ft.bool,noDragEventsBubbling:Ft.bool,minSize:Ft.number,maxSize:Ft.number,maxFiles:Ft.number,disabled:Ft.bool,getFilesFromEvent:Ft.func,onFileDialogCancel:Ft.func,onFileDialogOpen:Ft.func,useFsAccessApi:Ft.bool,autoFocus:Ft.bool,onDragEnter:Ft.func,onDragLeave:Ft.func,onDragOver:Ft.func,onDrop:Ft.func,onDropAccepted:Ft.func,onDropRejected:Ft.func,onError:Ft.func,validator:Ft.func};var Wv={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,isDragGlobal:!1,acceptedFiles:[],fileRejections:[]};function dT(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Xt(Xt({},uT),e),n=t.accept,a=t.disabled,i=t.getFilesFromEvent,l=t.maxSize,u=t.minSize,d=t.multiple,h=t.maxFiles,m=t.onDragEnter,y=t.onDragLeave,p=t.onDragOver,b=t.onDrop,w=t.onDropAccepted,S=t.onDropRejected,_=t.onFileDialogCancel,j=t.onFileDialogOpen,C=t.useFsAccessApi,E=t.autoFocus,k=t.preventDropOnDocument,A=t.noClick,L=t.noKeyboard,P=t.noDrag,T=t.noDragEventsBubbling,z=t.onError,Z=t.validator,V=g.useMemo(function(){return q9(n)},[n]),H=g.useMemo(function(){return B9(n)},[n]),K=g.useMemo(function(){return typeof j=="function"?j:p1},[j]),M=g.useMemo(function(){return typeof _=="function"?_:p1},[_]),Y=g.useRef(null),J=g.useRef(null),R=g.useReducer(rV,Wv),U=Zg(R,2),F=U[0],X=U[1],G=F.isFocused,D=F.isFileDialogActive,$=g.useRef(typeof window<"u"&&window.isSecureContext&&C&&F9()),q=function(){!$.current&&D&&setTimeout(function(){if(J.current){var Ae=J.current.files;Ae.length||(X({type:"closeDialog"}),M())}},300)};g.useEffect(function(){return window.addEventListener("focus",q,!1),function(){window.removeEventListener("focus",q,!1)}},[J,D,M,$]);var ae=g.useRef([]),de=g.useRef([]),pe=function(Ae){Y.current&&Y.current.contains(Ae.target)||(Ae.preventDefault(),ae.current=[])};g.useEffect(function(){return k&&(document.addEventListener("dragover",f1,!1),document.addEventListener("drop",pe,!1)),function(){k&&(document.removeEventListener("dragover",f1),document.removeEventListener("drop",pe))}},[Y,k]),g.useEffect(function(){var xe=function(Ht){de.current=[].concat(h1(de.current),[Ht.target]),Mc(Ht)&&X({isDragGlobal:!0,type:"setDragGlobal"})},Ae=function(Ht){de.current=de.current.filter(function(Gt){return Gt!==Ht.target&&Gt!==null}),!(de.current.length>0)&&X({isDragGlobal:!1,type:"setDragGlobal"})},Je=function(){de.current=[],X({isDragGlobal:!1,type:"setDragGlobal"})},Ge=function(){de.current=[],X({isDragGlobal:!1,type:"setDragGlobal"})};return document.addEventListener("dragenter",xe,!1),document.addEventListener("dragleave",Ae,!1),document.addEventListener("dragend",Je,!1),document.addEventListener("drop",Ge,!1),function(){document.removeEventListener("dragenter",xe),document.removeEventListener("dragleave",Ae),document.removeEventListener("dragend",Je),document.removeEventListener("drop",Ge)}},[Y]),g.useEffect(function(){return!a&&E&&Y.current&&Y.current.focus(),function(){}},[Y,E,a]);var ie=g.useCallback(function(xe){z?z(xe):console.error(xe)},[z]),ge=g.useCallback(function(xe){xe.preventDefault(),xe.persist(),$n(xe),ae.current=[].concat(h1(ae.current),[xe.target]),Mc(xe)&&Promise.resolve(i(xe)).then(function(Ae){if(!(ch(xe)&&!T)){var Je=Ae.length,Ge=Je>0&&z9({files:Ae,accept:V,minSize:u,maxSize:l,multiple:d,maxFiles:h,validator:Z}),Ze=Je>0&&!Ge;X({isDragAccept:Ge,isDragReject:Ze,isDragActive:!0,type:"setDraggedFiles"}),m&&m(xe)}}).catch(function(Ae){return ie(Ae)})},[i,m,ie,T,V,u,l,d,h,Z]),ke=g.useCallback(function(xe){xe.preventDefault(),xe.persist(),$n(xe);var Ae=Mc(xe);if(Ae&&xe.dataTransfer)try{xe.dataTransfer.dropEffect="copy"}catch{}return Ae&&p&&p(xe),!1},[p,T]),_e=g.useCallback(function(xe){xe.preventDefault(),xe.persist(),$n(xe);var Ae=ae.current.filter(function(Ge){return Y.current&&Y.current.contains(Ge)}),Je=Ae.indexOf(xe.target);Je!==-1&&Ae.splice(Je,1),ae.current=Ae,!(Ae.length>0)&&(X({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Mc(xe)&&y&&y(xe))},[Y,y,T]),qe=g.useCallback(function(xe,Ae){var Je=[],Ge=[];xe.forEach(function(Ze){var Ht=sT(Ze,V),Gt=Zg(Ht,2),Nn=Gt[0],er=Gt[1],Nt=iT(Ze,u,l),an=Zg(Nt,2),Vt=an[0],Ir=an[1],or=Z?Z(Ze):null;if(Nn&&Vt&&!or)Je.push(Ze);else{var kn=[er,Ir];or&&(kn=kn.concat(or)),Ge.push({file:Ze,errors:kn.filter(function(tr){return tr})})}}),(!d&&Je.length>1||d&&h>=1&&Je.length>h)&&(Je.forEach(function(Ze){Ge.push({file:Ze,errors:[P9]})}),Je.splice(0)),X({acceptedFiles:Je,fileRejections:Ge,isDragReject:Ge.length>0,type:"setFiles"}),b&&b(Je,Ge,Ae),Ge.length>0&&S&&S(Ge,Ae),Je.length>0&&w&&w(Je,Ae)},[X,d,V,u,l,h,b,w,S,Z]),Ne=g.useCallback(function(xe){xe.preventDefault(),xe.persist(),$n(xe),ae.current=[],Mc(xe)&&Promise.resolve(i(xe)).then(function(Ae){ch(xe)&&!T||qe(Ae,xe)}).catch(function(Ae){return ie(Ae)}),X({type:"reset"})},[i,qe,ie,T]),rt=g.useCallback(function(){if($.current){X({type:"openDialog"}),K();var xe={multiple:d,types:H};window.showOpenFilePicker(xe).then(function(Ae){return i(Ae)}).then(function(Ae){qe(Ae,null),X({type:"closeDialog"})}).catch(function(Ae){H9(Ae)?(M(Ae),X({type:"closeDialog"})):V9(Ae)?($.current=!1,J.current?(J.current.value=null,J.current.click()):ie(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ie(Ae)});return}J.current&&(X({type:"openDialog"}),K(),J.current.value=null,J.current.click())},[X,K,M,C,qe,ie,H,d]),dt=g.useCallback(function(xe){!Y.current||!Y.current.isEqualNode(xe.target)||(xe.key===" "||xe.key==="Enter"||xe.keyCode===32||xe.keyCode===13)&&(xe.preventDefault(),rt())},[Y,rt]),mn=g.useCallback(function(){X({type:"focus"})},[]),Mt=g.useCallback(function(){X({type:"blur"})},[]),En=g.useCallback(function(){A||($9()?setTimeout(rt,0):rt())},[A,rt]),In=function(Ae){return a?null:Ae},Jt=function(Ae){return L?null:In(Ae)},pn=function(Ae){return P?null:In(Ae)},$n=function(Ae){T&&Ae.stopPropagation()},Zt=g.useMemo(function(){return function(){var xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ae=xe.refKey,Je=Ae===void 0?"ref":Ae,Ge=xe.role,Ze=xe.onKeyDown,Ht=xe.onFocus,Gt=xe.onBlur,Nn=xe.onClick,er=xe.onDragEnter,Nt=xe.onDragOver,an=xe.onDragLeave,Vt=xe.onDrop,Ir=uh(xe,G9);return Xt(Xt(Kv({onKeyDown:Jt(Ra(Ze,dt)),onFocus:Jt(Ra(Ht,mn)),onBlur:Jt(Ra(Gt,Mt)),onClick:In(Ra(Nn,En)),onDragEnter:pn(Ra(er,ge)),onDragOver:pn(Ra(Nt,ke)),onDragLeave:pn(Ra(an,_e)),onDrop:pn(Ra(Vt,Ne)),role:typeof Ge=="string"&&Ge!==""?Ge:"presentation"},Je,Y),!a&&!L?{tabIndex:0}:{}),Ir)}},[Y,dt,mn,Mt,En,ge,ke,_e,Ne,L,P,a]),Zn=g.useCallback(function(xe){xe.stopPropagation()},[]),Pt=g.useMemo(function(){return function(){var xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ae=xe.refKey,Je=Ae===void 0?"ref":Ae,Ge=xe.onChange,Ze=xe.onClick,Ht=uh(xe,Y9),Gt=Kv({accept:V,multiple:d,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:In(Ra(Ge,Ne)),onClick:In(Ra(Ze,Zn)),tabIndex:-1},Je,J);return Xt(Xt({},Gt),Ht)}},[J,n,d,Ne,a]);return Xt(Xt({},F),{},{isFocused:G&&!a,getRootProps:Zt,getInputProps:Pt,rootRef:Y,inputRef:J,open:In(rt)})}function rV(e,t){switch(t.type){case"focus":return Xt(Xt({},e),{},{isFocused:!0});case"blur":return Xt(Xt({},e),{},{isFocused:!1});case"openDialog":return Xt(Xt({},Wv),{},{isFileDialogActive:!0});case"closeDialog":return Xt(Xt({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Xt(Xt({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Xt(Xt({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"setDragGlobal":return Xt(Xt({},e),{},{isDragGlobal:t.isDragGlobal});case"reset":return Xt({},Wv);default:return e}}function p1(){}function aV({folderPath:e="/",channelId:t,onUploadComplete:n}){const[a,i]=g.useState(!1),[l,u]=g.useState([]),d=g.useCallback(S=>{u(_=>[..._,...S])},[]),{getRootProps:h,getInputProps:m,isDragActive:y}=dT({onDrop:d,maxSize:50*1024*1024}),p=S=>{u(_=>_.filter((j,C)=>C!==S))},b=async()=>{if(l.length===0)return;i(!0);let S=0,_=0;for(const j of l)try{const C=new FormData;C.append("file",j),C.append("folderPath",e),t&&C.append("channelId",t);const E=await sk(),k=await fetch("/api/files-upload",{method:"POST",headers:E,body:C});if(!k.ok){const A=await k.json();throw new Error(A.error||"Upload failed")}S++}catch(C){console.error("Upload error:",C),_++}i(!1),u([]),S>0&&(me.success(`${S} file(s) uploaded successfully`),n?.()),_>0&&me.error(`${_} file(s) failed to upload`)},w=S=>{if(S===0)return"0 Bytes";const _=1024,j=["Bytes","KB","MB","GB"],C=Math.floor(Math.log(S)/Math.log(_));return Math.round(S/Math.pow(_,C)*100)/100+" "+j[C]};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{...h(),className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors bg-card ${y?"border-primary bg-primary/10":"border-border hover:border-primary"}`,children:[o.jsx("input",{...m()}),o.jsx(Zi,{className:"w-12 h-12 mx-auto mb-4 text-primary"}),y?o.jsx("p",{className:"text-primary font-medium",children:"Drop files here..."}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-foreground font-medium mb-2",children:"Drag & drop files here, or click to select"}),o.jsx("p",{className:"text-muted-foreground text-sm",children:"Maximum file size: 50MB"})]})]}),l.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("h4",{className:"font-medium text-foreground",children:["Selected Files (",l.length,")"]}),o.jsx("div",{className:"space-y-2",children:l.map((S,_)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-secondary rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[o.jsx(Cv,{className:"w-5 h-5 text-foreground flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:S.name}),o.jsx("p",{className:"text-xs text-muted-foreground",children:w(S.size)})]})]}),o.jsx(ve,{variant:"ghost",size:"icon",onClick:()=>p(_),disabled:a,className:"h-7 w-7",children:o.jsx(ri,{className:"w-4 h-4 text-muted-foreground"})})]},_))}),o.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[o.jsx(ve,{variant:"ghost",onClick:()=>u([]),disabled:a,children:"Clear All"}),o.jsx(ve,{onClick:b,disabled:a,children:a?o.jsxs(o.Fragment,{children:[o.jsx(Bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Zi,{className:"w-4 h-4 mr-2"}),"Upload ",l.length," File",l.length!==1&&"s"]})})]})]})]})}function sV({isOpen:e,onClose:t,fileId:n,fileName:a,mimeType:i,fileSize:l}){const[u,d]=g.useState(!0),[h,m]=g.useState(null),[y,p]=g.useState(null);g.useEffect(()=>(e&&n&&b(),()=>{h&&URL.revokeObjectURL(h)}),[e,n]);const b=async()=>{d(!0),p(null);try{const L=await Yn(`/api/files-download?id=${n}`);if(!L.ok)throw new Error("Failed to load file");const P=await L.blob(),T=URL.createObjectURL(P);m(T)}catch(L){console.error("Error loading file:",L),p("Failed to load file for preview"),me.error("Failed to load file")}finally{d(!1)}},w=()=>{if(!h)return;const L=document.createElement("a");L.href=h,L.download=a,document.body.appendChild(L),L.click(),document.body.removeChild(L),me.success("File downloaded")},S=()=>{h&&window.open(h,"_blank")},_=i.startsWith("image/"),j=i==="application/pdf",C=i.startsWith("video/"),E=i.startsWith("audio/");i.startsWith("text/");const k=_||j||C||E,A=L=>{if(L===0)return"0 Bytes";const P=1024,T=["Bytes","KB","MB","GB"],z=Math.floor(Math.log(L)/Math.log(P));return Math.round(L/Math.pow(P,z)*100)/100+" "+T[z]};return o.jsx(Ur,{open:e,onOpenChange:L=>{L||t()},children:o.jsxs(wr,{className:"sm:max-w-4xl",children:[o.jsx(vr,{children:o.jsx(yr,{children:a})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 bg-secondary rounded-lg border border-border",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:a}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[i,"  ",A(l)]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[k&&h&&o.jsx(ve,{variant:"ghost",size:"sm",onClick:S,title:"Open in new tab",children:o.jsx($C,{className:"w-4 h-4"})}),o.jsx(ve,{variant:"ghost",size:"sm",onClick:w,disabled:!h,title:"Download",children:o.jsx(Kc,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"bg-secondary rounded-lg border border-border overflow-hidden",children:[u&&o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsx(Bt,{className:"w-8 h-8 text-primary animate-spin"})}),y&&!u&&o.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[o.jsx("p",{className:"text-destructive mb-4",children:y}),o.jsx(ve,{onClick:b,children:"Retry"})]}),!u&&!y&&h&&o.jsxs(o.Fragment,{children:[_&&o.jsx("div",{className:"p-4 flex items-center justify-center bg-secondary min-h-[400px] max-h-[600px]",children:o.jsx("img",{src:h,alt:a,className:"max-w-full max-h-[600px] object-contain rounded"})}),j&&o.jsx("div",{className:"w-full",style:{height:"600px"},children:o.jsx("iframe",{src:h,className:"w-full h-full border-0",title:a})}),C&&o.jsx("div",{className:"p-4 bg-black flex items-center justify-center",children:o.jsx("video",{src:h,controls:!0,className:"max-w-full max-h-[600px] rounded",children:"Your browser does not support video playback."})}),E&&o.jsx("div",{className:"p-8 flex items-center justify-center",children:o.jsx("audio",{src:h,controls:!0,className:"w-full max-w-lg",children:"Your browser does not support audio playback."})}),!k&&o.jsxs("div",{className:"flex flex-col items-center justify-center py-20 px-4",children:[o.jsx("p",{className:"text-muted-foreground mb-4 text-center",children:"Preview not available for this file type"}),o.jsxs(ve,{onClick:w,children:[o.jsx(Kc,{className:"w-4 h-4 mr-2"}),"Download File"]})]})]})]}),o.jsxs(na,{className:"pt-4 border-t border-border",children:[o.jsx(ve,{variant:"ghost",onClick:t,children:"Close"}),h&&o.jsxs(ve,{onClick:w,children:[o.jsx(Kc,{className:"w-4 h-4 mr-2"}),"Download"]})]})]})]})})}function iV({isOpen:e,onClose:t,channelId:n,parentPath:a,onFolderCreated:i}){const[l,u]=g.useState(""),d=z7(),h=async()=>{if(l.trim())try{await d.mutateAsync({channel_id:n,name:l.trim(),parent_path:a}),u(""),t(),i?.()}catch{}},m=()=>{u(""),t()};return o.jsx(Ur,{open:e,onOpenChange:y=>{y||m()},children:o.jsxs(wr,{className:"sm:max-w-md",children:[o.jsx(vr,{children:o.jsx(yr,{children:"New folder"})}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx(Me,{className:"mb-1.5",children:"Folder name"}),o.jsx(nt,{type:"text",value:l,onChange:y=>u(y.target.value),placeholder:"Enter folder name",autoFocus:!0,onKeyDown:y=>{y.key==="Enter"&&h()}})]})}),o.jsxs(na,{children:[o.jsx(ve,{variant:"ghost",onClick:m,children:"Cancel"}),o.jsx(ve,{onClick:h,disabled:!l.trim()||d.isPending,children:d.isPending?o.jsxs(o.Fragment,{children:[o.jsx(Bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create"})]})]})})}function oV({channelId:e,channel:t,isAdmin:n,onChannelDeleted:a}){const[i,l]=g.useState("/"),[u,d]=g.useState(!1),[h,m]=g.useState(!1),[y,p]=g.useState(null),[b,w]=g.useState(null),[S,_]=g.useState(null),{data:j,isLoading:C,refetch:E}=M7(e,i),k=U7(),A=L7(),L=j?.files||[],P=j?.folders||[],T=t?.client_organization?.name||t?.name||"Channel",z=i==="/"?[]:i.split("/").filter(Boolean).map((R,U,F)=>({name:R,path:"/"+F.slice(0,U+1).join("/")+"/"})),Z=R=>{const U=i==="/"?`/${R}/`:`${i}${R}/`;l(U)},V=R=>{l(R)},H=async(R,U)=>{try{const F=await Yn(`/api/files-download?id=${R}`);if(!F.ok)throw new Error("Download failed");const X=await F.blob(),G=window.URL.createObjectURL(X),D=document.createElement("a");D.href=G,D.download=U,document.body.appendChild(D),D.click(),window.URL.revokeObjectURL(G),document.body.removeChild(D),me.success("File downloaded")}catch{me.error("Failed to download file")}},K=(R,U)=>{_({type:"file",id:R,name:U})},M=(R,U)=>{_({type:"folder",id:R,name:U})},Y=()=>{d(!1),E()},J=()=>{_({type:"channel",id:e,name:T})};return o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"flex-shrink-0 bg-card border-b border-border px-6 py-3 flex items-center justify-between",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:T}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs(ve,{variant:"outline",size:"sm",onClick:()=>d(!0),children:[o.jsx(Zi,{className:"w-4 h-4 mr-1.5"}),"Upload"]})}),n&&o.jsxs(o.Fragment,{children:[o.jsxs(Qf,{children:[o.jsx(Xf,{asChild:!0,children:o.jsxs(ve,{variant:"outline",size:"sm",children:[o.jsx(Ia,{className:"w-4 h-4 mr-1.5"}),"Manage"]})}),o.jsx(fu,{align:"end",className:"w-48",children:o.jsxs(Vi,{onClick:()=>m(!0),children:[o.jsx(JS,{className:"w-4 h-4"}),"New Folder"]})})]}),o.jsxs(Qf,{children:[o.jsx(Xf,{asChild:!0,children:o.jsx(ve,{variant:"ghost",size:"sm",children:o.jsx(hU,{className:"w-4 h-4"})})}),o.jsx(fu,{align:"end",className:"w-48",children:o.jsxs(Vi,{onClick:J,className:"text-destructive focus:text-destructive",children:[o.jsx(Qi,{className:"w-4 h-4"}),"Delete Channel"]})})]})]})]})]}),o.jsx("div",{className:"flex-shrink-0 bg-card px-6 py-2 border-b border-border",children:o.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[o.jsxs("button",{onClick:()=>V("/"),className:`px-2 py-1 rounded-md transition-colors ${i==="/"?"bg-primary/10 text-primary font-medium":"text-muted-foreground hover:text-foreground hover:bg-secondary"}`,children:[T,"'s files"]}),z.map(R=>o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(ni,{className:"w-3 h-3 text-muted-foreground"}),o.jsx("button",{onClick:()=>V(R.path),className:`px-2 py-1 rounded-md transition-colors ${i===R.path?"bg-primary/10 text-primary font-medium":"text-muted-foreground hover:text-foreground hover:bg-secondary"}`,children:R.name})]},R.path))]})}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:C?o.jsx("div",{className:"flex items-center justify-center py-16",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):P.length===0&&L.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[o.jsx(Cv,{className:"w-12 h-12 text-muted-foreground mb-4"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"No files yet"}),n&&o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ve,{variant:"outline",size:"sm",onClick:()=>m(!0),children:[o.jsx(JS,{className:"w-4 h-4 mr-2"}),"New Folder"]}),o.jsxs(ve,{size:"sm",onClick:()=>d(!0),children:[o.jsx(Zi,{className:"w-4 h-4 mr-2"}),"Upload File"]})]})]}):o.jsxs("div",{className:"px-6",children:[o.jsxs("div",{className:"grid grid-cols-[1fr_200px_180px_48px] gap-4 py-3 border-b border-border text-sm font-medium text-muted-foreground",children:[o.jsx("span",{children:"Name"}),o.jsx("span",{children:"Creator"}),o.jsx("span",{children:"Shared on"}),o.jsx("span",{})]}),P.map(R=>o.jsxs("div",{className:"grid grid-cols-[1fr_200px_180px_48px] gap-4 py-3 border-b border-border/50 items-center group hover:bg-secondary transition-colors",children:[o.jsxs("button",{className:"flex items-center gap-3 text-left min-w-0",onClick:()=>Z(R.name),children:[o.jsx(mU,{className:"w-5 h-5 text-primary flex-shrink-0"}),o.jsx("span",{className:"text-sm font-medium text-foreground truncate hover:text-primary transition-colors",children:R.name})]}),o.jsx("div",{className:"flex items-center gap-2",children:R.created_by_profile&&o.jsxs(o.Fragment,{children:[o.jsx(gr,{name:R.created_by_profile.full_name||R.created_by_profile.email,email:R.created_by_profile.email,size:"xs"}),o.jsx("div",{className:"min-w-0",children:o.jsx("p",{className:"text-sm text-foreground truncate",children:R.created_by_profile.full_name})})]})}),o.jsx("span",{className:"text-sm text-muted-foreground",children:Yj(new Date(R.created_at),"MMM d, yyyy")}),o.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:n&&o.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>M(R.id,R.name),title:"Delete folder",children:o.jsx(Qi,{className:"w-4 h-4 text-destructive"})})})]},R.id)),L.map(R=>o.jsxs("div",{className:"grid grid-cols-[1fr_200px_180px_48px] gap-4 py-3 border-b border-border/50 items-center group hover:bg-secondary transition-colors",children:[o.jsxs("button",{className:"flex items-center gap-3 text-left min-w-0",onClick:()=>p(R),children:[o.jsx(Cv,{className:"w-5 h-5 text-primary flex-shrink-0"}),o.jsx("span",{className:"text-sm font-medium text-foreground truncate hover:text-primary transition-colors",children:R.name})]}),o.jsx("div",{className:"flex items-center gap-2",children:R.uploaded_by_profile&&o.jsxs(o.Fragment,{children:[o.jsx(gr,{name:R.uploaded_by_profile.full_name||R.uploaded_by_profile.email,email:R.uploaded_by_profile.email,size:"xs"}),o.jsx("div",{className:"min-w-0",children:o.jsx("p",{className:"text-sm text-foreground truncate",children:R.uploaded_by_profile.full_name})})]})}),o.jsx("span",{className:"text-sm text-muted-foreground",children:Yj(new Date(R.created_at),"MMM d, yyyy 'at' hh:mm a")}),o.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx(ve,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>H(R.id,R.name),title:"Download",children:o.jsx(Kc,{className:"w-4 h-4 text-muted-foreground"})}),n&&o.jsx(ve,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>K(R.id,R.name),disabled:b===R.id,title:"Delete",children:o.jsx(Qi,{className:"w-4 h-4 text-destructive"})})]})]},R.id))]})}),o.jsx(Ur,{open:u,onOpenChange:R=>{R||d(!1)},children:o.jsxs(wr,{className:"sm:max-w-lg",children:[o.jsx(vr,{children:o.jsx(yr,{children:"Upload Files"})}),o.jsx(aV,{folderPath:i,channelId:e,onUploadComplete:Y})]})}),o.jsx(iV,{isOpen:h,onClose:()=>m(!1),channelId:e,parentPath:i,onFolderCreated:()=>E()}),y&&o.jsx(sV,{isOpen:!!y,onClose:()=>p(null),fileId:y.id,fileName:y.name,mimeType:y.mime_type,fileSize:y.size}),o.jsx(co,{open:!!S,onOpenChange:R=>{R||_(null)},title:S?.type==="file"?"Delete File":S?.type==="folder"?"Delete Folder":"Delete Channel",description:S?.type==="file"?`Are you sure you want to delete "${S.name}"?`:S?.type==="folder"?`Are you sure you want to delete "${S.name}" and all its contents?`:`Are you sure you want to delete the "${S?.name}" channel? This will permanently delete all files and folders within it.`,confirmLabel:"Delete",variant:"destructive",onConfirm:async()=>{if(!S)return;const{type:R,id:U}=S;if(_(null),R==="file"){w(U);try{if(!(await Yn(`/api/files?id=${U}`,{method:"DELETE"})).ok)throw new Error("Delete failed");me.success("File deleted"),E()}catch{me.error("Failed to delete file")}finally{w(null)}}else if(R==="folder")try{await k.mutateAsync(U),E()}catch{}else if(R==="channel")try{await A.mutateAsync(U),a?.()}catch{}}})]})}function lV({isOpen:e,onClose:t,onChannelCreated:n}){const[a,i]=g.useState(""),{data:l,isLoading:u}=gx({enabled:e}),d=P7(),h=g.useMemo(()=>{if(!l?.clients)return[];const p=new Map;for(const b of l.clients){const w=b.organizations;w&&!p.has(w.id)&&p.set(w.id,{id:w.id,name:w.name})}return Array.from(p.values()).sort((b,w)=>b.name.localeCompare(w.name))},[l]),m=async()=>{if(a)try{const p=await d.mutateAsync({client_org_id:a});i(""),t(),n?.(p.channel.id)}catch{}},y=()=>{i(""),t()};return o.jsx(Ur,{open:e,onOpenChange:p=>{p||y()},children:o.jsxs(wr,{className:"sm:max-w-md",children:[o.jsx(vr,{children:o.jsx(yr,{children:"Create channel"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a channel where all recipients can see uploaded files."}),u?o.jsx("div",{className:"flex items-center justify-center py-4",children:o.jsx(Bt,{className:"w-5 h-5 animate-spin text-primary"})}):o.jsxs("div",{children:[o.jsx(Me,{className:"mb-1.5",children:"Select client or company"}),o.jsxs(xt,{value:a||void 0,onValueChange:p=>i(p),children:[o.jsx(ct,{children:o.jsx(St,{placeholder:"Select clients or company"})}),o.jsx(ut,{children:h.map(p=>o.jsx(Se,{value:p.id,children:p.name},p.id))})]})]})]}),o.jsxs(na,{children:[o.jsx(ve,{variant:"ghost",onClick:y,children:"Discard"}),o.jsx(ve,{onClick:m,disabled:!a||d.isPending,children:d.isPending?o.jsxs(o.Fragment,{children:[o.jsx(Bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create"})]})]})})}function cV(){const{profile:e}=qa(),[t]=oy(),[n,a]=g.useState(null),[i,l]=g.useState(!1),[u,d]=g.useState(!1),{data:h=[],isLoading:m}=D7();g.useEffect(()=>{if(h.length>0&&!u){const S=t.get("channel"),_=S&&h.find(j=>j.id===S);a(_?_.id:h[0].id),d(!0)}},[h,u,t]);const p=["admin","manager","user"].includes(e?.role||""),b=h.find(S=>S.id===n),w=!p&&h.length<=1;return o.jsxs("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:[o.jsx("div",{className:"flex-shrink-0 bg-card border-b border-border shadow-sm",children:o.jsxs("div",{className:"px-8 py-4 flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center gap-3",children:o.jsxs("h1",{className:"text-xl flex gap-2 font-semibold tracking-tight text-foreground",children:[o.jsx(Ev,{className:"w-6 h-6 text-primary"}),"File channels"]})}),p&&o.jsxs(ve,{onClick:()=>l(!0),children:[o.jsx(Ia,{className:"w-4 h-4 mr-2"}),"New Channel"]})]})}),o.jsxs("div",{className:"flex-1 flex min-h-0 overflow-hidden",children:[!w&&o.jsx("div",{className:"w-72 border-r border-border flex flex-col bg-secondary overflow-hidden flex-shrink-0",children:o.jsx(a9,{channels:h,selectedChannelId:n,onSelectChannel:a,isLoading:m})}),o.jsx("div",{className:"flex-1 flex flex-col overflow-hidden bg-card",children:n&&b?o.jsx(oV,{channelId:n,channel:b,isAdmin:p,onChannelDeleted:()=>a(null)}):m?o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary"})}):o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center px-8",children:[o.jsx(Ev,{className:"w-16 h-16 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:p?"No file channels yet":"No files shared with you"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-6 max-w-md",children:p?"Create a file channel to start sharing files with your clients. Each channel is linked to a client organization.":"Your advisor will create a file channel and share files with you here."}),p&&o.jsxs(ve,{onClick:()=>l(!0),children:[o.jsx(Ia,{className:"w-4 h-4 mr-2"}),"Create First Channel"]})]})})]}),o.jsx(lV,{isOpen:i,onClose:()=>l(!1),onChannelCreated:S=>a(S)})]})}function uV(){const{profile:e,isLoading:t,refreshProfile:n}=qa(),[a,i]=g.useState(""),[l,u]=g.useState(""),[d,h]=g.useState(""),[m,y]=g.useState(""),p=I7(),b=$7(),{data:w,isLoading:S}=X7(),_=J7();g.useEffect(()=>{e&&i(e.full_name||"")},[e]);const j=async E=>{E.preventDefault();try{await p.mutateAsync({full_name:a.trim()||void 0}),n()}catch{}},C=async E=>{E.preventDefault();try{await b.mutateAsync({currentPassword:l,newPassword:d,confirmPassword:m}),u(""),h(""),y("")}catch{}};return t?o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsx(Bt,{className:"w-8 h-8 text-primary animate-spin"})}):o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx("div",{className:"flex-shrink-0 bg-card border-b border-border shadow-sm",children:o.jsxs("div",{className:"px-8 py-4",children:[o.jsx("h1",{className:"text-xl font-semibold tracking-tight text-foreground",children:"Settings"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage your account settings and preferences"})]})}),o.jsx("div",{className:"flex-1 overflow-auto p-8",children:o.jsxs("div",{className:"max-w-4xl space-y-6",children:[o.jsxs(La,{children:[o.jsx(dl,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ps,{className:"w-5 h-5 text-primary"}),o.jsxs("div",{children:[o.jsx(fl,{className:"text-lg",children:"Profile Settings"}),o.jsx(hl,{children:"Update your personal information and avatar"})]})]})}),o.jsx(hs,{children:o.jsxs("form",{onSubmit:j,className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4 pb-4 border-b border-border",children:[o.jsx(gr,{name:a||e?.email||"",email:e?.email||"",src:e?.avatar_url||void 0,size:"xl"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:"Profile Picture"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Contact your administrator to change your avatar"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{children:"Email Address"}),o.jsx(nt,{type:"email",value:e?.email||"",disabled:!0,className:"bg-secondary"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Contact your administrator to change your email"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{htmlFor:"fullName",children:"Full Name"}),o.jsx(nt,{id:"fullName",type:"text",value:a,onChange:E=>i(E.target.value),placeholder:"Enter your full name",disabled:p.isPending})]}),o.jsx(bl,{}),o.jsx("div",{className:"flex justify-end",children:o.jsx(ve,{type:"submit",disabled:p.isPending,children:p.isPending?o.jsxs(o.Fragment,{children:[o.jsx(Bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Save Changes"})})]})})]}),o.jsxs(La,{children:[o.jsx(dl,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(uU,{className:"w-5 h-5 text-primary"}),o.jsxs("div",{children:[o.jsx(fl,{className:"text-lg",children:"Email Notifications"}),o.jsx(hl,{children:"Choose which email notifications you receive"})]})]})}),o.jsx(hs,{children:S?o.jsx("div",{className:"flex justify-center py-4",children:o.jsx(Bt,{className:"w-5 h-5 animate-spin text-muted-foreground"})}):o.jsx("div",{className:"space-y-4",children:[{key:"task_assigned",label:"Task Assigned",description:"When a task is assigned to you"},{key:"task_status_changed",label:"Status Changes",description:"When a task you created or are assigned to changes status"},{key:"task_comment_added",label:"New Comments",description:"When someone comments on your tasks"},{key:"task_mentioned",label:"Mentions",description:"When someone @mentions you in a comment"},{key:"file_uploaded",label:"File Uploads",description:"When files are uploaded to your channels"}].map(({key:E,label:k,description:A})=>o.jsxs("div",{className:"flex items-center justify-between py-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:k}),o.jsx("p",{className:"text-xs text-muted-foreground",children:A})]}),o.jsx(ao,{checked:w?.[E]??!0,onCheckedChange:L=>{_.mutate({[E]:L})},disabled:_.isPending})]},E))})})]}),o.jsxs(La,{children:[o.jsx(dl,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Wc,{className:"w-5 h-5 text-primary"}),o.jsxs("div",{children:[o.jsx(fl,{className:"text-lg",children:"Change Password"}),o.jsx(hl,{children:"Update your password to keep your account secure"})]})]})}),o.jsx(hs,{children:o.jsxs("form",{onSubmit:C,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{htmlFor:"currentPassword",children:"Current Password"}),o.jsx(nt,{id:"currentPassword",type:"password",value:l,onChange:E=>u(E.target.value),placeholder:"Enter your current password",disabled:b.isPending})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{htmlFor:"newPassword",children:"New Password"}),o.jsx(nt,{id:"newPassword",type:"password",value:d,onChange:E=>h(E.target.value),placeholder:"Enter your new password",disabled:b.isPending}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be at least 6 characters"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{htmlFor:"confirmPassword",children:"Confirm New Password"}),o.jsx(nt,{id:"confirmPassword",type:"password",value:m,onChange:E=>y(E.target.value),placeholder:"Confirm your new password",disabled:b.isPending})]}),o.jsx(bl,{}),o.jsx("div",{className:"flex justify-end",children:o.jsx(ve,{type:"submit",disabled:b.isPending,children:b.isPending?o.jsxs(o.Fragment,{children:[o.jsx(Bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Changing Password..."]}):"Change Password"})})]})})]})]})})]})}const dV=[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"},{value:"quarterly",label:"Quarterly"},{value:"annual",label:"Annual"},{value:"ad-hoc",label:"Ad-hoc"}];function fV({isOpen:e,onClose:t,template:n}){const{data:a=[],isLoading:i}=Gh(),l=F7(),u=B7(),{data:d=[]}=yx(),[h,m]=g.useState({vertical_id:"",name:"",description:"",associated_software:"",timing:null,display_order:0});g.useEffect(()=>{m(n?{vertical_id:n.vertical_id,name:n.name,description:n.description||"",associated_software:n.associated_software||"",timing:n.timing,display_order:n.display_order}:{vertical_id:"",name:"",description:"",associated_software:"",timing:null,display_order:0})},[n]);const y=async b=>{b.preventDefault();try{n?await u.mutateAsync({id:n.id,data:h}):await l.mutateAsync(h),t()}catch{}},p=l.isPending||u.isPending;return o.jsx(Ur,{open:e,onOpenChange:b=>{b||t()},children:o.jsxs(wr,{className:"sm:max-w-lg",children:[o.jsx(vr,{children:o.jsx(yr,{children:n?"Edit Template":"Create Template"})}),o.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs(Me,{className:"mb-1",children:["Vertical ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs(xt,{value:h.vertical_id||void 0,onValueChange:b=>m({...h,vertical_id:b}),required:!0,disabled:i||p,children:[o.jsx(ct,{children:o.jsx(St,{placeholder:"Select a vertical..."})}),o.jsx(ut,{children:a.map(b=>o.jsx(Se,{value:b.id,children:b.name},b.id))})]})]}),o.jsxs("div",{children:[o.jsxs(Me,{className:"mb-1",children:["Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(nt,{type:"text",value:h.name,onChange:b=>m({...h,name:b.target.value}),placeholder:"e.g., Bank Reconciliation",required:!0,maxLength:200,disabled:p})]}),o.jsxs("div",{children:[o.jsx(Me,{className:"mb-1",children:"Description"}),o.jsx(li,{value:h.description||"",onChange:b=>m({...h,description:b.target.value}),placeholder:"Brief description of this workstream...",rows:3,disabled:p})]}),o.jsxs("div",{children:[o.jsx(Me,{className:"mb-1",children:"Associated Software"}),o.jsxs(xt,{value:h.associated_software||"__none__",onValueChange:b=>m({...h,associated_software:b==="__none__"?"":b}),disabled:p,children:[o.jsx(ct,{children:o.jsx(St,{placeholder:"Select software..."})}),o.jsxs(ut,{children:[o.jsx(Se,{value:"__none__",children:"None"}),d.map(b=>o.jsxs(Se,{value:b.name,children:[b.name,b.category&&o.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",b.category,")"]})]},b.id))]})]})]}),o.jsxs("div",{children:[o.jsx(Me,{className:"mb-1",children:"Timing"}),o.jsxs(xt,{value:h.timing||"__none__",onValueChange:b=>m({...h,timing:b==="__none__"?null:b}),disabled:p,children:[o.jsx(ct,{children:o.jsx(St,{})}),o.jsxs(ut,{children:[o.jsx(Se,{value:"__none__",children:"Select timing..."}),dV.map(b=>o.jsx(Se,{value:b.value,children:b.label},b.value))]})]})]}),o.jsxs("div",{children:[o.jsx(Me,{className:"mb-1",children:"Display Order"}),o.jsx(nt,{type:"number",value:h.display_order,onChange:b=>m({...h,display_order:parseInt(b.target.value)||0}),min:0,disabled:p}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Lower numbers appear first"})]}),o.jsxs(na,{children:[o.jsx(ve,{type:"button",onClick:t,variant:"outline",disabled:p,children:"Cancel"}),o.jsx(ve,{type:"submit",disabled:p,children:p?"Saving...":n?"Update":"Create"})]})]})]})})}var Yh="Collapsible",[hV,fT]=br(Yh),[mV,bx]=hV(Yh),hT=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:a,defaultOpen:i,disabled:l,onOpenChange:u,...d}=e,[h,m]=ta({prop:a,defaultProp:i??!1,onChange:u,caller:Yh});return o.jsx(mV,{scope:n,disabled:l,contentId:Mr(),open:h,onOpenToggle:g.useCallback(()=>m(y=>!y),[m]),children:o.jsx(Ke.div,{"data-state":_x(h),"data-disabled":l?"":void 0,...d,ref:t})})});hT.displayName=Yh;var mT="CollapsibleTrigger",pT=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,...a}=e,i=bx(mT,n);return o.jsx(Ke.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":_x(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...a,ref:t,onClick:Ee(e.onClick,i.onOpenToggle)})});pT.displayName=mT;var wx="CollapsibleContent",gT=g.forwardRef((e,t)=>{const{forceMount:n,...a}=e,i=bx(wx,e.__scopeCollapsible);return o.jsx(zr,{present:n||i.open,children:({present:l})=>o.jsx(pV,{...a,ref:t,present:l})})});gT.displayName=wx;var pV=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:a,children:i,...l}=e,u=bx(wx,n),[d,h]=g.useState(a),m=g.useRef(null),y=it(t,m),p=g.useRef(0),b=p.current,w=g.useRef(0),S=w.current,_=u.open||d,j=g.useRef(_),C=g.useRef(void 0);return g.useEffect(()=>{const E=requestAnimationFrame(()=>j.current=!1);return()=>cancelAnimationFrame(E)},[]),Cn(()=>{const E=m.current;if(E){C.current=C.current||{transitionDuration:E.style.transitionDuration,animationName:E.style.animationName},E.style.transitionDuration="0s",E.style.animationName="none";const k=E.getBoundingClientRect();p.current=k.height,w.current=k.width,j.current||(E.style.transitionDuration=C.current.transitionDuration,E.style.animationName=C.current.animationName),h(a)}},[u.open,a]),o.jsx(Ke.div,{"data-state":_x(u.open),"data-disabled":u.disabled?"":void 0,id:u.contentId,hidden:!_,...l,ref:y,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":S?`${S}px`:void 0,...e.style},children:_&&i})});function _x(e){return e?"open":"closed"}var gV=hT,vV=pT,yV=gT,Sa="Accordion",xV=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Sx,bV,wV]=Sh(Sa),[Qh]=br(Sa,[wV,fT]),jx=fT(),vT=ce.forwardRef((e,t)=>{const{type:n,...a}=e,i=a,l=a;return o.jsx(Sx.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?o.jsx(CV,{...l,ref:t}):o.jsx(jV,{...i,ref:t})})});vT.displayName=Sa;var[yT,_V]=Qh(Sa),[xT,SV]=Qh(Sa,{collapsible:!1}),jV=ce.forwardRef((e,t)=>{const{value:n,defaultValue:a,onValueChange:i=()=>{},collapsible:l=!1,...u}=e,[d,h]=ta({prop:n,defaultProp:a??"",onChange:i,caller:Sa});return o.jsx(yT,{scope:e.__scopeAccordion,value:ce.useMemo(()=>d?[d]:[],[d]),onItemOpen:h,onItemClose:ce.useCallback(()=>l&&h(""),[l,h]),children:o.jsx(xT,{scope:e.__scopeAccordion,collapsible:l,children:o.jsx(bT,{...u,ref:t})})})}),CV=ce.forwardRef((e,t)=>{const{value:n,defaultValue:a,onValueChange:i=()=>{},...l}=e,[u,d]=ta({prop:n,defaultProp:a??[],onChange:i,caller:Sa}),h=ce.useCallback(y=>d((p=[])=>[...p,y]),[d]),m=ce.useCallback(y=>d((p=[])=>p.filter(b=>b!==y)),[d]);return o.jsx(yT,{scope:e.__scopeAccordion,value:u,onItemOpen:h,onItemClose:m,children:o.jsx(xT,{scope:e.__scopeAccordion,collapsible:!0,children:o.jsx(bT,{...l,ref:t})})})}),[EV,Xh]=Qh(Sa),bT=ce.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:a,dir:i,orientation:l="vertical",...u}=e,d=ce.useRef(null),h=it(d,t),m=bV(n),p=Eu(i)==="ltr",b=Ee(e.onKeyDown,w=>{if(!xV.includes(w.key))return;const S=w.target,_=m().filter(z=>!z.ref.current?.disabled),j=_.findIndex(z=>z.ref.current===S),C=_.length;if(j===-1)return;w.preventDefault();let E=j;const k=0,A=C-1,L=()=>{E=j+1,E>A&&(E=k)},P=()=>{E=j-1,E<k&&(E=A)};switch(w.key){case"Home":E=k;break;case"End":E=A;break;case"ArrowRight":l==="horizontal"&&(p?L():P());break;case"ArrowDown":l==="vertical"&&L();break;case"ArrowLeft":l==="horizontal"&&(p?P():L());break;case"ArrowUp":l==="vertical"&&P();break}const T=E%C;_[T].ref.current?.focus()});return o.jsx(EV,{scope:n,disabled:a,direction:i,orientation:l,children:o.jsx(Sx.Slot,{scope:n,children:o.jsx(Ke.div,{...u,"data-orientation":l,ref:h,onKeyDown:a?void 0:b})})})}),dh="AccordionItem",[NV,Cx]=Qh(dh),wT=ce.forwardRef((e,t)=>{const{__scopeAccordion:n,value:a,...i}=e,l=Xh(dh,n),u=_V(dh,n),d=jx(n),h=Mr(),m=a&&u.value.includes(a)||!1,y=l.disabled||e.disabled;return o.jsx(NV,{scope:n,open:m,disabled:y,triggerId:h,children:o.jsx(gV,{"data-orientation":l.orientation,"data-state":NT(m),...d,...i,ref:t,disabled:y,open:m,onOpenChange:p=>{p?u.onItemOpen(a):u.onItemClose(a)}})})});wT.displayName=dh;var _T="AccordionHeader",ST=ce.forwardRef((e,t)=>{const{__scopeAccordion:n,...a}=e,i=Xh(Sa,n),l=Cx(_T,n);return o.jsx(Ke.h3,{"data-orientation":i.orientation,"data-state":NT(l.open),"data-disabled":l.disabled?"":void 0,...a,ref:t})});ST.displayName=_T;var Gv="AccordionTrigger",jT=ce.forwardRef((e,t)=>{const{__scopeAccordion:n,...a}=e,i=Xh(Sa,n),l=Cx(Gv,n),u=SV(Gv,n),d=jx(n);return o.jsx(Sx.ItemSlot,{scope:n,children:o.jsx(vV,{"aria-disabled":l.open&&!u.collapsible||void 0,"data-orientation":i.orientation,id:l.triggerId,...d,...a,ref:t})})});jT.displayName=Gv;var CT="AccordionContent",ET=ce.forwardRef((e,t)=>{const{__scopeAccordion:n,...a}=e,i=Xh(Sa,n),l=Cx(CT,n),u=jx(n);return o.jsx(yV,{role:"region","aria-labelledby":l.triggerId,"data-orientation":i.orientation,...u,...a,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});ET.displayName=CT;function NT(e){return e?"open":"closed"}var kV=vT,RV=wT,TV=ST,kT=jT,RT=ET;const TT=kV,Ex=g.forwardRef(({className:e,...t},n)=>o.jsx(RV,{ref:n,className:Ce("border-b border-howard-ash",e),...t}));Ex.displayName="AccordionItem";const Nx=g.forwardRef(({className:e,children:t,...n},a)=>o.jsx(TV,{className:"flex",children:o.jsxs(kT,{ref:a,className:Ce("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:no-underline hover:bg-howard-evergreen/5 [&[data-state=open]>svg]:rotate-180 [&[data-state=open]]:text-howard-evergreen",e),...n,children:[t,o.jsx(Ua,{className:"h-4 w-4 shrink-0 text-howard-slate transition-transform duration-200"})]})}));Nx.displayName=kT.displayName;const kx=g.forwardRef(({className:e,children:t,...n},a)=>o.jsx(RT,{ref:a,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:o.jsx("div",{className:Ce("pb-4 pt-0",e),children:t})}));kx.displayName=RT.displayName;function AV(){const[e,t]=g.useState(!1),[n,a]=g.useState(null),[i,l]=g.useState(""),[u,d]=g.useState(""),[h,m]=g.useState(null),{data:y=[],isLoading:p}=vx({is_active:!0,search:i||void 0,vertical_id:u||void 0}),{data:b=[]}=Gh(),w=q7(),S=k=>{a(k),t(!0)},_=k=>{m(k)},j=()=>{a(null),t(!0)},C=()=>{t(!1),a(null)},E=y.reduce((k,A)=>{const L=A.vertical_id;return k[L]||(k[L]=[]),k[L].push(A),k},{});return p?o.jsx("div",{className:"space-y-3",children:[1,2,3].map(k=>o.jsx("div",{className:"animate-pulse h-16 bg-secondary rounded"},k))}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(io,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(nt,{type:"text",value:i,onChange:k=>l(k.target.value),placeholder:"Search templates...",className:"pl-10"})]}),o.jsxs(xt,{value:u||"__all__",onValueChange:k=>d(k==="__all__"?"":k),children:[o.jsx(ct,{className:"w-auto",children:o.jsx(St,{})}),o.jsxs(ut,{children:[o.jsx(Se,{value:"__all__",children:"All Verticals"}),b.map(k=>o.jsx(Se,{value:k.id,children:k.name},k.id))]})]}),o.jsxs(ve,{onClick:j,children:[o.jsx(Ia,{className:"w-4 h-4 mr-2"}),"New Template"]})]}),y.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground border border-dashed rounded-lg",children:[o.jsx("p",{className:"font-medium",children:"No templates found"}),o.jsx(ve,{onClick:j,className:"mt-4",children:"Create your first template"})]}):o.jsx(TT,{type:"multiple",className:"space-y-2",children:b.filter(k=>E[k.id]?.length>0).map(k=>{const A=E[k.id]||[];return o.jsxs(Ex,{value:k.id,className:"border border-border rounded-lg overflow-hidden bg-card shadow-sm",children:[o.jsx(Nx,{className:"px-4 py-3 bg-secondary hover:bg-secondary/80 hover:no-underline",children:o.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[o.jsx("div",{className:"h-6 w-1 rounded",style:{backgroundColor:k.color||"#3B82F6"}}),o.jsxs("div",{className:"text-left flex-1",children:[o.jsx("h4",{className:"font-semibold text-foreground",children:k.name}),o.jsx("p",{className:"text-xs text-muted-foreground",children:k.description})]}),o.jsxs(Js,{variant:"secondary",className:"mr-2",children:[A.length," ",A.length!==1?"templates":"template"]})]})}),o.jsx(kx,{className:"px-4 pb-4 pt-2",children:o.jsx("div",{className:"grid gap-3",children:A.map(L=>o.jsx(La,{className:"p-4 hover:shadow-md transition-shadow",children:o.jsx("div",{className:"flex items-start justify-between gap-4",children:o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[o.jsx("h5",{className:"font-semibold text-foreground text-base",children:L.name}),o.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[o.jsx(ve,{variant:"ghost",size:"icon",onClick:()=>S(L),title:"Edit template",className:"h-8 w-8",children:o.jsx(jU,{className:"h-4 w-4 text-foreground/80"})}),o.jsx(ve,{variant:"ghost",size:"icon",onClick:()=>_(L),title:"Delete template",className:"h-8 w-8 hover:bg-red-50",children:o.jsx(Qi,{className:"h-4 w-4 text-red-600"})})]})]}),L.description&&o.jsx("p",{className:"text-sm text-foreground/70 mb-3 leading-relaxed",children:L.description}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[L.timing&&o.jsxs(Js,{variant:"secondary",className:"gap-1",children:[o.jsx(wy,{className:"h-3 w-3"}),L.timing]}),L.associated_software&&o.jsxs(Js,{variant:"outline",className:"gap-1 bg-blue-50 text-blue-700 border-blue-200",children:[o.jsx(BC,{className:"h-3 w-3"}),L.associated_software]})]})]})})},L.id))})})]},k.id)})}),y.length>0&&o.jsxs("div",{className:"text-sm text-foreground/80 pt-2",children:["Showing ",o.jsx("span",{className:"font-semibold text-foreground",children:y.length})," template",y.length!==1?"s":""," across"," ",o.jsx("span",{className:"font-semibold text-foreground",children:Object.keys(E).length})," ","vertical",Object.keys(E).length!==1?"s":""]}),o.jsx(fV,{isOpen:e,onClose:C,template:n}),o.jsx(co,{open:!!h,onOpenChange:k=>{k||m(null)},title:"Delete Template",description:`Are you sure you want to delete "${h?.name}"?`,confirmLabel:"Delete",variant:"destructive",onConfirm:async()=>{h&&(await w.mutateAsync(h.id),m(null))}})]})}const OV={red:{label:"Blocked",description:"Blocked / Needs Attention",color:"bg-red-500",textColor:"text-white",bgColor:"bg-red-500",borderColor:"border-red-500"},yellow:{label:"Resolving",description:"In Progress / Resolving",color:"bg-yellow-500",textColor:"text-white",bgColor:"bg-yellow-500",borderColor:"border-yellow-500"},green:{label:"Active",description:"Active / On Track",color:"bg-green-500",textColor:"text-white",bgColor:"bg-green-500",borderColor:"border-green-500"}},DV={sm:{dot:"h-2 w-2",badge:"px-2 py-0.5 text-xs"},md:{dot:"h-3 w-3",badge:"px-2.5 py-1 text-sm"},lg:{dot:"h-4 w-4",badge:"px-3 py-1.5 text-base"}};function pa({status:e,size:t="md",showLabel:n=!1,className:a}){const i=OV[e],l=DV[t];return n?o.jsx("span",{className:`inline-flex items-center gap-1.5 rounded-full border font-medium ${l.badge} ${i.bgColor} ${i.borderColor} ${i.textColor} ${a||""}`,children:o.jsx("span",{className:"text-[12px]",children:i.label})}):o.jsx("span",{className:`inline-block rounded-full ${l.dot} ${i.color} ${a||""}`,title:`${i.label} - ${i.description}`})}const yu=g.forwardRef(({className:e,...t},n)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:n,className:Ce("w-full caption-bottom text-sm",e),...t})}));yu.displayName="Table";const Jh=g.forwardRef(({className:e,...t},n)=>o.jsx("thead",{ref:n,className:Ce("[&_tr]:border-b-2 [&_tr]:border-howard-evergreen/20 bg-howard-evergreen/5",e),...t}));Jh.displayName="TableHeader";const xu=g.forwardRef(({className:e,...t},n)=>o.jsx("tbody",{ref:n,className:Ce("[&_tr:last-child]:border-0",e),...t}));xu.displayName="TableBody";const MV=g.forwardRef(({className:e,...t},n)=>o.jsx("tfoot",{ref:n,className:Ce("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));MV.displayName="TableFooter";const ei=g.forwardRef(({className:e,...t},n)=>o.jsx("tr",{ref:n,className:Ce("border-b transition-colors hover:bg-howard-evergreen/5 data-[state=selected]:bg-howard-evergreen/10",e),...t}));ei.displayName="TableRow";const Gn=g.forwardRef(({className:e,...t},n)=>o.jsx("th",{ref:n,className:Ce("h-10 px-2 text-left align-middle font-semibold text-howard-evergreen [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));Gn.displayName="TableHead";const On=g.forwardRef(({className:e,...t},n)=>o.jsx("td",{ref:n,className:Ce("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));On.displayName="TableCell";const PV=g.forwardRef(({className:e,...t},n)=>o.jsx("caption",{ref:n,className:Ce("mt-4 text-sm text-muted-foreground",e),...t}));PV.displayName="TableCaption";function LV({workstreams:e,organizations:t,loading:n=!1,onSelectWorkstream:a}){const i=wa(),[l,u]=g.useState({org_id:"",status:"",search:""}),d=K7(),[h,m]=g.useState(null),y=C=>{const E=t.find(k=>k.id===C);E&&m({id:E.id,name:E.name})},p=C=>{a?a(C):i(`/workstreams/${C}`)},b=new Set(e.map(C=>C.org_id)),w=t.filter(C=>!b.has(C.id)),S=e.filter(C=>(C.total_entries||0)===0),_=[...w.map(C=>({id:C.id,name:C.name,hasWorkstream:!1})),...S.map(C=>({id:C.org_id,name:C.organization?.name||"Unknown",hasWorkstream:!0,workstreamId:C.id}))],j=e.filter(C=>{if(l.org_id&&C.org_id!==l.org_id||l.status&&C.overall_status!==l.status)return!1;if(l.search){const E=l.search.toLowerCase();return C.organization?.name.toLowerCase().includes(E)||C.name.toLowerCase().includes(E)}return!0});return n?o.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(C=>o.jsx("div",{className:"animate-pulse h-16 bg-secondary rounded-lg"},C))}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(io,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(nt,{type:"text",value:l.search,onChange:C=>u({...l,search:C.target.value}),placeholder:"Search organizations...",className:"pl-10"})]}),o.jsxs(xt,{value:l.org_id||"__all__",onValueChange:C=>u({...l,org_id:C==="__all__"?"":C}),children:[o.jsx(ct,{className:"w-auto",children:o.jsx(St,{})}),o.jsxs(ut,{children:[o.jsxs(Se,{value:"__all__",children:["All Organizations (",e.length,")"]}),t.map(C=>o.jsx(Se,{value:C.id,children:C.name},C.id))]})]}),o.jsxs(xt,{value:l.status||"__all__",onValueChange:C=>u({...l,status:C==="__all__"?"":C}),children:[o.jsx(ct,{className:"w-auto",children:o.jsx(St,{})}),o.jsxs(ut,{children:[o.jsx(Se,{value:"__all__",children:"All Statuses"}),o.jsx(Se,{value:"red",children:"Blocked"}),o.jsx(Se,{value:"yellow",children:"Resolving"}),o.jsx(Se,{value:"green",children:"Active"})]})]})]}),j.length===0&&_.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground border border-dashed rounded-lg",children:[o.jsx(Jn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),o.jsx("p",{className:"font-medium",children:"No workstreams yet"}),o.jsx("p",{className:"text-sm mt-2",children:"Create workstreams for your client organizations to get started"})]}):o.jsxs(o.Fragment,{children:[j.length>0&&o.jsx("div",{className:"border border-border rounded-lg overflow-hidden",children:o.jsxs(yu,{children:[o.jsx(Jh,{className:"bg-secondary",children:o.jsxs(ei,{children:[o.jsx(Gn,{className:"px-4 text-xs uppercase tracking-wider",children:"Organization"}),o.jsx(Gn,{className:"px-4 text-xs uppercase tracking-wider",children:"Status"}),o.jsx(Gn,{className:"px-4 text-xs uppercase tracking-wider",children:"Items"}),o.jsx(Gn,{className:"px-4 text-xs uppercase tracking-wider",children:"Verticals"}),o.jsx(Gn,{className:"px-4 text-xs uppercase tracking-wider",children:"Status Breakdown"}),o.jsx(Gn,{className:"w-10"})]})}),o.jsx(xu,{className:"bg-card",children:j.map(C=>{const E=C.vertical_rollups?.reduce((L,P)=>L+P.red_count,0)||0,k=C.vertical_rollups?.reduce((L,P)=>L+P.yellow_count,0)||0,A=C.vertical_rollups?.reduce((L,P)=>L+P.green_count,0)||0;return o.jsxs(ei,{onClick:()=>p(C.id),className:"cursor-pointer",children:[o.jsx(On,{className:"px-4 py-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Jn,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),o.jsx("span",{className:"font-medium text-foreground",children:C.organization?.name})]})}),o.jsx(On,{className:"px-4 py-3",children:o.jsx(pa,{status:C.overall_status||"yellow",size:"sm",showLabel:!0})}),o.jsx(On,{className:"px-4 py-3",children:o.jsx("span",{className:"text-sm font-semibold text-foreground",children:C.total_entries||0})}),o.jsx(On,{className:"px-4 py-3",children:o.jsxs("span",{className:"text-sm text-foreground/80",children:[C.vertical_rollups?.length||0," active"]})}),o.jsx(On,{className:"px-4 py-3",children:o.jsx("div",{className:"flex items-center gap-1.5 w-full min-w-[120px]",children:(C.total_entries||0)>0?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex-1 h-2 rounded-full bg-secondary overflow-hidden flex",children:[A>0&&o.jsx("div",{className:"h-full bg-green-500",style:{width:`${A/(C.total_entries||1)*100}%`}}),k>0&&o.jsx("div",{className:"h-full bg-yellow-500",style:{width:`${k/(C.total_entries||1)*100}%`}}),E>0&&o.jsx("div",{className:"h-full bg-red-500",style:{width:`${E/(C.total_entries||1)*100}%`}})]}),o.jsxs("span",{className:"text-[10px] text-muted-foreground whitespace-nowrap",children:[A,"/",k,"/",E]})]}):o.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})})}),o.jsx(On,{className:"px-4 py-3",children:o.jsx(ni,{className:"h-4 w-4 text-muted-foreground"})})]},C.id)})})]})}),!l.org_id&&!l.status&&!l.search&&_.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"pt-2 border-t border-border",children:o.jsxs("h3",{className:"text-sm font-medium text-foreground/80 mb-3",children:["Needs Setup (",_.length,")"]})}),o.jsx("div",{className:"border border-border rounded-lg overflow-hidden",children:o.jsx(yu,{children:o.jsx(xu,{className:"bg-card",children:_.map(C=>o.jsxs(ei,{children:[o.jsx(On,{className:"px-4 py-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Jn,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-foreground",children:C.name}),o.jsx("div",{className:"text-xs text-muted-foreground",children:C.hasWorkstream?"Workstream has no entries":"No workstream created yet"})]})]})}),o.jsx(On,{className:"px-4 py-3 text-right",children:C.hasWorkstream?o.jsx(ve,{variant:"outline",size:"sm",onClick:E=>{E.stopPropagation(),p(C.workstreamId)},children:"Add Entries"}):o.jsxs(ve,{variant:"outline",size:"sm",onClick:E=>{E.stopPropagation(),y(C.id)},disabled:d.isPending,children:[o.jsx(Ia,{className:"h-3.5 w-3.5 mr-2"}),"Create Workstream"]})})]},C.id+(C.hasWorkstream?"-ws":"")))})})})]})]}),j.length>0&&o.jsxs("div",{className:"flex gap-6 text-sm text-foreground/80 pt-2 border-t border-border",children:[o.jsxs("div",{children:["Total: ",o.jsx("span",{className:"font-semibold text-foreground",children:j.length})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(pa,{status:"red",size:"sm"}),o.jsx("span",{className:"font-semibold text-foreground",children:j.filter(C=>C.overall_status==="red").length})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(pa,{status:"yellow",size:"sm"}),o.jsx("span",{className:"font-semibold text-foreground",children:j.filter(C=>C.overall_status==="yellow").length})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(pa,{status:"green",size:"sm"}),o.jsx("span",{className:"font-semibold text-foreground",children:j.filter(C=>C.overall_status==="green").length})]})]}),o.jsx(co,{open:!!h,onOpenChange:C=>{C||m(null)},title:"Create Workstream",description:`Create a new workstream for ${h?.name}?`,confirmLabel:"Create",variant:"default",onConfirm:async()=>{if(!h)return;const{id:C}=h;m(null);try{const E=await d.mutateAsync({org_id:C,name:"Workstream",notes:null});me.success("Workstream created successfully"),a?a(E.workstream.id):i(`/workstreams/${E.workstream.id}`)}catch(E){me.error(E.message||"Failed to create workstream")}}})]})}function zV({rollup:e,showCounts:t=!0,className:n}){return o.jsxs("div",{className:`inline-flex items-center gap-2 ${n||""}`,children:[o.jsx(pa,{status:e.rollup_status,size:"sm",showLabel:!0}),t&&o.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-foreground/80",children:[o.jsx("span",{className:"font-medium",children:e.total_entries}),o.jsx("span",{children:"entries:"}),e.red_count>0&&o.jsxs("span",{className:"text-red-600 font-medium",children:[e.red_count," red"]}),e.yellow_count>0&&o.jsxs("span",{className:"text-yellow-600 font-medium",children:[e.yellow_count," yellow"]}),e.green_count>0&&o.jsxs("span",{className:"text-green-600 font-medium",children:[e.green_count," green"]})]})]})}function UV({entries:e,verticals:t,verticalRollups:n=[],isAdmin:a=!1,onEditEntry:i,onDeleteEntry:l,onStatusChange:u,emptyMessage:d="No entries yet"}){const[h,m]=g.useState(new Set),[y,p]=g.useState(new Set),b=j=>{m(C=>{const E=new Set(C);return E.has(j)?E.delete(j):E.add(j),E})},w=j=>{p(C=>{const E=new Set(C);return E.has(j)?E.delete(j):E.add(j),E})},S=e.reduce((j,C)=>{const E=C.vertical_id||"uncategorized";return j[E]||(j[E]=[]),j[E].push(C),j},{}),_=j=>n.find(C=>C.vertical_id===j);return e.length===0?o.jsx("div",{className:"text-center py-12 text-muted-foreground border border-dashed rounded-lg",children:o.jsx("p",{className:"text-lg font-medium text-foreground",children:d})}):o.jsx("div",{className:"space-y-3",children:t.map(j=>{const C=S[j.id]||[],E=_(j.id);if(C.length===0)return null;const k=h.has(j.id);return o.jsxs("div",{className:"border border-border rounded-lg overflow-hidden bg-card",children:[o.jsxs("button",{onClick:()=>b(j.id),className:"w-full bg-secondary/60 hover:bg-secondary/80 transition-colors px-4 py-3 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2.5",children:[k?o.jsx(ni,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}):o.jsx(Ua,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),o.jsx("div",{className:"h-5 w-1 rounded-full flex-shrink-0",style:{backgroundColor:j.color||"#3B82F6"}}),o.jsxs("div",{className:"text-left",children:[o.jsx("h4",{className:"font-semibold text-sm text-foreground",children:j.name}),j.description&&o.jsx("p",{className:"text-xs text-muted-foreground",children:j.description})]})]}),E&&o.jsx(zV,{rollup:E,showCounts:!0})]}),!k&&o.jsx("div",{className:"divide-y divide-border",children:C.map(A=>{const L=y.has(A.id);return o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 hover:bg-secondary/30 cursor-pointer transition-colors",onClick:()=>w(A.id),children:[o.jsx("div",{className:"flex-shrink-0",onClick:P=>P.stopPropagation(),children:a&&u?o.jsxs(xt,{value:A.status,onValueChange:P=>u(A,P),children:[o.jsx(ct,{className:"h-auto text-xs px-2 py-1 w-auto border-0 bg-transparent shadow-none",children:o.jsx(pa,{status:A.status,size:"sm",showLabel:!1})}),o.jsxs(ut,{children:[o.jsx(Se,{value:"green",children:"Active"}),o.jsx(Se,{value:"yellow",children:"Resolving"}),o.jsx(Se,{value:"red",children:"Blocked"})]})]}):o.jsx(pa,{status:A.status,size:"sm",showLabel:!1})}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsx("span",{className:"text-sm font-medium text-foreground",children:A.name})}),o.jsxs("div",{className:"hidden sm:flex items-center gap-1.5 flex-shrink-0",children:[A.timing&&o.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-secondary text-foreground/70",children:A.timing}),A.point_person&&o.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-secondary text-foreground/70 max-w-[120px] truncate",children:A.point_person.full_name}),A.associated_software&&o.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-blue-50 text-blue-700 border border-blue-100",children:A.associated_software})]}),a&&o.jsxs("div",{className:"flex items-center gap-0.5 flex-shrink-0",onClick:P=>P.stopPropagation(),children:[i&&o.jsx(ve,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>i(A),children:o.jsx(xU,{className:"h-3.5 w-3.5 text-foreground/60"})}),l&&o.jsx(ve,{variant:"ghost",size:"icon",className:"h-7 w-7 hover:bg-red-50",onClick:()=>l(A),children:o.jsx(Qi,{className:"h-3.5 w-3.5 text-red-500"})})]}),L?o.jsx(Ua,{className:"h-3.5 w-3.5 text-muted-foreground flex-shrink-0"}):o.jsx(ni,{className:"h-3.5 w-3.5 text-muted-foreground flex-shrink-0"})]}),L&&o.jsxs("div",{className:"px-4 pb-3 pt-1 ml-9 border-primary/15 ml-[2.1rem]",children:[o.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-3 sm:hidden",children:[A.timing&&o.jsxs(Js,{variant:"secondary",className:"gap-1 text-xs",children:[o.jsx(wy,{className:"h-3 w-3"}),A.timing]}),A.point_person?o.jsxs(Js,{variant:"outline",className:"gap-1 text-xs",children:[o.jsx(ps,{className:"h-3 w-3"}),A.point_person.full_name]}):o.jsxs(Js,{variant:"outline",className:"gap-1 text-xs text-muted-foreground",children:[o.jsx(ps,{className:"h-3 w-3"}),"Unassigned"]}),A.associated_software&&o.jsxs(Js,{variant:"outline",className:"gap-1 text-xs bg-blue-50 text-blue-700 border-blue-200",children:[o.jsx(BC,{className:"h-3 w-3"}),A.associated_software]})]}),o.jsxs("div",{className:"space-y-3 text-sm",children:[A.description&&o.jsxs("div",{children:[o.jsx("h6",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-1",children:"Description"}),o.jsx("p",{className:"text-foreground/80 leading-relaxed",children:A.description})]}),A.notes&&o.jsxs("div",{children:[o.jsx("h6",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-1",children:"Notes"}),o.jsx("p",{className:"text-foreground/80 bg-secondary/30 rounded p-2.5 leading-relaxed",children:A.notes})]}),A.custom_sop&&o.jsxs("div",{children:[o.jsx("h6",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-1",children:"SOP"}),o.jsx("div",{className:"text-foreground/80 bg-secondary/30 rounded p-2.5 max-h-40 overflow-y-auto",children:typeof A.custom_sop=="string"?o.jsx("p",{className:"whitespace-pre-wrap leading-relaxed",children:A.custom_sop}):o.jsx("pre",{className:"text-xs font-mono",children:JSON.stringify(A.custom_sop,null,2)})})]}),!A.description&&!A.notes&&!A.custom_sop&&o.jsx("p",{className:"text-xs text-muted-foreground italic",children:"No additional details"}),o.jsxs("div",{className:"flex flex-wrap gap-3 text-[11px] text-muted-foreground pt-2",children:[A.template&&o.jsxs("span",{children:["From: ",o.jsx("span",{className:"font-medium text-foreground/70",children:A.template.name})]}),o.jsxs("span",{children:["Created ",new Date(A.created_at).toLocaleDateString()]}),o.jsxs("span",{children:["Updated ",new Date(A.updated_at).toLocaleDateString()]})]})]})]})]},A.id)})})]},j.id)})})}function IV({overallStatus:e,verticalRollups:t,totalEntries:n,className:a}){const i=t.reduce((d,h)=>d+h.red_count,0),l=t.reduce((d,h)=>d+h.yellow_count,0),u=t.reduce((d,h)=>d+h.green_count,0);return o.jsx("div",{className:`${a||""}`,children:o.jsxs("div",{className:"flex items-center gap-4 pt-3 border-t border-border",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Status:"}),o.jsx(pa,{status:e,size:"sm",showLabel:!0})]}),o.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[i>0&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(pa,{status:"red",size:"sm"}),o.jsx("span",{className:"font-semibold text-red-600",children:i})]}),l>0&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(pa,{status:"yellow",size:"sm"}),o.jsx("span",{className:"font-semibold text-yellow-600",children:l})]}),u>0&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(pa,{status:"green",size:"sm"}),o.jsx("span",{className:"font-semibold text-green-600",children:u})]})]}),n>0&&o.jsx("div",{className:"flex-1 max-w-xs",children:o.jsxs("div",{className:"flex h-1.5 rounded-full overflow-hidden bg-secondary",children:[i>0&&o.jsx("div",{className:"bg-red-500",style:{width:`${i/n*100}%`},title:`${i} red (${Math.round(i/n*100)}%)`}),l>0&&o.jsx("div",{className:"bg-yellow-500",style:{width:`${l/n*100}%`},title:`${l} yellow (${Math.round(l/n*100)}%)`}),u>0&&o.jsx("div",{className:"bg-green-500",style:{width:`${u/n*100}%`},title:`${u} green (${Math.round(u/n*100)}%)`})]})})]})})}function $V({isOpen:e,onClose:t,onSubmit:n,entry:a,workstreamId:i,verticals:l,users:u,isSubmitting:d=!1}){const{data:h=[]}=yx(),{data:m}=vx(),y=m?.templates||[],[p,b]=g.useState({name:"",description:"",vertical_id:"",timing:"",associated_software:"",point_person_id:"",status:"yellow",notes:""});g.useEffect(()=>{b(a?{name:a.name||"",description:a.description||"",vertical_id:a.vertical_id||"",timing:a.timing||"",associated_software:a.associated_software||"",point_person_id:a.point_person_id||"",status:a.status||"yellow",notes:a.notes||""}:{name:"",description:"",vertical_id:l[0]?.id||"",timing:"",associated_software:"",point_person_id:"",status:"yellow",notes:""})},[a,l,e]);const w=S=>{S.preventDefault();const _={workstream_id:i,name:p.name,description:p.description||null,vertical_id:p.vertical_id,timing:p.timing||null,associated_software:p.associated_software||null,point_person_id:p.point_person_id||null,status:p.status,notes:p.notes||null};n(_)};return o.jsx(Ur,{open:e,onOpenChange:S=>{S||t()},children:o.jsxs(wr,{className:"sm:max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsx(vr,{children:o.jsx(yr,{children:a?"Edit Entry":"Create Entry"})}),o.jsxs("form",{onSubmit:w,className:"flex-1 overflow-y-auto space-y-4",children:[!a&&y.length>0&&o.jsxs("div",{className:"p-3 bg-secondary/50 rounded-lg border border-border",children:[o.jsx(Me,{className:"mb-1 text-xs font-medium",children:"Auto-fill from Template"}),o.jsxs(xt,{value:"__none__",onValueChange:S=>{if(S==="__none__")return;const _=y.find(j=>j.id===S);_&&b(j=>({...j,name:_.name||j.name,description:_.description||j.description,vertical_id:_.vertical_id||j.vertical_id,timing:_.timing||j.timing,associated_software:_.associated_software||j.associated_software}))},children:[o.jsx(ct,{className:"h-9",children:o.jsx(St,{placeholder:"Select a template to auto-fill..."})}),o.jsxs(ut,{children:[o.jsx(Se,{value:"__none__",children:"Choose a template..."}),y.map(S=>o.jsxs(Se,{value:S.id,children:[S.name,S.vertical?.name&&o.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",S.vertical.name,")"]})]},S.id))]})]})]}),o.jsxs("div",{children:[o.jsxs(Me,{className:"mb-1",children:["Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(nt,{type:"text",value:p.name,onChange:S=>b({...p,name:S.target.value}),required:!0,placeholder:"e.g., Weekly cash flow update"})]}),o.jsxs("div",{children:[o.jsxs(Me,{className:"mb-1",children:["Vertical ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs(xt,{value:p.vertical_id||void 0,onValueChange:S=>b({...p,vertical_id:S}),required:!0,children:[o.jsx(ct,{children:o.jsx(St,{placeholder:"Select a vertical"})}),o.jsx(ut,{children:l.map(S=>o.jsx(Se,{value:S.id,children:S.name},S.id))})]})]}),o.jsxs("div",{children:[o.jsx(Me,{className:"mb-1",children:"Description"}),o.jsx(li,{value:p.description,onChange:S=>b({...p,description:S.target.value}),rows:3,placeholder:"Describe this workstream entry..."})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Me,{className:"mb-1",children:"Timing"}),o.jsxs(xt,{value:p.timing||"__none__",onValueChange:S=>b({...p,timing:S==="__none__"?"":S}),children:[o.jsx(ct,{children:o.jsx(St,{})}),o.jsxs(ut,{children:[o.jsx(Se,{value:"__none__",children:"Select timing"}),o.jsx(Se,{value:"daily",children:"Daily"}),o.jsx(Se,{value:"weekly",children:"Weekly"}),o.jsx(Se,{value:"monthly",children:"Monthly"}),o.jsx(Se,{value:"quarterly",children:"Quarterly"}),o.jsx(Se,{value:"annual",children:"Annual"}),o.jsx(Se,{value:"ad-hoc",children:"Ad-hoc"})]})]})]}),o.jsxs("div",{children:[o.jsx(Me,{className:"mb-1",children:"Status"}),o.jsxs(xt,{value:p.status,onValueChange:S=>b({...p,status:S}),children:[o.jsx(ct,{children:o.jsx(St,{})}),o.jsxs(ut,{children:[o.jsx(Se,{value:"green",children:"Active"}),o.jsx(Se,{value:"yellow",children:"Resolving"}),o.jsx(Se,{value:"red",children:"Blocked"})]})]})]})]}),o.jsxs("div",{children:[o.jsx(Me,{className:"mb-1",children:"Associated Software"}),o.jsxs(xt,{value:p.associated_software||"__none__",onValueChange:S=>b({...p,associated_software:S==="__none__"?"":S}),children:[o.jsx(ct,{children:o.jsx(St,{placeholder:"Select software..."})}),o.jsxs(ut,{children:[o.jsx(Se,{value:"__none__",children:"None"}),h.map(S=>o.jsxs(Se,{value:S.name,children:[S.name,S.category&&o.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",S.category,")"]})]},S.id))]})]})]}),o.jsxs("div",{children:[o.jsx(Me,{className:"mb-1",children:"Point Person"}),o.jsxs(xt,{value:p.point_person_id||"__unassigned__",onValueChange:S=>b({...p,point_person_id:S==="__unassigned__"?"":S}),children:[o.jsx(ct,{children:o.jsx(St,{})}),o.jsxs(ut,{children:[o.jsx(Se,{value:"__unassigned__",children:"Unassigned"}),u.map(S=>o.jsxs(Se,{value:S.id,children:[S.full_name," (",S.email,")"]},S.id))]})]})]}),o.jsxs("div",{children:[o.jsx(Me,{className:"mb-1",children:"Notes"}),o.jsx(li,{value:p.notes,onChange:S=>b({...p,notes:S.target.value}),rows:2,placeholder:"Additional notes or context..."})]}),o.jsxs(na,{children:[o.jsx(ve,{type:"button",onClick:t,variant:"outline",disabled:d,children:"Cancel"}),o.jsx(ve,{type:"submit",disabled:d,children:d?"Saving...":a?"Update Entry":"Create Entry"})]})]})]})})}var Zh="Checkbox",[FV]=br(Zh),[BV,Rx]=FV(Zh);function qV(e){const{__scopeCheckbox:t,checked:n,children:a,defaultChecked:i,disabled:l,form:u,name:d,onCheckedChange:h,required:m,value:y="on",internal_do_not_use_render:p}=e,[b,w]=ta({prop:n,defaultProp:i??!1,onChange:h,caller:Zh}),[S,_]=g.useState(null),[j,C]=g.useState(null),E=g.useRef(!1),k=S?!!u||!!S.closest("form"):!0,A={checked:b,disabled:l,setChecked:w,control:S,setControl:_,name:d,form:u,value:y,hasConsumerStoppedPropagationRef:E,required:m,defaultChecked:ti(i)?!1:i,isFormControl:k,bubbleInput:j,setBubbleInput:C};return o.jsx(BV,{scope:t,...A,children:HV(p)?p(A):a})}var AT="CheckboxTrigger",OT=g.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...a},i)=>{const{control:l,value:u,disabled:d,checked:h,required:m,setControl:y,setChecked:p,hasConsumerStoppedPropagationRef:b,isFormControl:w,bubbleInput:S}=Rx(AT,e),_=it(i,y),j=g.useRef(h);return g.useEffect(()=>{const C=l?.form;if(C){const E=()=>p(j.current);return C.addEventListener("reset",E),()=>C.removeEventListener("reset",E)}},[l,p]),o.jsx(Ke.button,{type:"button",role:"checkbox","aria-checked":ti(h)?"mixed":h,"aria-required":m,"data-state":zT(h),"data-disabled":d?"":void 0,disabled:d,value:u,...a,ref:_,onKeyDown:Ee(t,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:Ee(n,C=>{p(E=>ti(E)?!0:!E),S&&w&&(b.current=C.isPropagationStopped(),b.current||C.stopPropagation())})})});OT.displayName=AT;var Tx=g.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:a,checked:i,defaultChecked:l,required:u,disabled:d,value:h,onCheckedChange:m,form:y,...p}=e;return o.jsx(qV,{__scopeCheckbox:n,checked:i,defaultChecked:l,disabled:d,required:u,onCheckedChange:m,name:a,form:y,value:h,internal_do_not_use_render:({isFormControl:b})=>o.jsxs(o.Fragment,{children:[o.jsx(OT,{...p,ref:t,__scopeCheckbox:n}),b&&o.jsx(LT,{__scopeCheckbox:n})]})})});Tx.displayName=Zh;var DT="CheckboxIndicator",MT=g.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:a,...i}=e,l=Rx(DT,n);return o.jsx(zr,{present:a||ti(l.checked)||l.checked===!0,children:o.jsx(Ke.span,{"data-state":zT(l.checked),"data-disabled":l.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});MT.displayName=DT;var PT="CheckboxBubbleInput",LT=g.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:a,hasConsumerStoppedPropagationRef:i,checked:l,defaultChecked:u,required:d,disabled:h,name:m,value:y,form:p,bubbleInput:b,setBubbleInput:w}=Rx(PT,e),S=it(n,w),_=ix(l),j=Ay(a);g.useEffect(()=>{const E=b;if(!E)return;const k=window.HTMLInputElement.prototype,L=Object.getOwnPropertyDescriptor(k,"checked").set,P=!i.current;if(_!==l&&L){const T=new Event("click",{bubbles:P});E.indeterminate=ti(l),L.call(E,ti(l)?!1:l),E.dispatchEvent(T)}},[b,_,l,i]);const C=g.useRef(ti(l)?!1:l);return o.jsx(Ke.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??C.current,required:d,disabled:h,name:m,value:y,form:p,...t,tabIndex:-1,ref:S,style:{...t.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});LT.displayName=PT;function HV(e){return typeof e=="function"}function ti(e){return e==="indeterminate"}function zT(e){return ti(e)?"indeterminate":e?"checked":"unchecked"}const Ax=g.forwardRef(({className:e,...t},n)=>o.jsx(Tx,{ref:n,className:Ce("grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:o.jsx(MT,{className:Ce("grid place-content-center text-current"),children:o.jsx(xy,{className:"h-4 w-4"})})}));Ax.displayName=Tx.displayName;function VV({isOpen:e,onClose:t,onBulkAdd:n,onCreateCustom:a,workstreamId:i,users:l,isSubmitting:u=!1}){const[d,h]=g.useState("browse"),[m,y]=g.useState(new Set),[p,b]=g.useState(""),[w,S]=g.useState(""),{data:_=[],isLoading:j}=vx({is_active:!0}),{data:C=[]}=Gh(),{data:E=[]}=yx(),[k,A]=g.useState({name:"",description:"",vertical_id:"",timing:"",associated_software:"",point_person_id:"",status:"yellow",notes:""});g.useEffect(()=>{e&&(h("browse"),y(new Set),b(""),S(""),A({name:"",description:"",vertical_id:C[0]?.id||"",timing:"",associated_software:"",point_person_id:"",status:"yellow",notes:""}))},[e,C]);const L=M=>{y(Y=>{const J=new Set(Y);return J.has(M)?J.delete(M):J.add(M),J})},P=()=>{const M=H.map(Y=>Y.id);y(new Set(M))},T=()=>{y(new Set)},z=()=>{m.size!==0&&n(Array.from(m))},Z=M=>{M.preventDefault();const Y={workstream_id:i,name:k.name,description:k.description||null,vertical_id:k.vertical_id,timing:k.timing||null,associated_software:k.associated_software||null,point_person_id:k.point_person_id||null,status:k.status,notes:k.notes||null};a(Y)},V=()=>{h("browse")},H=_.filter(M=>{if(w&&M.vertical_id!==w)return!1;if(p){const Y=p.toLowerCase();return M.name.toLowerCase().includes(Y)||M.description?.toLowerCase().includes(Y)||M.vertical?.name.toLowerCase().includes(Y)}return!0}),K=H.reduce((M,Y)=>{const J=Y.vertical_id||"uncategorized";return M[J]||(M[J]=[]),M[J].push(Y),M},{});return o.jsx(Ur,{open:e,onOpenChange:M=>{M||t()},children:o.jsx(wr,{className:"sm:max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:d==="browse"?o.jsxs(o.Fragment,{children:[o.jsxs(vr,{children:[o.jsx(yr,{children:"Add Entries"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Select templates from the library or create a custom entry"})]}),o.jsxs("div",{className:"border-b border-border bg-secondary rounded-lg p-4 space-y-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx(io,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(nt,{type:"text",value:p,onChange:M=>b(M.target.value),placeholder:"Search templates...",className:"pl-10"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(xt,{value:w||"__all__",onValueChange:M=>S(M==="__all__"?"":M),children:[o.jsx(ct,{className:"flex-1",children:o.jsx(St,{})}),o.jsxs(ut,{children:[o.jsx(Se,{value:"__all__",children:"All Verticals"}),C.map(M=>o.jsx(Se,{value:M.id,children:M.name},M.id))]})]}),o.jsx(ve,{type:"button",variant:"ghost",size:"sm",onClick:P,children:"Select All"}),o.jsx(ve,{type:"button",variant:"ghost",size:"sm",onClick:T,children:"Deselect All"})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:j?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),o.jsx("p",{className:"text-sm text-foreground/80",children:"Loading templates..."})]}):H.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx("p",{children:"No templates found"}),o.jsx("p",{className:"text-sm mt-2",children:"Try adjusting your filters or create a custom entry"})]}):o.jsx("div",{className:"space-y-6",children:C.filter(M=>K[M.id]?.length>0).map(M=>o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx("div",{className:"h-1 w-8 rounded",style:{backgroundColor:M.color||"#3B82F6"}}),o.jsx("h4",{className:"text-sm font-semibold text-foreground/80 uppercase tracking-wide",children:M.name}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",K[M.id].length,")"]})]}),o.jsx("div",{className:"space-y-2",children:K[M.id].map(Y=>o.jsxs("label",{className:"flex items-start gap-3 p-3 border border-border rounded-lg hover:bg-secondary cursor-pointer transition-colors",children:[o.jsx(Ax,{checked:m.has(Y.id),onCheckedChange:()=>L(Y.id),className:"mt-1"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsx("span",{className:"text-md text-foreground",children:Y.name}),Y.timing&&o.jsx("span",{className:"text-xs px-2 py-1 bg-secondary text-foreground/80 rounded",children:Y.timing})]}),Y.description&&o.jsx("p",{className:"text-xs text-foreground/80 mt-1",children:Y.description}),Y.associated_software&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Software: ",Y.associated_software]})]})]},Y.id))})]},M.id))})}),o.jsxs(na,{className:"flex-col sm:flex-row gap-2",children:[o.jsxs(ve,{type:"button",onClick:()=>h("create-custom"),variant:"outline",className:"sm:mr-auto",children:[o.jsx(Ia,{className:"h-3.5 w-3.5 mr-1.5"}),"Create Custom Entry"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ve,{type:"button",onClick:t,variant:"outline",disabled:u,children:"Cancel"}),o.jsx(ve,{onClick:z,disabled:u||m.size===0,children:u?"Adding...":m.size===0?"Select Templates":`Add ${m.size} Entr${m.size!==1?"ies":"y"}`})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs(vr,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ve,{type:"button",variant:"ghost",size:"sm",onClick:V,className:"h-auto p-0 hover:bg-transparent",children:o.jsx(UC,{className:"h-4 w-4 mr-1"})}),o.jsx(yr,{children:"Create Custom Entry"})]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Create an entry that's not based on a template"})]}),o.jsxs("form",{onSubmit:Z,className:"flex-1 overflow-y-auto space-y-4",children:[o.jsxs("div",{children:[o.jsxs(Me,{className:"mb-1",children:["Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(nt,{type:"text",value:k.name,onChange:M=>A({...k,name:M.target.value}),required:!0,placeholder:"e.g., Weekly cash flow update"})]}),o.jsxs("div",{children:[o.jsxs(Me,{className:"mb-1",children:["Vertical ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs(xt,{value:k.vertical_id||void 0,onValueChange:M=>A({...k,vertical_id:M}),required:!0,children:[o.jsx(ct,{children:o.jsx(St,{placeholder:"Select a vertical"})}),o.jsx(ut,{children:C.map(M=>o.jsx(Se,{value:M.id,children:M.name},M.id))})]})]}),o.jsxs("div",{children:[o.jsx(Me,{className:"mb-1",children:"Description"}),o.jsx(li,{value:k.description,onChange:M=>A({...k,description:M.target.value}),rows:3,placeholder:"Describe this workstream entry..."})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Me,{className:"mb-1",children:"Timing"}),o.jsxs(xt,{value:k.timing||"__none__",onValueChange:M=>A({...k,timing:M==="__none__"?"":M}),children:[o.jsx(ct,{children:o.jsx(St,{})}),o.jsxs(ut,{children:[o.jsx(Se,{value:"__none__",children:"Select timing"}),o.jsx(Se,{value:"daily",children:"Daily"}),o.jsx(Se,{value:"weekly",children:"Weekly"}),o.jsx(Se,{value:"monthly",children:"Monthly"}),o.jsx(Se,{value:"quarterly",children:"Quarterly"}),o.jsx(Se,{value:"annual",children:"Annual"}),o.jsx(Se,{value:"ad-hoc",children:"Ad-hoc"})]})]})]}),o.jsxs("div",{children:[o.jsx(Me,{className:"mb-1",children:"Status"}),o.jsxs(xt,{value:k.status,onValueChange:M=>A({...k,status:M}),children:[o.jsx(ct,{children:o.jsx(St,{})}),o.jsxs(ut,{children:[o.jsx(Se,{value:"green",children:"Active"}),o.jsx(Se,{value:"yellow",children:"Resolving"}),o.jsx(Se,{value:"red",children:"Blocked"})]})]})]})]}),o.jsxs("div",{children:[o.jsx(Me,{className:"mb-1",children:"Associated Software"}),o.jsxs(xt,{value:k.associated_software||"__none__",onValueChange:M=>A({...k,associated_software:M==="__none__"?"":M}),children:[o.jsx(ct,{children:o.jsx(St,{placeholder:"Select software..."})}),o.jsxs(ut,{children:[o.jsx(Se,{value:"__none__",children:"None"}),E.map(M=>o.jsxs(Se,{value:M.name,children:[M.name,M.category&&o.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",M.category,")"]})]},M.id))]})]})]}),o.jsxs("div",{children:[o.jsx(Me,{className:"mb-1",children:"Point Person"}),o.jsxs(xt,{value:k.point_person_id||"__unassigned__",onValueChange:M=>A({...k,point_person_id:M==="__unassigned__"?"":M}),children:[o.jsx(ct,{children:o.jsx(St,{})}),o.jsxs(ut,{children:[o.jsx(Se,{value:"__unassigned__",children:"Unassigned"}),l.map(M=>o.jsxs(Se,{value:M.id,children:[M.full_name," (",M.email,")"]},M.id))]})]})]}),o.jsxs("div",{children:[o.jsx(Me,{className:"mb-1",children:"Notes"}),o.jsx(li,{value:k.notes,onChange:M=>A({...k,notes:M.target.value}),rows:2,placeholder:"Additional notes or context..."})]}),o.jsxs(na,{children:[o.jsx(ve,{type:"button",onClick:V,variant:"outline",disabled:u,children:"Back to Templates"}),o.jsx(ve,{type:"submit",disabled:u,children:u?"Creating...":"Create Entry"})]})]})]})})})}function Yv({workstream:e,isAdmin:t=!1,onBack:n}){const a=wa(),[i,l]=g.useState(!1),[u,d]=g.useState(!1),[h,m]=g.useState(null),[y,p]=g.useState(null),b=()=>{n?n():a(-1)},{data:w=[]}=Gh(),{data:S}=gx({enabled:t}),_=S?.clients||[],j=W7(),C=Y7(),E=Q7(),k=G7(),A=e.entries||[],L=e.vertical_rollups||[],P=A.length,T=e.overall_status||"green",z=async J=>{try{await j.mutateAsync(J),me.success("Entry created successfully"),l(!1)}catch(R){me.error(R.message||"Failed to create entry")}},Z=async J=>{if(h)try{await C.mutateAsync({id:h.id,data:J}),me.success("Entry updated successfully"),d(!1),m(null)}catch(R){me.error(R.message||"Failed to update entry")}},V=J=>{m(J),d(!0)},H=J=>{p(J)},K=async(J,R)=>{try{await C.mutateAsync({id:J.id,data:{status:R}}),me.success("Status updated")}catch(U){me.error(U.message||"Failed to update status")}},M=async J=>{try{await k.mutateAsync({workstream_id:e.id,template_ids:J}),me.success(`Added ${J.length} entries successfully`),l(!1)}catch(R){me.error(R.message||"Failed to add entries")}},Y=()=>{d(!1),m(null)};return o.jsxs("div",{className:"space-y-6 p-4",children:[t&&o.jsxs(ve,{variant:"ghost",size:"sm",onClick:b,className:"text-primary",children:[o.jsx(UC,{className:"h-4 w-4"}),"Back to Client Workstreams"]}),o.jsxs("div",{className:"bg-card border border-border rounded-lg p-5 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-lg font-semibold text-foreground",children:[e.organization?.name," - Workstream"]}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[P," entr",P!==1?"ies":"y"," across ",L.length," verticals"]})]}),t&&o.jsxs(ve,{size:"sm",onClick:()=>l(!0),children:[o.jsx(Ia,{className:"h-3.5 w-3.5 mr-1.5"}),"Add Entries"]})]}),o.jsx(IV,{overallStatus:T,verticalRollups:L,totalEntries:P})]}),o.jsx("div",{children:o.jsx(UV,{entries:A,verticals:w,verticalRollups:L,isAdmin:t,onEditEntry:V,onDeleteEntry:H,onStatusChange:K,emptyMessage:t?'No entries yet. Click "Add Entries" to get started.':"No entries have been added to your workstream yet."})}),t&&o.jsxs(o.Fragment,{children:[o.jsx(VV,{isOpen:i,onClose:()=>l(!1),onBulkAdd:M,onCreateCustom:z,workstreamId:e.id,users:_,isSubmitting:k.isPending||j.isPending}),o.jsx($V,{isOpen:u,onClose:Y,onSubmit:Z,entry:h,workstreamId:e.id,verticals:w,users:_,isSubmitting:C.isPending})]}),o.jsx(co,{open:!!y,onOpenChange:J=>{J||p(null)},title:"Delete Entry",description:`Are you sure you want to delete "${y?.name}"?`,confirmLabel:"Delete",variant:"destructive",onConfirm:async()=>{if(y)try{await E.mutateAsync(y.id),me.success("Entry deleted successfully")}catch(J){me.error(J.message||"Failed to delete entry")}finally{p(null)}}})]})}var em="Tabs",[KV]=br(em,[Th]),UT=Th(),[WV,Ox]=KV(em),IT=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:a,onValueChange:i,defaultValue:l,orientation:u="horizontal",dir:d,activationMode:h="automatic",...m}=e,y=Eu(d),[p,b]=ta({prop:a,onChange:i,defaultProp:l??"",caller:em});return o.jsx(WV,{scope:n,baseId:Mr(),value:p,onValueChange:b,orientation:u,dir:y,activationMode:h,children:o.jsx(Ke.div,{dir:y,"data-orientation":u,...m,ref:t})})});IT.displayName=em;var $T="TabsList",FT=g.forwardRef((e,t)=>{const{__scopeTabs:n,loop:a=!0,...i}=e,l=Ox($T,n),u=UT(n);return o.jsx(PE,{asChild:!0,...u,orientation:l.orientation,dir:l.dir,loop:a,children:o.jsx(Ke.div,{role:"tablist","aria-orientation":l.orientation,...i,ref:t})})});FT.displayName=$T;var BT="TabsTrigger",qT=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:a,disabled:i=!1,...l}=e,u=Ox(BT,n),d=UT(n),h=KT(u.baseId,a),m=WT(u.baseId,a),y=a===u.value;return o.jsx(LE,{asChild:!0,...d,focusable:!i,active:y,children:o.jsx(Ke.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":m,"data-state":y?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:h,...l,ref:t,onMouseDown:Ee(e.onMouseDown,p=>{!i&&p.button===0&&p.ctrlKey===!1?u.onValueChange(a):p.preventDefault()}),onKeyDown:Ee(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&u.onValueChange(a)}),onFocus:Ee(e.onFocus,()=>{const p=u.activationMode!=="manual";!y&&!i&&p&&u.onValueChange(a)})})})});qT.displayName=BT;var HT="TabsContent",VT=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:a,forceMount:i,children:l,...u}=e,d=Ox(HT,n),h=KT(d.baseId,a),m=WT(d.baseId,a),y=a===d.value,p=g.useRef(y);return g.useEffect(()=>{const b=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(b)},[]),o.jsx(zr,{present:i||y,children:({present:b})=>o.jsx(Ke.div,{"data-state":y?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":h,hidden:!b,id:m,tabIndex:0,...u,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:b&&l})})});VT.displayName=HT;function KT(e,t){return`${e}-trigger-${t}`}function WT(e,t){return`${e}-content-${t}`}var GV=IT,GT=FT,YT=qT,QT=VT;const XT=GV,Dx=g.forwardRef(({className:e,...t},n)=>o.jsx(GT,{ref:n,className:Ce("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));Dx.displayName=GT.displayName;const Wi=g.forwardRef(({className:e,...t},n)=>o.jsx(YT,{ref:n,className:Ce("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));Wi.displayName=YT.displayName;const Gi=g.forwardRef(({className:e,...t},n)=>o.jsx(QT,{ref:n,className:Ce("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Gi.displayName=QT.displayName;function YV(){const{profile:e,isLoading:t}=qa(),n=["admin","manager"].includes(e?.role||""),[a,i]=g.useState("templates"),[l,u]=g.useState(null),{data:d=[],isLoading:h}=H7({enabled:n}),{data:m,isLoading:y}=ZR(l||"",n&&!!l),{data:p,isLoading:b}=V7(e?.org_id||"",!n&&!!e?.org_id),{data:w}=gx({enabled:n}),S=w?.clients||[],_=Array.from(new Map(S.map(j=>[j.org_id,{id:j.org_id,name:j.organizations?.name||""}])).values());if(t)return o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})});if(n){const j=d.length,C=d.filter(k=>k.overall_status==="red").length,E=d.filter(k=>k.overall_status==="green").length;return o.jsxs(XT,{value:a,onValueChange:k=>{i(k),u(null)},className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:[o.jsxs("div",{className:"flex-shrink-0 bg-card border-b border-border shadow-sm",children:[o.jsx("div",{className:"px-8 py-4 flex items-center justify-between",children:o.jsxs("div",{children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Uc,{className:"w-6 h-6 text-primary"}),o.jsx("h1",{className:"text-xl font-semibold tracking-tight text-foreground",children:"Workstreams"})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage workstream templates and client workstreams"})]})}),o.jsx("div",{className:"px-8",children:o.jsxs(Dx,{className:"h-auto rounded-none bg-transparent border-b-0 p-0 gap-6",children:[o.jsx(Wi,{className:"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-transparent data-[state=active]:shadow-none data-[state=active]:text-primary px-1 py-3 font-medium",value:"templates",children:"Templates Library"}),o.jsx(Wi,{className:"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-transparent data-[state=active]:shadow-none data-[state=active]:text-primary px-1 py-3 font-medium",value:"workstreams",children:"Client Workstreams"})]})})]}),o.jsxs("div",{className:"flex-1 overflow-auto p-8",children:[o.jsx(Gi,{value:"templates",className:"mt-0",children:o.jsx(AV,{})}),o.jsxs(Gi,{value:"workstreams",className:"mt-0",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsx(La,{className:"relative before:absolute before:top-0 before:left-0 before:right-0 before:h-1 before:bg-howard-evergreen before:rounded-t-xl",children:o.jsx(hs,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-howard-evergreen/10 rounded-lg flex items-center justify-center",children:o.jsx(Uc,{className:"w-5 h-5 text-howard-evergreen"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-foreground",children:j}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Workstreams"})]})]})})}),o.jsx(La,{className:"relative before:absolute before:top-0 before:left-0 before:right-0 before:h-1 before:bg-red-500 before:rounded-t-xl",children:o.jsx(hs,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-red-500/10 rounded-lg flex items-center justify-center",children:o.jsx(by,{className:"w-5 h-5 text-red-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-foreground",children:C}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Issues/Blocked"})]})]})})}),o.jsx(La,{className:"relative before:absolute before:top-0 before:left-0 before:right-0 before:h-1 before:bg-green-500 before:rounded-t-xl",children:o.jsx(hs,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-green-500/10 rounded-lg flex items-center justify-center",children:o.jsx(jv,{className:"w-5 h-5 text-green-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-foreground",children:E}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"On Track"})]})]})})})]}),l?y?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading workstream..."})]})}):m?o.jsx(Yv,{workstream:m,isAdmin:!0,onBack:()=>u(null)}):null:o.jsx(LV,{workstreams:d,organizations:_,loading:h,onSelectWorkstream:k=>u(k)})]})]})]})}return b?o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading your workstream..."})]})}):p?o.jsx(Yv,{workstream:p,isAdmin:!1}):o.jsxs("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:[o.jsx("div",{className:"flex-shrink-0 bg-card border-b border-border shadow-sm",children:o.jsx("div",{className:"px-8 py-4",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Uc,{className:"w-6 h-6 text-primary"}),o.jsx("h1",{className:"text-xl font-semibold tracking-tight text-foreground",children:"Your Workstream"})]})})}),o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(Uc,{className:"h-16 w-16 mx-auto mb-4 text-border"}),o.jsx("p",{className:"text-lg font-medium text-foreground",children:"No workstream assigned"}),o.jsx("p",{className:"text-sm mt-2",children:"Your workstream hasn't been set up yet. Please contact your administrator."})]})})]})}function QV(){const t=XD().id,{profile:n,isLoading:a}=qa(),i=["admin","manager"].includes(n?.role||""),{data:l,isLoading:u,error:d}=ZR(t,!a);return a||u?o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading workstream..."})]})}):d||!l?o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-lg font-medium text-red-600",children:"Workstream not found"}),o.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"The workstream you're looking for doesn't exist or you don't have access to it."})]})}):o.jsx(Yv,{workstream:l,isAdmin:i})}const XV={default:"",secondary:"",destructive:"",outline:"","role-admin":"bg-howard-ink text-howard-parchment border-transparent","role-manager":"bg-howard-ink/80 text-howard-parchment border-transparent","role-user":"bg-howard-slate text-howard-parchment border-transparent","role-client":"bg-howard-slate/20 text-howard-slate border-transparent","role-client_no_access":"bg-muted text-muted-foreground border-transparent","status-active":"bg-primary/10 text-primary border-primary/20","status-inactive":"bg-muted text-muted-foreground border-transparent","status-pending":"bg-amber-50 text-amber-700 border-amber-200","priority-high":"bg-destructive/10 text-destructive border-destructive/20","priority-medium":"bg-amber-50 text-amber-700 border-amber-200","priority-low":"bg-muted text-muted-foreground border-transparent","workstream-on-track":"bg-primary/10 text-primary border-primary/20","workstream-at-risk":"bg-amber-50 text-amber-700 border-amber-200","workstream-behind":"bg-destructive/10 text-destructive border-destructive/20","workstream-complete":"bg-primary/15 text-primary border-primary/30 font-semibold","workstream-not-started":"bg-muted text-muted-foreground border-transparent"},JV={default:"default",secondary:"secondary",destructive:"destructive",outline:"outline"};function _l({variant:e="default",className:t,...n}){const a=JV[e]||"outline",i=XV[e];return o.jsx(Js,{variant:a,className:Ce(i,t),...n})}const g1=[{value:"client",label:"Client",icon:ps,description:"View assigned tasks, files, and workstreams"},{value:"client_no_access",label:"Contact (No Login)",icon:KC,description:"For tagging and distributions only"},{value:"user",label:"Team User",icon:IC,description:"Team member with optional org restrictions"},{value:"manager",label:"Manager",icon:vl,description:"Can manage users, clients, and most access"},{value:"admin",label:"Admin",icon:_h,description:"Full access to everything"}];function JT({isOpen:e,onClose:t,onComplete:n,orgId:a,organizations:i,allowedRoles:l}){const[u,d]=g.useState(""),[h,m]=g.useState(""),[y,p]=g.useState(""),[b,w]=g.useState("client"),[S,_]=g.useState(!1),[j,C]=g.useState(a||""),[E,k]=g.useState(!1),[A,L]=g.useState([]),[P,T]=g.useState(""),z=xn(),Z=l?g1.filter(G=>l.includes(G.value)):g1,V=["admin","manager","user"].includes(b),H=["client","client_no_access"].includes(b),K=G=>G.split("@")[0].split(/[._-]/).map(q=>q.charAt(0).toUpperCase()+q.slice(1)).join(" "),M=G=>{G.key===" "||G.key===","||G.key==="Enter"?(G.preventDefault(),Y()):G.key==="Backspace"&&P===""&&A.length>0&&L(A.slice(0,-1))},Y=()=>{const G=P.trim();if(!G)return;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(G)){me.error("Invalid email format");return}if(A.includes(G)){me.error("Email already added"),T("");return}L([...A,G]),T("")},J=G=>{L(A.filter(D=>D!==G))},R=async G=>{G.preventDefault(),_(!0);try{const{data:{user:D}}=await z.auth.getUser();if(!D)throw new Error("Not authenticated");let $=a||j;if(!$)if(V){const{data:q}=await z.from("profiles").select("org_id").eq("id",D.id).single();if(!q)throw new Error("Profile not found");$=q.org_id}else{if(!j){me.error("Please select an organization"),_(!1);return}$=j}if(E){if(A.length===0){me.error("Please add at least one email"),_(!1);return}let q=0,ae=0;const de=[];for(const pe of A)try{const ie=K(pe),ge=await Yn("/api/users-invite",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:pe,fullName:ie,role:b,orgId:$,tempPassword:y||void 0})});if(!ge.ok){const ke=await ge.json();throw new Error(ke.error||"Failed to invite user")}q++}catch(ie){ae++,de.push(`${pe}: ${ie.message}`)}if(q>0){const pe=b==="client_no_access"?"Contacts created":"Invitations sent";me.success(`${pe} for ${q} user${q>1?"s":""}`)}ae>0&&(me.error(`Failed to invite ${ae} user${ae>1?"s":""}`),console.error("Bulk invite errors:",de)),n(),U()}else{const q=await Yn("/api/users-invite",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:u,fullName:h,role:b,orgId:$,tempPassword:y||void 0})});if(!q.ok){const de=await q.json();throw new Error(de.error||"Failed to invite user")}const ae=b==="client_no_access"?"Contact created":"Invitation sent";me.success(`${ae} for ${u}`),n(),U()}}catch(D){console.error("Error inviting user:",D),me.error(D.message||"Failed to invite user")}finally{_(!1)}},U=()=>{d(""),m(""),p(""),w("client"),C(a||""),k(!1),L([]),T("")},F=()=>{U(),t()},X=Z.find(G=>G.value===b);return o.jsx(Ur,{open:e,onOpenChange:G=>{G||F()},children:o.jsxs(wr,{className:"sm:max-w-lg max-h-[85vh] overflow-y-auto",children:[o.jsx(vr,{children:o.jsx(yr,{children:"Invite New User"})}),o.jsxs("form",{onSubmit:R,className:"space-y-5",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg border",children:[o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"bulkMode",className:"font-medium",children:"Bulk Invite Mode"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Invite multiple users with the same settings"})]}),o.jsx(ao,{id:"bulkMode",checked:E,onCheckedChange:k,disabled:S})]}),!E&&o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"email",className:"mb-2",children:"Email Address *"}),o.jsxs("div",{className:"relative",children:[o.jsx(FC,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx(nt,{id:"email",type:"email",value:u,onChange:G=>d(G.target.value),placeholder:"user@example.com",required:!0,disabled:S,className:"pl-10"})]})]}),E&&o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"emailTags",className:"mb-2",children:"Email Addresses *"}),o.jsxs("div",{className:"min-h-[80px] p-2 border rounded-md focus-within:ring-2 focus-within:ring-ring",children:[o.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:A.map((G,D)=>o.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-primary/10 text-primary rounded-md text-sm",children:[o.jsx("span",{children:G}),o.jsx("button",{type:"button",onClick:()=>J(G),disabled:S,className:"hover:bg-primary/20 rounded-full p-0.5",children:o.jsx(ri,{className:"w-3 h-3"})})]},D))}),o.jsx(nt,{id:"emailTags",type:"email",value:P,onChange:G=>T(G.target.value),onKeyDown:M,onBlur:Y,placeholder:"Type email and press space or comma...",disabled:S,className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 p-0"})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1.5",children:"Press space, comma, or enter to add each email. Names will be auto-generated from email addresses."})]}),!E&&o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"fullName",className:"mb-2",children:"Full Name *"}),o.jsxs("div",{className:"relative",children:[o.jsx(ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx(nt,{id:"fullName",type:"text",value:h,onChange:G=>m(G.target.value),placeholder:"John Doe",required:!0,disabled:S,className:"pl-10"})]})]}),b!=="client_no_access"&&o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"tempPassword",className:"mb-2",children:"Temporary Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Wc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx(nt,{id:"tempPassword",type:"text",value:y,onChange:G=>p(G.target.value),placeholder:"Example: Welcome123!",disabled:S,className:"pl-10"})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1.5",children:"Leave blank to auto-generate. Must have: 8+ chars, uppercase, special character (!@#$...)"})]}),o.jsxs("div",{children:[o.jsxs(Me,{className:"mb-2",children:[o.jsx(_h,{className:"inline-block w-4 h-4 mr-1 mb-0.5"}),"Role *"]}),o.jsxs(xt,{value:b,onValueChange:w,disabled:S,children:[o.jsx(ct,{children:o.jsx(St,{})}),o.jsx(ut,{children:Z.map(G=>{const D=G.icon;return o.jsx(Se,{value:G.value,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(D,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{children:G.label})]})},G.value)})})]}),X&&o.jsx("p",{className:"text-xs text-muted-foreground mt-1.5",children:X.description})]}),!a&&H&&i&&i.length>0&&o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"orgSelect",className:"mb-2",children:"Organization *"}),o.jsxs(xt,{value:j||void 0,onValueChange:G=>C(G),required:!0,disabled:S,children:[o.jsx(ct,{id:"orgSelect",children:o.jsx(St,{placeholder:"Select an organization..."})}),o.jsx(ut,{children:i.map(G=>o.jsx(Se,{value:G.id,children:G.name},G.id))})]})]}),o.jsx("div",{className:"p-3 bg-primary/5 rounded-lg border border-primary/20",children:o.jsx("p",{className:"text-sm text-foreground",children:b==="client_no_access"?o.jsxs(o.Fragment,{children:[o.jsx("strong",{children:"Note:"})," ",E?"These contacts":"This contact"," will be created without login access. They can be used for tagging and email distributions."]}):o.jsxs(o.Fragment,{children:[o.jsx("strong",{children:"Note:"})," An invitation email will be sent to ",E?"each user":u||"the user"," with instructions to set up their account."]})})}),o.jsxs(na,{children:[o.jsx(ve,{type:"button",variant:"secondary",onClick:F,disabled:S,children:"Cancel"}),o.jsx(ve,{type:"submit",disabled:S,children:S?"Sending...":b==="client_no_access"?E?"Create Contacts":"Create Contact":E?"Send Invitations":"Send Invitation"})]})]})]})})}const ZV=[{value:"client",label:"Client",icon:ps},{value:"client_no_access",label:"Contact (No Login)",icon:KC},{value:"user",label:"Team User",icon:IC},{value:"manager",label:"Manager",icon:vl},{value:"admin",label:"Admin",icon:_h}];function ZT({isOpen:e,onClose:t,user:n,onComplete:a,organizations:i}){const[l,u]=g.useState(n.full_name||""),[d,h]=g.useState(n.role),[m,y]=g.useState(n.is_active),[p,b]=g.useState(null),[w,S]=g.useState(n.avatar_url),[_,j]=g.useState(!1),[C,E]=g.useState(!1),[k,A]=g.useState([]),[L,P]=g.useState(!1),[T,z]=g.useState(""),Z=g.useRef(null),V=xn();g.useEffect(()=>{e&&n.id&&H()},[e,n.id]),g.useEffect(()=>{u(n.full_name||""),h(n.role),y(n.is_active),S(n.avatar_url),b(null)},[n]);const H=async()=>{P(!0);try{const{data:G,error:D}=await V.from("user_organizations").select("id, org_id, is_primary, organization:organizations(id, name, slug)").eq("user_id",n.id).order("is_primary",{ascending:!1});!D&&G&&A(G)}catch(G){console.error("Error fetching org memberships:",G)}finally{P(!1)}},K=async()=>{if(T)try{const{error:G}=await V.from("user_organizations").insert({user_id:n.id,org_id:T,is_primary:k.length===0});if(G){if(G.code==="23505")me.error("User is already a member of this organization");else throw G;return}me.success("Organization added"),z(""),H()}catch(G){me.error(G.message||"Failed to add organization")}},M=async G=>{try{const{error:D}=await V.from("user_organizations").delete().eq("id",G);if(D)throw D;me.success("Organization removed"),H()}catch(D){me.error(D.message||"Failed to remove organization")}},Y=async G=>{try{await V.from("user_organizations").update({is_primary:!1}).eq("user_id",n.id);const{error:D}=await V.from("user_organizations").update({is_primary:!0}).eq("id",G);if(D)throw D;me.success("Primary organization updated"),H()}catch(D){me.error(D.message||"Failed to update primary organization")}},J=G=>{const D=G.target.files?.[0];if(!D)return;if(!D.type.startsWith("image/")){me.error("Please select an image file");return}if(D.size>5*1024*1024){me.error("Image must be less than 5MB");return}b(D);const $=new FileReader;$.onloadend=()=>S($.result),$.readAsDataURL(D)},R=()=>{b(null),S(null),Z.current&&(Z.current.value="")},U=async()=>{if(!p)return w;E(!0);try{const G=p.name.split(".").pop(),D=`${n.id}/avatar.${G}`,{error:$}=await V.storage.from("avatars").upload(D,p,{upsert:!0,contentType:p.type});if($)throw $;return`/api/storage-avatar?path=${encodeURIComponent(D)}`}catch(G){return console.error("Error uploading avatar:",G),me.error("Failed to upload avatar"),null}finally{E(!1)}},F=async G=>{G.preventDefault(),j(!0);try{let D=w;if(p&&(D=await U(),!D)){j(!1);return}const $=await Yn(`/api/users-update-profile?id=${n.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({full_name:l,role:d,is_active:m,avatar_url:D})});if(!$.ok){const q=await $.json();throw new Error(q.error||"Failed to update user")}me.success("User updated successfully"),a()}catch(D){console.error("Error updating user:",D),me.error(D.message||"Failed to update user")}finally{j(!1)}},X=(i||[]).filter(G=>!k.some(D=>D.org_id===G.id));return o.jsx(Ur,{open:e,onOpenChange:G=>{G||t()},children:o.jsxs(wr,{className:"sm:max-w-lg max-h-[90vh] overflow-y-auto",children:[o.jsx(vr,{children:o.jsx(yr,{children:"Edit User"})}),o.jsxs("form",{onSubmit:F,className:"space-y-5",children:[o.jsxs("div",{className:"flex flex-col items-center gap-3 pb-4 border-b border-border",children:[o.jsx(gr,{name:l||n.email,email:n.email,role:d,src:w||void 0,size:"xl"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ve,{type:"button",variant:"secondary",size:"sm",onClick:()=>Z.current?.click(),disabled:_||C,children:[o.jsx(Zi,{className:"w-4 h-4 mr-2"}),w?"Change Photo":"Upload Photo"]}),w&&o.jsxs(ve,{type:"button",variant:"ghost",size:"sm",onClick:R,disabled:_||C,children:[o.jsx(ri,{className:"w-4 h-4 mr-2"}),"Remove"]})]}),o.jsx("input",{ref:Z,type:"file",accept:"image/*",onChange:J,className:"hidden"})]}),o.jsxs("div",{children:[o.jsx(Me,{className:"mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(FC,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx(nt,{type:"email",value:n.email,disabled:!0,className:"pl-10 bg-secondary"})]})]}),o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"editFullName",className:"mb-2",children:"Full Name *"}),o.jsxs("div",{className:"relative",children:[o.jsx(ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx(nt,{id:"editFullName",type:"text",value:l,onChange:G=>u(G.target.value),placeholder:"John Doe",required:!0,disabled:_,className:"pl-10"})]})]}),o.jsxs("div",{children:[o.jsxs(Me,{className:"mb-2",children:[o.jsx(_h,{className:"inline-block w-4 h-4 mr-1 mb-0.5"}),"Role *"]}),o.jsxs(xt,{value:d,onValueChange:h,disabled:_,children:[o.jsx(ct,{children:o.jsx(St,{})}),o.jsx(ut,{children:ZV.map(G=>{const D=G.icon;return o.jsx(Se,{value:G.value,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(D,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{children:G.label})]})},G.value)})})]})]}),o.jsxs("div",{children:[o.jsxs(Me,{className:"mb-2",children:[o.jsx(Jn,{className:"inline-block w-4 h-4 mr-1 mb-0.5"}),"Organizations"]}),o.jsxs("div",{className:"space-y-2",children:[L?o.jsx("p",{className:"text-sm text-muted-foreground py-2",children:"Loading..."}):k.length===0?o.jsx("p",{className:"text-sm text-muted-foreground py-2",children:"No organization memberships"}):k.map(G=>o.jsxs("div",{className:"flex items-center justify-between p-2.5 bg-secondary rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[o.jsx(Jn,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"}),o.jsx("span",{className:"text-sm truncate",children:G.organization?.name||"Unknown"}),G.is_primary&&o.jsx(_l,{variant:"default",className:"text-[10px] px-1.5 py-0",children:"Primary"})]}),o.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[!G.is_primary&&o.jsx(ve,{type:"button",variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:()=>Y(G.id),children:"Set Primary"}),o.jsx(ve,{type:"button",variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>M(G.id),children:o.jsx(ri,{className:"w-3.5 h-3.5 text-muted-foreground"})})]})]},G.id)),X.length>0&&o.jsxs("div",{className:"flex gap-2 mt-2",children:[o.jsxs(xt,{value:T||void 0,onValueChange:z,children:[o.jsx(ct,{className:"flex-1 h-9",children:o.jsx(St,{placeholder:"Add organization..."})}),o.jsx(ut,{children:X.map(G=>o.jsx(Se,{value:G.id,children:G.name},G.id))})]}),o.jsx(ve,{type:"button",variant:"secondary",size:"sm",className:"h-9",onClick:K,disabled:!T,children:o.jsx(Ia,{className:"w-4 h-4"})})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-secondary rounded-lg border border-border",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm text-foreground",children:"Account Status"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:m?"User can access the system":"User account is disabled"})]}),o.jsx(ao,{checked:m,onCheckedChange:y,disabled:_})]}),o.jsxs(na,{children:[o.jsx(ve,{type:"button",variant:"secondary",onClick:t,disabled:_||C,children:"Cancel"}),o.jsx(ve,{type:"submit",disabled:_||C,children:_||C?"Saving...":"Save Changes"})]})]})]})})}function eK({isOpen:e,onClose:t,targetOrgId:n,targetOrgName:a,currentOrgUserIds:i,onComplete:l}){const[u,d]=g.useState(""),[h,m]=g.useState([]),[y,p]=g.useState(!1),[b,w]=g.useState(!1),[S,_]=g.useState(null),j=xn(),C=async()=>{if(u.trim()){p(!0),w(!0);try{const P=u.trim().toLowerCase(),{data:T,error:z}=await j.from("profiles").select("id, email, full_name, role, is_active, avatar_url, org_id").or(`email.ilike.%${P}%,full_name.ilike.%${P}%`).eq("is_active",!0).order("full_name").limit(20);if(z)throw z;const Z=(T||[]).map(K=>K.id);let V={};if(Z.length>0){const{data:K}=await j.from("user_organizations").select("user_id, org_id, organization:organizations(id, name)").in("user_id",Z);if(K)for(const M of K)V[M.user_id]||(V[M.user_id]=[]),V[M.user_id].push({org_id:M.org_id,name:M.organization?.name||"Unknown"})}const H=(T||[]).map(K=>({...K,user_orgs:V[K.id]||[]}));m(H)}catch(P){console.error("Search error:",P),me.error("Failed to search users")}finally{p(!1)}}},E=async P=>{_(P.id);try{const{error:T}=await j.from("user_organizations").insert({user_id:P.id,org_id:n,is_primary:!1});if(T)if(T.code==="23505")me.error("User is already a member of this organization");else throw T;else me.success(`${P.full_name||P.email} added to ${a}`),m(z=>z.filter(Z=>Z.id!==P.id)),l()}catch(T){console.error("Error adding user:",T),me.error(T.message||"Failed to add user")}finally{_(null)}},k=g.useMemo(()=>h.filter(P=>!i.includes(P.id)),[h,i]),A=g.useMemo(()=>h.filter(P=>i.includes(P.id)),[h,i]),L=()=>{d(""),m([]),w(!1),t()};return o.jsx(Ur,{open:e,onOpenChange:P=>{P||L()},children:o.jsxs(wr,{className:"sm:max-w-lg",children:[o.jsx(vr,{children:o.jsx(yr,{children:"Add existing user"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Search for an existing user to add to ",o.jsx("span",{className:"font-medium text-foreground",children:a}),". Users can belong to multiple organizations."]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(io,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(nt,{type:"text",value:u,onChange:P=>d(P.target.value),onKeyDown:P=>{P.key==="Enter"&&C()},placeholder:"Search by name or email...",className:"pl-9",autoFocus:!0})]}),o.jsx(ve,{onClick:C,disabled:y||!u.trim(),children:y?o.jsx(Bt,{className:"w-4 h-4 animate-spin"}):"Search"})]}),o.jsx("div",{className:"max-h-80 overflow-y-auto",children:y?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(Bt,{className:"w-6 h-6 text-primary animate-spin"})}):b&&k.length===0&&A.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:["No users found matching ",u,""]})}):o.jsxs("div",{className:"space-y-1",children:[k.map(P=>o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-secondary transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[o.jsx(gr,{name:P.full_name||P.email,email:P.email,src:P.avatar_url||void 0,role:P.role,size:"md"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:P.full_name||P.email}),o.jsx("p",{className:"text-xs text-muted-foreground truncate",children:P.email}),o.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5 flex-wrap",children:[o.jsx(_l,{variant:`role-${P.role}`,children:P.role}),P.user_orgs.map(T=>o.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded-full bg-primary/10 text-primary text-[10px] font-medium",children:T.name},T.org_id))]})]})]}),o.jsx(ve,{variant:"outline",size:"sm",onClick:()=>E(P),disabled:S===P.id,children:S===P.id?o.jsx(Bt,{className:"w-4 h-4 animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx(Ia,{className:"w-4 h-4 mr-1"}),"Add"]})})]},P.id)),A.length>0&&o.jsxs(o.Fragment,{children:[k.length>0&&o.jsx("div",{className:"border-t border-border my-2"}),A.map(P=>o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg opacity-50",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[o.jsx(gr,{name:P.full_name||P.email,email:P.email,src:P.avatar_url||void 0,role:P.role,size:"md"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:P.full_name||P.email}),o.jsx("p",{className:"text-xs text-muted-foreground truncate",children:P.email})]})]}),o.jsx("span",{className:"text-xs text-muted-foreground px-2 py-1 bg-secondary rounded",children:"Already in org"})]},P.id))]})]})})]}),o.jsx(na,{children:o.jsx(ve,{variant:"ghost",onClick:L,children:"Done"})})]})})}function tK({orgId:e,orgName:t,userRole:n,currentProfile:a,onDataChanged:i}){const l=xn(),[u,d]=g.useState([]),[h,m]=g.useState(!0),[y,p]=g.useState(null),[b,w]=g.useState(!1),[S,_]=g.useState(!1),[j,C]=g.useState(!1),[E,k]=g.useState(null),A=["admin","manager"].includes(n),L=n==="client",P=n==="client_no_access",T=a?{role:n}:null,z=N7(T),Z=JR(T);g.useEffect(()=>{V()},[e]);const V=async()=>{m(!0);try{const{data:R,error:U}=await l.from("user_organizations").select(`
          user_id,
          profiles!inner(id, email, full_name, role, is_active, avatar_url, dashboard_iframe_url, created_at, org_id)
        `).eq("org_id",e);if(U)throw U;const F=(R||[]).map(X=>({...X.profiles}));F.sort((X,G)=>new Date(G.created_at).getTime()-new Date(X.created_at).getTime()),d(F)}catch(R){console.error("Error loading org users:",R),me.error("Failed to load users")}finally{m(!1)}},H=async R=>{p(R.id);try{const{error:U}=await l.from("profiles").update({is_active:!1}).eq("id",R.id);if(U)throw U;me.success("User deactivated"),V()}catch(U){console.error("Error deactivating user:",U),me.error(U.message||"Failed to deactivate user")}finally{p(null)}},K=R=>{k(R),_(!0)},M=()=>{w(!1),V(),i()},Y=()=>{V(),i()},J=()=>{_(!1),k(null),V()};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Manage users in ",t]}),o.jsxs("div",{className:"flex items-center gap-2",children:[A&&o.jsxs(ve,{variant:"outline",size:"sm",onClick:()=>C(!0),children:[o.jsx(io,{className:"w-4 h-4 mr-2"}),"Add Existing"]}),z&&o.jsxs(ve,{size:"sm",onClick:()=>w(!0),children:[o.jsx(VC,{className:"w-4 h-4 mr-2"}),"Invite User"]})]})]}),h?o.jsx("div",{className:"flex justify-center py-6",children:o.jsx(Bt,{className:"w-6 h-6 text-primary animate-spin"})}):u.length===0?o.jsx("div",{className:"text-center py-6",children:o.jsx("p",{className:"text-sm text-muted-foreground",children:"No users in this organization"})}):o.jsxs(yu,{children:[o.jsx(Jh,{children:o.jsxs(ei,{children:[o.jsx(Gn,{children:"Name"}),o.jsx(Gn,{children:"Role"}),o.jsx(Gn,{children:"Status"}),!P&&o.jsx(Gn,{className:"w-[80px]"})]})}),o.jsx(xu,{children:u.map(R=>o.jsxs(ei,{children:[o.jsx(On,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(gr,{name:R.full_name||R.email,email:R.email,src:R.avatar_url||void 0,role:R.role,size:"sm"}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:R.full_name||R.email}),o.jsx("p",{className:"text-xs text-muted-foreground truncate",children:R.email})]})]})}),o.jsx(On,{children:o.jsx(_l,{variant:`role-${R.role}`,children:R.role})}),o.jsx(On,{children:o.jsx(_l,{variant:R.is_active?"status-active":"status-inactive",children:R.is_active?"Active":"Inactive"})}),!P&&o.jsx(On,{children:o.jsxs("div",{className:"flex items-center gap-1",children:[(A||L&&["client","client_no_access"].includes(R.role))&&o.jsx(ve,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>K(R),children:o.jsx(qC,{className:"w-3.5 h-3.5"})}),A&&o.jsx(ve,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>H(R),disabled:y===R.id,children:o.jsx(Qi,{className:"w-3.5 h-3.5 text-destructive"})})]})})]},R.id))})]})]}),o.jsx(JT,{isOpen:b,onClose:()=>w(!1),onComplete:M,orgId:e,allowedRoles:Z.map(R=>R)}),E&&o.jsx(ZT,{isOpen:S,onClose:()=>{_(!1),k(null)},user:E,onComplete:J}),A&&o.jsx(eK,{isOpen:j,onClose:()=>C(!1),targetOrgId:e,targetOrgName:t,currentOrgUserIds:u.map(R=>R.id),onComplete:Y})]})}function nK({isOpen:e,onClose:t,onComplete:n}){const[a,i]=g.useState(""),[l,u]=g.useState(!1),d=xn(),h=async y=>{if(y.preventDefault(),!a.trim()){me.error("Organization name is required");return}u(!0);try{const p=a.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""),{error:b}=await d.from("organizations").insert({name:a.trim(),slug:p});if(b)throw b;me.success("Organization created successfully"),i(""),n()}catch(p){console.error("Error creating organization:",p),me.error(p.message||"Failed to create organization")}finally{u(!1)}},m=()=>{i(""),t()};return o.jsx(Ur,{open:e,onOpenChange:y=>{y||m()},children:o.jsxs(wr,{className:"sm:max-w-lg",children:[o.jsx(vr,{children:o.jsx(yr,{children:"Create New Organization"})}),o.jsxs("form",{onSubmit:h,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"orgName",className:"mb-2",children:"Organization Name *"}),o.jsx(nt,{id:"orgName",type:"text",value:a,onChange:y=>i(y.target.value),placeholder:"e.g., Acme Corporation",required:!0,disabled:l,autoFocus:!0}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"This will be the client organization name"})]}),o.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-border",children:[o.jsx(ve,{type:"button",variant:"ghost",onClick:m,disabled:l,children:"Cancel"}),o.jsx(ve,{type:"submit",disabled:l||!a.trim(),children:l?o.jsxs(o.Fragment,{children:[o.jsx(Bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Jn,{className:"w-4 h-4 mr-2"}),"Create Organization"]})})]})]})]})})}function rK(){const{profile:e}=qa(),[t,n]=g.useState([]),[a,i]=g.useState(!0),[l,u]=g.useState(!1),[d,h]=g.useState(void 0),[m,y]=g.useState({}),[p,b]=g.useState(null),[w,S]=g.useState(null),[_,j]=g.useState(new Set),C=xn(),E=e?{id:e.id,org_id:e.org_id,role:e.role}:null,k=e?.role||"";g.useEffect(()=>{E&&A()},[e]);const A=async()=>{try{const K=["admin","manager"].includes(E?.role||"");let M=C.from("organizations").select("*").order("name");!K&&E?.org_id&&(M=M.eq("id",E.org_id));const{data:Y,error:J}=await M;if(J)throw console.error("Error fetching organizations:",J),J;const R=await Promise.all((Y||[]).map(async U=>{try{const{count:F}=await C.from("user_organizations").select("*",{count:"exact",head:!0}).eq("org_id",U.id),{count:X}=await C.from("tasks").select("*",{count:"exact",head:!0}).eq("org_id",U.id);return{...U,_count:{users:F||0,tasks:X||0}}}catch{return{...U,_count:{users:0,tasks:0}}}}));n(R),!K&&R.length===1&&h(R[0].id)}catch(K){console.error("Error loading organizations:",K),me.error("Failed to load organizations")}finally{i(!1)}},L=()=>{A()},P=()=>{u(!1),A()},T=async K=>{if(_.has(K))return;const{data:M}=await C.from("profiles").select("dashboard_iframe_url").eq("org_id",K).eq("role","client").limit(1).maybeSingle();y(Y=>({...Y,[K]:M?.dashboard_iframe_url||""})),j(Y=>new Set(Y).add(K))},z=K=>{K&&T(K)};g.useEffect(()=>{d&&T(d)},[d]);const Z=async K=>{b(K.id);try{const M=m[K.id]||"",Y=await Yn("/api/organizations-update-dashboard-url",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({orgId:K.id,dashboardUrl:M.trim()||null})});if(!Y.ok){const J=await Y.json();throw new Error(J.message||"Failed to update dashboard URL")}me.success("Dashboard URL updated for all clients in this organization")}catch(M){console.error("Error saving URL:",M),me.error(M.message||"Failed to save URL")}finally{b(null)}},V=async(K,M)=>{const Y=M.target.files?.[0];if(Y){if(!Y.type.startsWith("image/")){me.error("Please select an image file");return}if(Y.size>2*1024*1024){me.error("Image must be less than 2MB");return}S(K.id);try{const J=Y.name.split(".").pop(),R=`organizations/${K.id}/logo.${J}`,{error:U}=await C.storage.from("logos").upload(R,Y,{upsert:!0,contentType:Y.type});if(U)throw U;const F=`/api/storage-logo?path=${encodeURIComponent(R)}`,{error:X}=await C.from("organizations").update({logo_url:F}).eq("id",K.id);if(X)throw X;me.success("Logo uploaded successfully"),L()}catch(J){console.error("Logo upload error:",J),me.error(J.message||"Failed to upload logo")}finally{S(null)}}},H=["admin","manager"].includes(k);return a?o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsx(Bt,{className:"w-8 h-8 text-primary animate-spin"})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx("div",{className:"flex-shrink-0 bg-card border-b border-border shadow-sm",children:o.jsxs("div",{className:"px-8 py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Jn,{className:"w-6 h-6 text-primary"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-semibold tracking-tight text-foreground",children:"Organizations"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:H?"Manage client organizations, dashboards, and users":"Your organization"})]})]}),H&&o.jsxs(ve,{onClick:()=>u(!0),children:[o.jsx(Jn,{className:"w-4 h-4 mr-2"}),"New Organization"]})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:o.jsx("div",{className:"max-w-6xl pb-8",children:t.length===0?o.jsxs("div",{className:"text-center py-12 bg-card rounded-lg border border-border",children:[o.jsx(Jn,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"No client organizations found"})]}):o.jsx(TT,{type:"single",collapsible:!0,defaultValue:d,onValueChange:z,className:"space-y-3",children:t.map(K=>o.jsxs(Ex,{value:K.id,className:"bg-card rounded-lg border border-border shadow-sm overflow-hidden",children:[o.jsx(Nx,{className:"px-6 py-4 hover:no-underline hover:bg-muted/50",children:o.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[K.logo_url?o.jsx("img",{src:K.logo_url,alt:K.name,className:"w-10 h-10 rounded-lg object-cover"}):o.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:o.jsx(Jn,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[o.jsx("span",{className:"font-semibold text-foreground text-base",children:K.name}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[K._count?.users||0," users  ",K._count?.tasks||0," tasks"]})]})]})}),o.jsxs(kx,{className:"px-6 pb-6",children:[H&&o.jsxs("div",{className:"mb-6 p-4 bg-muted/30 rounded-lg border border-border",children:[o.jsx("h3",{className:"text-sm font-medium text-foreground mb-3",children:"Settings"}),o.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[K.logo_url?o.jsx("img",{src:K.logo_url,alt:K.name,className:"w-12 h-12 rounded-lg object-cover"}):o.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:o.jsx(Jn,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx("input",{type:"file",accept:"image/*",onChange:M=>V(K,M),disabled:w===K.id,className:"hidden",id:`logo-upload-${K.id}`}),o.jsx(ve,{type:"button",variant:"outline",size:"sm",disabled:w===K.id,onClick:()=>document.getElementById(`logo-upload-${K.id}`)?.click(),children:w===K.id?o.jsxs(o.Fragment,{children:[o.jsx(Bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Zi,{className:"w-4 h-4 mr-2"}),K.logo_url?"Change Logo":"Upload Logo"]})})]})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-[300px]",children:[o.jsx(nt,{type:"url",value:m[K.id]??"",onChange:M=>y(Y=>({...Y,[K.id]:M.target.value})),placeholder:"Dashboard URL (https://...)",disabled:p===K.id,className:"font-mono text-sm flex-1"}),o.jsx(ve,{size:"sm",onClick:()=>Z(K),disabled:p===K.id,children:p===K.id?o.jsx(Bt,{className:"w-4 h-4 animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx(wU,{className:"w-4 h-4 mr-2"}),"Save"]})})]})]})]}),o.jsx(tK,{orgId:K.id,orgName:K.name,userRole:k,currentProfile:E,onDataChanged:L})]})]},K.id))})})})]}),H&&o.jsx(nK,{isOpen:l,onClose:()=>u(!1),onComplete:P})]})}function aK(e){const t=sK(e),n=g.forwardRef((a,i)=>{const{children:l,...u}=a,d=g.Children.toArray(l),h=d.find(oK);if(h){const m=h.props.children,y=d.map(p=>p===h?g.Children.count(m)>1?g.Children.only(null):g.isValidElement(m)?m.props.children:null:p);return o.jsx(t,{...u,ref:i,children:g.isValidElement(m)?g.cloneElement(m,void 0,y):null})}return o.jsx(t,{...u,ref:i,children:l})});return n.displayName=`${e}.Slot`,n}function sK(e){const t=g.forwardRef((n,a)=>{const{children:i,...l}=n;if(g.isValidElement(i)){const u=cK(i),d=lK(l,i.props);return i.type!==g.Fragment&&(d.ref=a?Ba(a,u):u),g.cloneElement(i,d)}return g.Children.count(i)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var iK=Symbol("radix.slottable");function oK(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===iK}function lK(e,t){const n={...t};for(const a in t){const i=e[a],l=t[a];/^on[A-Z]/.test(a)?i&&l?n[a]=(...d)=>{const h=l(...d);return i(...d),h}:i&&(n[a]=i):a==="style"?n[a]={...i,...l}:a==="className"&&(n[a]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function cK(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var tm="Popover",[e2]=br(tm,[Ol]),$u=Ol(),[uK,hi]=e2(tm),t2=e=>{const{__scopePopover:t,children:n,open:a,defaultOpen:i,onOpenChange:l,modal:u=!1}=e,d=$u(t),h=g.useRef(null),[m,y]=g.useState(!1),[p,b]=ta({prop:a,defaultProp:i??!1,onChange:l,caller:tm});return o.jsx(My,{...d,children:o.jsx(uK,{scope:t,contentId:Mr(),triggerRef:h,open:p,onOpenChange:b,onOpenToggle:g.useCallback(()=>b(w=>!w),[b]),hasCustomAnchor:m,onCustomAnchorAdd:g.useCallback(()=>y(!0),[]),onCustomAnchorRemove:g.useCallback(()=>y(!1),[]),modal:u,children:n})})};t2.displayName=tm;var n2="PopoverAnchor",dK=g.forwardRef((e,t)=>{const{__scopePopover:n,...a}=e,i=hi(n2,n),l=$u(n),{onCustomAnchorAdd:u,onCustomAnchorRemove:d}=i;return g.useEffect(()=>(u(),()=>d()),[u,d]),o.jsx(Rh,{...l,...a,ref:t})});dK.displayName=n2;var r2="PopoverTrigger",a2=g.forwardRef((e,t)=>{const{__scopePopover:n,...a}=e,i=hi(r2,n),l=$u(n),u=it(t,i.triggerRef),d=o.jsx(Ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":c2(i.open),...a,ref:u,onClick:Ee(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?d:o.jsx(Rh,{asChild:!0,...l,children:d})});a2.displayName=r2;var Mx="PopoverPortal",[fK,hK]=e2(Mx,{forceMount:void 0}),s2=e=>{const{__scopePopover:t,forceMount:n,children:a,container:i}=e,l=hi(Mx,t);return o.jsx(fK,{scope:t,forceMount:n,children:o.jsx(zr,{present:n||l.open,children:o.jsx(Tu,{asChild:!0,container:i,children:a})})})};s2.displayName=Mx;var Sl="PopoverContent",i2=g.forwardRef((e,t)=>{const n=hK(Sl,e.__scopePopover),{forceMount:a=n.forceMount,...i}=e,l=hi(Sl,e.__scopePopover);return o.jsx(zr,{present:a||l.open,children:l.modal?o.jsx(pK,{...i,ref:t}):o.jsx(gK,{...i,ref:t})})});i2.displayName=Sl;var mK=aK("PopoverContent.RemoveScroll"),pK=g.forwardRef((e,t)=>{const n=hi(Sl,e.__scopePopover),a=g.useRef(null),i=it(t,a),l=g.useRef(!1);return g.useEffect(()=>{const u=a.current;if(u)return Ah(u)},[]),o.jsx(Ou,{as:mK,allowPinchZoom:!0,children:o.jsx(o2,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(e.onCloseAutoFocus,u=>{u.preventDefault(),l.current||n.triggerRef.current?.focus()}),onPointerDownOutside:Ee(e.onPointerDownOutside,u=>{const d=u.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,m=d.button===2||h;l.current=m},{checkForDefaultPrevented:!1}),onFocusOutside:Ee(e.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1})})})}),gK=g.forwardRef((e,t)=>{const n=hi(Sl,e.__scopePopover),a=g.useRef(!1),i=g.useRef(!1);return o.jsx(o2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{e.onCloseAutoFocus?.(l),l.defaultPrevented||(a.current||n.triggerRef.current?.focus(),l.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:l=>{e.onInteractOutside?.(l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=l.target;n.triggerRef.current?.contains(u)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),o2=g.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:y,...p}=e,b=hi(Sl,n),w=$u(n);return jh(),o.jsx(ku,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:l,children:o.jsx(Nu,{asChild:!0,disableOutsidePointerEvents:u,onInteractOutside:y,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:m,onDismiss:()=>b.onOpenChange(!1),children:o.jsx(Py,{"data-state":c2(b.open),role:"dialog",id:b.contentId,...w,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),l2="PopoverClose",vK=g.forwardRef((e,t)=>{const{__scopePopover:n,...a}=e,i=hi(l2,n);return o.jsx(Ke.button,{type:"button",...a,ref:t,onClick:Ee(e.onClick,()=>i.onOpenChange(!1))})});vK.displayName=l2;var yK="PopoverArrow",xK=g.forwardRef((e,t)=>{const{__scopePopover:n,...a}=e,i=$u(n);return o.jsx(Ly,{...i,...a,ref:t})});xK.displayName=yK;function c2(e){return e?"open":"closed"}var bK=t2,wK=a2,_K=s2,u2=i2;const SK=bK,jK=wK,d2=g.forwardRef(({className:e,align:t="center",sideOffset:n=4,...a},i)=>o.jsx(_K,{children:o.jsx(u2,{ref:i,align:t,sideOffset:n,className:Ce("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...a})}));d2.displayName=u2.displayName;function Cf({users:e,organizations:t,loading:n,userRole:a,onInviteUser:i,onEditUser:l,onDeactivateUser:u,onSendMagicLink:d,onUpdateUserOrgs:h,deletingUserId:m,availableRoleFilters:y,hideInvite:p}){const[b,w]=g.useState(""),[S,_]=g.useState("all"),[j,C]=g.useState("all"),[E,k]=g.useState("name"),[A,L]=g.useState("asc"),P=["admin","manager"].includes(a),T=a==="client",z=a==="client_no_access",Z=["admin","manager","client"].includes(a),V=R=>{E===R?L(U=>U==="asc"?"desc":"asc"):(k(R),L("asc"))},H=({field:R})=>E!==R?o.jsx(lU,{className:"w-3 h-3 ml-1 opacity-40"}):A==="asc"?o.jsx(cU,{className:"w-3 h-3 ml-1"}):o.jsx(oU,{className:"w-3 h-3 ml-1"}),K=g.useMemo(()=>{let R=e.filter(U=>{const F=!b||U.full_name?.toLowerCase().includes(b.toLowerCase())||U.email.toLowerCase().includes(b.toLowerCase()),X=S==="all"||U.role===S,G=j==="all"||j==="active"&&U.is_active||j==="inactive"&&!U.is_active;return F&&X&&G});return R.sort((U,F)=>{let X=0;switch(E){case"name":X=(U.full_name||U.email).localeCompare(F.full_name||F.email);break;case"role":X=U.role.localeCompare(F.role);break;case"organization":X=(U.user_orgs?.[0]?.name||"").localeCompare(F.user_orgs?.[0]?.name||"");break;case"status":X=U.is_active===F.is_active?0:U.is_active?-1:1;break;case"joined":X=new Date(U.created_at).getTime()-new Date(F.created_at).getTime();break}return A==="asc"?X:-X}),R},[e,b,S,j,E,A]),M={admin:"Admins",manager:"Managers",user:"Users",client:"Clients",client_no_access:"Contacts"},Y=y||(P?["admin","manager","user","client"]:T?["client","client_no_access"]:[]),J=Y.length>0?o.jsxs(o.Fragment,{children:[o.jsx($i,{label:"All",isActive:S==="all",onClick:()=>_("all"),size:"sm"}),Y.map(R=>o.jsx($i,{label:M[R]||R,isActive:S===R,onClick:()=>_(R),size:"sm"},R))]}):null;return o.jsxs("div",{className:"max-w-6xl space-y-4 pb-8",children:[o.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[o.jsxs("span",{children:[o.jsx("span",{className:"font-semibold text-foreground",children:e.length})," users"]}),o.jsx("span",{className:"text-border",children:"|"}),o.jsxs("span",{children:[o.jsx("span",{className:"font-semibold text-primary",children:e.filter(R=>R.is_active).length})," active"]})]}),o.jsxs("div",{className:"flex gap-3 bg-card p-4 rounded-lg border border-border items-center",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(nt,{type:"text",placeholder:"Search by name or email...",value:b,onChange:R=>w(R.target.value),className:"pl-10"}),o.jsx(io,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"})]}),J&&o.jsxs(o.Fragment,{children:[o.jsx(Xj,{label:"Role",children:J}),o.jsx(bl,{orientation:"vertical",className:"h-8"})]}),!z&&o.jsxs(o.Fragment,{children:[o.jsxs(Xj,{label:"Status",children:[o.jsx($i,{label:"All",isActive:j==="all",onClick:()=>C("all"),size:"sm"}),o.jsx($i,{label:"Active",isActive:j==="active",onClick:()=>C("active"),size:"sm"}),o.jsx($i,{label:"Inactive",isActive:j==="inactive",onClick:()=>C("inactive"),size:"sm"})]}),o.jsx(bl,{orientation:"vertical",className:"h-8"})]}),Z&&!p&&o.jsxs(ve,{size:"sm",onClick:i,children:[o.jsx(VC,{className:"w-4 h-4 mr-2"}),"Invite User"]})]}),o.jsx("div",{className:"bg-card rounded-lg border border-border overflow-hidden",children:n?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx(Bt,{className:"w-8 h-8 text-primary animate-spin"})}):K.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(vl,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:b||S!=="all"||j!=="all"?"No users match your filters":"No users yet"})]}):o.jsxs(yu,{children:[o.jsx(Jh,{children:o.jsxs(ei,{className:"bg-background",children:[o.jsx(Gn,{className:"px-4",children:o.jsxs("button",{onClick:()=>V("name"),className:"flex items-center text-xs font-semibold text-muted-foreground uppercase tracking-wider hover:text-foreground",children:["Name / Email",o.jsx(H,{field:"name"})]})}),o.jsx(Gn,{className:"px-4",children:o.jsxs("button",{onClick:()=>V("role"),className:"flex items-center text-xs font-semibold text-muted-foreground uppercase tracking-wider hover:text-foreground",children:["Role",o.jsx(H,{field:"role"})]})}),P&&o.jsx(Gn,{className:"px-4",children:o.jsxs("button",{onClick:()=>V("organization"),className:"flex items-center text-xs font-semibold text-muted-foreground uppercase tracking-wider hover:text-foreground",children:["Organization",o.jsx(H,{field:"organization"})]})}),o.jsx(Gn,{className:"px-4",children:o.jsxs("button",{onClick:()=>V("status"),className:"flex items-center text-xs font-semibold text-muted-foreground uppercase tracking-wider hover:text-foreground",children:["Status",o.jsx(H,{field:"status"})]})}),o.jsx(Gn,{className:"px-4",children:o.jsxs("button",{onClick:()=>V("joined"),className:"flex items-center text-xs font-semibold text-muted-foreground uppercase tracking-wider hover:text-foreground",children:["Joined",o.jsx(H,{field:"joined"})]})}),!z&&o.jsx(Gn,{className:"text-right px-4",children:o.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Actions"})})]})}),o.jsx(xu,{children:K.map(R=>o.jsxs(ei,{children:[o.jsx(On,{className:"px-4 py-2",children:o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsx(gr,{name:R.full_name||R.email,email:R.email,src:R.avatar_url||void 0,role:R.role,size:"sm"}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"font-medium text-foreground text-sm truncate",children:R.full_name||R.email}),o.jsx("p",{className:"text-xs text-muted-foreground truncate",children:R.email})]})]})}),o.jsx(On,{className:"px-4 py-2",children:o.jsx(_l,{variant:`role-${R.role}`,children:R.role})}),P&&o.jsx(On,{className:"px-4 py-2",children:o.jsxs(SK,{children:[o.jsx(jK,{asChild:!0,children:o.jsxs("button",{className:"flex items-center gap-1 flex-wrap max-w-[240px] min-h-[32px] px-2 py-1 rounded-md border border-border hover:bg-secondary transition-colors text-left",children:[R.user_orgs.length>0?o.jsx(o.Fragment,{children:R.user_orgs.map(U=>o.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-primary/10 text-primary text-xs font-medium",children:[U.name,o.jsx(ri,{className:"w-3 h-3 cursor-pointer hover:text-destructive",onClick:F=>{F.stopPropagation();const X=R.user_orgs.filter(G=>G.org_id!==U.org_id).map(G=>G.org_id);h(R.id,X)}})]},U.org_id))}):o.jsx("span",{className:"text-xs text-muted-foreground",children:"No orgs"}),o.jsx(Ua,{className:"w-3 h-3 text-muted-foreground ml-auto shrink-0"})]})}),o.jsx(d2,{className:"w-56 p-2",align:"start",children:o.jsx("div",{className:"space-y-1 max-h-60 overflow-y-auto",children:t.map(U=>{const F=R.user_orgs.some(X=>X.org_id===U.id);return o.jsxs("label",{className:"flex items-center gap-2 px-2 py-1.5 rounded hover:bg-secondary cursor-pointer text-sm",children:[o.jsx(Ax,{checked:F,onCheckedChange:()=>{const X=R.user_orgs.map(D=>D.org_id),G=F?X.filter(D=>D!==U.id):[...X,U.id];h(R.id,G)}}),U.name]},U.id)})})})]})}),o.jsx(On,{className:"px-4 py-2",children:o.jsx(_l,{variant:R.is_active?"status-active":"status-inactive",children:R.is_active?"Active":"Inactive"})}),o.jsx(On,{className:"px-4 py-2",children:o.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(R.created_at).toLocaleDateString()})}),!z&&o.jsx(On,{className:"px-4 py-2",children:o.jsx("div",{className:"flex items-center justify-end gap-1",children:P&&o.jsxs(o.Fragment,{children:[o.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>l(R),title:"Edit user",children:o.jsx(qC,{className:"w-4 h-4"})}),R.is_active&&o.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>d(R.id,R.email),title:"Send magic link",children:o.jsx(HC,{className:"w-4 h-4"})}),o.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>u(R),disabled:m===R.id,title:R.is_active?"Deactivate user":"Activate user",children:o.jsx(bU,{className:`w-4 h-4 ${R.is_active?"text-destructive":"text-primary"}`})})]})})})]},R.id))})]})})]})}function CK(){const{profile:e}=qa(),[t,n]=g.useState([]),[a,i]=g.useState([]),[l,u]=g.useState(!0),[d,h]=g.useState(null),[m,y]=g.useState("all"),[p,b]=g.useState(!1),[w,S]=g.useState(!1),[_,j]=g.useState(null),[C,E]=g.useState({isOpen:!1,title:"",message:"",onConfirm:async()=>{},variant:"default",confirmLabel:"Confirm"}),k=xn(),A=e?{id:e.id,org_id:e.org_id,role:e.role}:null,L=e?.role||"";g.useEffect(()=>{A&&(P(),T())},[e]);const P=async()=>{u(!0);try{const D=["admin","manager"].includes(A?.role||"");let $=k.from("profiles").select("*, organizations(id, name, slug)").order("created_at",{ascending:!1});const{data:q,error:ae}=await $;if(ae)throw ae;const{data:de}=await k.from("user_organizations").select("user_id, org_id, is_primary, organization:organizations(id, name)"),pe={};if(de)for(const ge of de)pe[ge.user_id]||(pe[ge.user_id]=[]),pe[ge.user_id].push({org_id:ge.org_id,name:ge.organization?.name||"Unknown",is_primary:ge.is_primary});const ie=(q||[]).map(ge=>({...ge,user_orgs:pe[ge.id]||[]}));n(ie)}catch(D){console.error("Error loading all users:",D),me.error("Failed to load users")}finally{u(!1)}},T=async()=>{try{const{data:D}=await k.from("organizations").select("id, name, slug").order("name");i(D||[])}catch(D){console.error("Error loading organizations:",D)}},z=()=>{b(!0)},Z=D=>{j(D),S(!0)},V=D=>{const $=D.is_active;E({isOpen:!0,title:$?"Deactivate User":"Activate User",message:$?`Are you sure you want to deactivate ${D.full_name||D.email}? They will no longer be able to log in.`:`Are you sure you want to reactivate ${D.full_name||D.email}?`,variant:$?"danger":"default",confirmLabel:$?"Deactivate":"Activate",onConfirm:async()=>{h(D.id);try{const{error:q}=await k.from("profiles").update({is_active:!$}).eq("id",D.id);if(q)throw q;me.success($?"User deactivated":"User activated"),P()}catch(q){console.error("Error updating user:",q),me.error(q.message||"Failed to update user")}finally{h(null),E(q=>({...q,isOpen:!1}))}}})},H=async(D,$)=>{try{const q=await Yn("/api/users-send-magic-link",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:D})});if(!q.ok){const ae=await q.json();throw new Error(ae.error||"Failed to send magic link")}me.success(`Magic link sent to ${$}`)}catch(q){console.error("Error sending magic link:",q),me.error(q.message||"Failed to send magic link")}},K=async(D,$)=>{try{const q=await Yn(`/api/users-update-profile?id=${D}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({org_ids:$})});if(!q.ok){const ae=await q.json();throw new Error(ae.error||"Failed to update user organizations")}me.success("User organizations updated"),P()}catch(q){console.error("Error updating user organizations:",q),me.error(q.message||"Failed to update user organizations")}},M=()=>{b(!1),P()},Y=()=>{S(!1),j(null),P()},J=["admin","manager"].includes(L),R=["client","client_no_access"].includes(L),F=JR(A?{role:L}:null),X=g.useMemo(()=>t.filter(D=>["admin","manager","user"].includes(D.role)),[t]),G=g.useMemo(()=>{const D=t.filter($=>["client","client_no_access"].includes($.role));return m==="all"?D:D.filter($=>$.user_orgs.some(q=>q.org_id===m))},[t,m]);return l&&!A?o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsx(Bt,{className:"w-8 h-8 text-primary animate-spin"})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx("div",{className:"flex-shrink-0 bg-card border-b border-border shadow-sm",children:o.jsx("div",{className:"px-8 py-4 flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(vl,{className:"w-6 h-6 text-primary"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-semibold tracking-tight text-foreground",children:"Users"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:J?"Manage all client and team users":"View users in your organization"})]})]})})}),o.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:o.jsxs(XT,{defaultValue:R?"my-team":"howard",className:"max-w-6xl",children:[o.jsx(Dx,{children:R?o.jsxs(o.Fragment,{children:[o.jsxs(Wi,{value:"my-team",children:["My Team (",G.length,")"]}),o.jsxs(Wi,{value:"howard-team",children:["Howard Team (",X.length,")"]})]}):o.jsxs(o.Fragment,{children:[o.jsxs(Wi,{value:"howard",children:["Howard Users (",X.length,")"]}),o.jsxs(Wi,{value:"clients",children:["Client Users (",G.length,")"]})]})}),R?o.jsxs(o.Fragment,{children:[o.jsx(Gi,{value:"my-team",children:o.jsx(Cf,{users:G,organizations:a,loading:l,userRole:L,onInviteUser:z,onEditUser:Z,onDeactivateUser:V,onSendMagicLink:H,onUpdateUserOrgs:K,deletingUserId:d,availableRoleFilters:["client","client_no_access"]})}),o.jsx(Gi,{value:"howard-team",children:o.jsx(Cf,{users:X,organizations:a,loading:l,userRole:L,onInviteUser:z,onEditUser:Z,onDeactivateUser:V,onSendMagicLink:H,onUpdateUserOrgs:K,deletingUserId:d,availableRoleFilters:["admin","manager","user"],hideInvite:!0})})]}):o.jsxs(o.Fragment,{children:[o.jsx(Gi,{value:"howard",children:o.jsx(Cf,{users:X,organizations:a,loading:l,userRole:L,onInviteUser:z,onEditUser:Z,onDeactivateUser:V,onSendMagicLink:H,onUpdateUserOrgs:K,deletingUserId:d,availableRoleFilters:["admin","manager","user"]})}),o.jsxs(Gi,{value:"clients",children:[o.jsx("div",{className:"mb-4",children:o.jsxs(xt,{value:m,onValueChange:y,children:[o.jsx(ct,{className:"w-[240px]",children:o.jsx(St,{placeholder:"Filter by organization"})}),o.jsxs(ut,{children:[o.jsx(Se,{value:"all",children:"All Organizations"}),a.map(D=>o.jsx(Se,{value:D.id,children:D.name},D.id))]})]})}),o.jsx(Cf,{users:G,organizations:a,loading:l,userRole:L,onInviteUser:z,onEditUser:Z,onDeactivateUser:V,onSendMagicLink:H,onUpdateUserOrgs:K,deletingUserId:d,availableRoleFilters:["client","client_no_access"]})]})]})]})})]}),o.jsx(JT,{isOpen:p,onClose:()=>b(!1),onComplete:M,organizations:a.map(D=>({id:D.id,name:D.name})),allowedRoles:F.map(D=>D),...!J&&A?.org_id?{orgId:A.org_id}:{}}),_&&o.jsx(ZT,{isOpen:w,onClose:()=>{S(!1),j(null)},user:_,onComplete:Y,organizations:a.map(D=>({id:D.id,name:D.name}))}),o.jsx(YR,{open:C.isOpen,onOpenChange:D=>{D||E($=>({...$,isOpen:!1}))},children:o.jsxs(lx,{children:[o.jsxs(cx,{children:[o.jsx(dx,{children:C.title}),o.jsx(fx,{children:C.message})]}),o.jsxs(ux,{children:[o.jsx(mx,{children:"Cancel"}),o.jsx(hx,{onClick:C.onConfirm,className:C.variant==="danger"?"bg-destructive text-destructive-foreground hover:bg-destructive/90":"",children:C.confirmLabel})]})]})})]})}function EK(){const[e]=oy(),t=xn(),[n,a]=g.useState([]),[i,l]=g.useState(""),[u,d]=g.useState(""),[h,m]=g.useState(""),[y,p]=g.useState("general_ledger"),[b,w]=g.useState(null),[S,_]=g.useState(null),[j,C]=g.useState({}),{data:E=[],isLoading:k}=Z7(),A=e9(),L=t9(),P=n9();g.useEffect(()=>{const H=new Date,K=new Date(H.getFullYear(),H.getMonth(),1),M=new Date(H.getFullYear(),H.getMonth()+1,0);d(K.toISOString().split("T")[0]),m(M.toISOString().split("T")[0])},[]),g.useEffect(()=>{e.get("connected")==="true"&&me.success("QuickBooks connected successfully");const H=e.get("error");if(H){const K={missing_params:"QuickBooks callback was missing required parameters",invalid_state:"Invalid state in QuickBooks callback",storage_failed:"Failed to save QuickBooks connection",auth_failed:"QuickBooks authentication failed"};me.error(K[H]||"QuickBooks connection error")}},[e]),g.useEffect(()=>{async function H(){const{data:K}=await t.from("organizations").select("id, name, slug").order("name");a(K||[])}H()},[]);const T=E.find(H=>H.org_id===i),z=async()=>{if(!i||!u||!h){me.error("Please select an organization and date range");return}try{const H=await P.mutateAsync({org_id:i,start_date:u,end_date:h,report_type:y});w(H)}catch{}},Z=()=>{S&&L.mutate(S,{onSettled:()=>_(null)})},V=H=>{C(K=>({...K,[H]:!K[H]}))};return o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx("div",{className:"sticky top-0 z-10 bg-card border-b border-border px-8 py-5 flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Sv,{className:"w-6 h-6 text-primary"}),o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Transactions"})]})}),o.jsx("div",{className:"flex-1 overflow-auto p-8",children:o.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[o.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-foreground mb-1.5",children:"Client Organization"}),o.jsxs("select",{value:i,onChange:H=>{l(H.target.value),w(null)},className:"w-full max-w-md px-3 py-2 rounded-md border border-border bg-background text-foreground text-sm focus:outline-none focus:ring-2 focus:ring-primary/50",children:[o.jsx("option",{value:"",children:"Select an organization..."}),n.map(H=>o.jsx("option",{value:H.id,children:H.name},H.id))]})]}),i&&o.jsx("div",{className:"flex items-center gap-3",children:k?o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Bt,{className:"w-4 h-4 animate-spin"}),"Checking connection..."]}):T?o.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-green-500/10 border border-green-500/20 rounded-md",children:[o.jsx(jv,{className:"w-4 h-4 text-green-500"}),o.jsxs("span",{className:"text-sm text-green-700 dark:text-green-400",children:["Connected to ",T.company_name||"QuickBooks"]})]}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Realm: ",T.realm_id]}),o.jsxs(ve,{variant:"ghost",size:"sm",onClick:()=>_(T.id),className:"text-destructive hover:text-destructive",children:[o.jsx(CU,{className:"w-4 h-4 mr-1"}),"Disconnect"]})]}):o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-yellow-500/10 border border-yellow-500/20 rounded-md",children:[o.jsx(by,{className:"w-4 h-4 text-yellow-500"}),o.jsx("span",{className:"text-sm text-yellow-700 dark:text-yellow-400",children:"Not connected to QuickBooks"})]}),o.jsxs(ve,{onClick:()=>A.mutate(i),disabled:A.isPending,size:"sm",children:[A.isPending?o.jsx(Bt,{className:"w-4 h-4 mr-1 animate-spin"}):o.jsx(gU,{className:"w-4 h-4 mr-1"}),"Connect QuickBooks"]})]})}),T&&o.jsxs("div",{className:"flex items-end gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-foreground mb-1.5",children:"Start Date"}),o.jsx(nt,{type:"date",value:u,onChange:H=>d(H.target.value),className:"w-44"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-foreground mb-1.5",children:"End Date"}),o.jsx(nt,{type:"date",value:h,onChange:H=>m(H.target.value),className:"w-44"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-foreground mb-1.5",children:"Report Type"}),o.jsxs("select",{value:y,onChange:H=>p(H.target.value),className:"px-3 py-2 rounded-md border border-border bg-background text-foreground text-sm focus:outline-none focus:ring-2 focus:ring-primary/50",children:[o.jsx("option",{value:"general_ledger",children:"General Ledger"}),o.jsx("option",{value:"profit_and_loss",children:"Profit & Loss"})]})]}),o.jsxs(ve,{onClick:z,disabled:P.isPending||!u||!h,children:[P.isPending?o.jsx(Bt,{className:"w-4 h-4 mr-2 animate-spin"}):o.jsx(Kc,{className:"w-4 h-4 mr-2"}),"Pull from QuickBooks"]})]})]}),E.length>0&&!i&&o.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Connected Organizations"}),o.jsx("div",{className:"space-y-2",children:E.map(H=>o.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-secondary/50 rounded-md cursor-pointer hover:bg-secondary transition-colors",onClick:()=>l(H.org_id),children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Jn,{className:"w-4 h-4 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:H.organization?.name||"Unknown Org"}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["QB Company: ",H.company_name||H.realm_id]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(jv,{className:"w-4 h-4 text-green-500"}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"Connected"})]})]},H.id))})]}),P.isPending&&o.jsxs("div",{className:"bg-card border border-border rounded-lg p-12 flex flex-col items-center justify-center gap-3",children:[o.jsx(yl,{size:"lg"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Pulling data from QuickBooks..."})]}),b&&!P.isPending&&o.jsxs("div",{className:"space-y-6",children:[b.accounts&&b.accounts.length>0&&o.jsxs("div",{className:"bg-card border border-border rounded-lg overflow-hidden",children:[o.jsxs("button",{onClick:()=>V("accounts"),className:"w-full flex items-center justify-between px-6 py-4 hover:bg-secondary/30 transition-colors",children:[o.jsxs("h2",{className:"text-lg font-semibold text-foreground",children:["Chart of Accounts (",b.accounts.length,")"]}),j.accounts?o.jsx(Ua,{className:"w-5 h-5 text-muted-foreground"}):o.jsx(ni,{className:"w-5 h-5 text-muted-foreground"})]}),j.accounts&&o.jsx("div",{className:"border-t border-border",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-secondary/50",children:[o.jsx("th",{className:"text-left px-4 py-2 font-medium text-muted-foreground",children:"Name"}),o.jsx("th",{className:"text-left px-4 py-2 font-medium text-muted-foreground",children:"Type"}),o.jsx("th",{className:"text-left px-4 py-2 font-medium text-muted-foreground",children:"Sub-Type"}),o.jsx("th",{className:"text-right px-4 py-2 font-medium text-muted-foreground",children:"Balance"}),o.jsx("th",{className:"text-left px-4 py-2 font-medium text-muted-foreground",children:"Active"})]})}),o.jsx("tbody",{className:"divide-y divide-border",children:b.accounts.map(H=>o.jsxs("tr",{className:"hover:bg-secondary/20",children:[o.jsx("td",{className:"px-4 py-2 text-foreground font-medium",children:H.FullyQualifiedName||H.Name}),o.jsx("td",{className:"px-4 py-2 text-muted-foreground",children:H.AccountType}),o.jsx("td",{className:"px-4 py-2 text-muted-foreground",children:H.AccountSubType||""}),o.jsx("td",{className:"px-4 py-2 text-foreground text-right font-mono",children:H.CurrentBalance!=null?`$${Number(H.CurrentBalance).toLocaleString("en-US",{minimumFractionDigits:2})}`:""}),o.jsx("td",{className:"px-4 py-2",children:o.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${H.Active?"bg-green-500/10 text-green-600":"bg-red-500/10 text-red-600"}`,children:H.Active?"Yes":"No"})})]},H.Id))})]})})})]}),b.report&&o.jsxs("div",{className:"bg-card border border-border rounded-lg overflow-hidden",children:[o.jsxs("button",{onClick:()=>V("report"),className:"w-full flex items-center justify-between px-6 py-4 hover:bg-secondary/30 transition-colors",children:[o.jsxs("h2",{className:"text-lg font-semibold text-foreground",children:[y==="profit_and_loss"?"Profit & Loss":"General Ledger",o.jsxs("span",{className:"ml-2 text-sm font-normal text-muted-foreground",children:[b.date_range.start_date," to ",b.date_range.end_date]})]}),j.report?o.jsx(Ua,{className:"w-5 h-5 text-muted-foreground"}):o.jsx(ni,{className:"w-5 h-5 text-muted-foreground"})]}),j.report&&o.jsx("div",{className:"border-t border-border p-6",children:o.jsx(NK,{report:b.report})})]})]}),!i&&E.length===0&&!k&&o.jsxs("div",{className:"bg-card border border-border rounded-lg p-12 text-center",children:[o.jsx(Sv,{className:"w-12 h-12 text-muted-foreground/30 mx-auto mb-4"}),o.jsx("h2",{className:"text-lg font-semibold text-foreground mb-2",children:"QuickBooks Transactions"}),o.jsx("p",{className:"text-sm text-muted-foreground max-w-md mx-auto",children:"Select a client organization above to connect their QuickBooks account and pull transaction data."})]})]})}),o.jsx(co,{open:!!S,onOpenChange:H=>!H&&_(null),title:"Disconnect QuickBooks",description:"Are you sure you want to disconnect this QuickBooks connection? You can reconnect later.",confirmLabel:"Disconnect",onConfirm:Z,variant:"destructive"})]})}function NK({report:e}){const t=e?.Columns?.Column||[],n=e?.Rows?.Row||[];return t.length===0&&n.length===0?o.jsx("p",{className:"text-sm text-muted-foreground",children:"No report data available for the selected date range."}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsx("tr",{className:"bg-secondary/50",children:t.map((a,i)=>o.jsx("th",{className:`px-4 py-2 font-medium text-muted-foreground ${a.ColType==="Money"?"text-right":"text-left"}`,children:a.ColTitle||a.ColType},i))})}),o.jsx("tbody",{className:"divide-y divide-border",children:n.map((a,i)=>o.jsx(f2,{row:a,depth:0,columnCount:t.length},i))})]})})}function f2({row:e,depth:t,columnCount:n}){if(e.type==="Section"||e.Rows){const i=e.Header?.ColData||[],l=e.Rows?.Row||[],u=e.Summary?.ColData||[];return o.jsxs(o.Fragment,{children:[i.length>0&&o.jsxs("tr",{className:"bg-secondary/30",children:[i.map((d,h)=>o.jsx("td",{className:`px-4 py-2 font-semibold text-foreground ${h===0?"":"text-right"}`,style:h===0?{paddingLeft:`${t*16+16}px`}:void 0,children:d.value||""},h)),Array.from({length:Math.max(0,n-i.length)}).map((d,h)=>o.jsx("td",{},`fill-${h}`))]}),l.map((d,h)=>o.jsx(f2,{row:d,depth:t+1,columnCount:n},h)),u.length>0&&o.jsx("tr",{className:"bg-secondary/20 font-medium",children:u.map((d,h)=>o.jsx("td",{className:`px-4 py-2 text-foreground ${h===0?"":"text-right font-mono"}`,style:h===0?{paddingLeft:`${t*16+16}px`}:void 0,children:d.value||""},h))})]})}const a=e.ColData||[];return o.jsx("tr",{className:"hover:bg-secondary/20",children:a.map((i,l)=>o.jsx("td",{className:`px-4 py-2 ${l===0?"text-foreground":"text-foreground text-right font-mono"}`,style:l===0?{paddingLeft:`${t*16+16}px`}:void 0,children:i.value||""},l))})}const kK=HM([{element:o.jsx(rU,{}),children:[{path:"/",element:o.jsx(Bc,{to:"/dashboard",replace:!0})},{element:o.jsx(kU,{}),children:[{path:"/login",element:o.jsx(IF,{})}]},{path:"/callback",element:o.jsx($F,{})},{path:"/auth/callback",element:o.jsx(Bc,{to:"/callback",replace:!0})},{path:"/dev-login",element:o.jsx(BF,{})},{path:"/dev-switch",element:o.jsx(qF,{})},{path:"/set-password",element:o.jsx(HF,{})},{element:o.jsx(zF,{}),children:[{path:"/dashboard",element:o.jsx(VF,{})},{path:"/tasks",element:o.jsx(r9,{})},{path:"/files",element:o.jsx(cV,{})},{path:"/settings",element:o.jsx(uV,{})},{path:"/workstreams",element:o.jsx(YV,{})},{path:"/workstreams/:id",element:o.jsx(QV,{})},{path:"/clients",element:o.jsx(Bc,{to:"/clients/organizations",replace:!0})},{path:"/clients/organizations",element:o.jsx(rK,{})},{path:"/clients/users",element:o.jsx(CK,{})},{path:"/tools/transactions",element:o.jsx(EK,{})}]}]}]);RO.createRoot(document.getElementById("root")).render(o.jsx(gM,{router:kK}));
